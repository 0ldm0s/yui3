<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <title>Slider MVC</title>


        <link rel="stylesheet" type="text/css" href="../util/element/src/css/element-core.css">

        <script type="text/javascript" src="http://yui.yahooapis.com/2.4.1/build/yahoo/yahoo.js"></script>
        <script type="text/javascript" src="http://yui.yahooapis.com/2.4.1/build/dom/dom.js"></script>
        <script type="text/javascript" src="http://yui.yahooapis.com/2.4.1/build/event/event.js"></script>
        <script type="text/javascript" src="http://yui.yahooapis.com/2.4.1/build/animation/animation.js"></script>
        <script type="text/javascript" src="http://yui.yahooapis.com/2.4.1/build/dragdrop/dragdrop.js"></script>
        <script type="text/javascript" src="http://yui.yahooapis.com/2.4.1/build/profiler/profiler-beta.js"></script>        

        <script type="text/javascript" src="../util/element/src/js/const.js"></script>
        <script type="text/javascript" src="../util/element/src/js/Attribute.js"></script>
        <script type="text/javascript" src="../widget/widget/src/js/WidgetAttribute.js"></script>        
        <script type="text/javascript" src="../util/element/src/js/AttributeProvider.js"></script>
        <script type="text/javascript" src="../util/element/src/js/Object.js"></script>
        <script type="text/javascript" src="../util/plugin/src/js/PluginHost.js"></script>
        <script type="text/javascript" src="../util/element/src/js/Element.js"></script>
        <script type="text/javascript" src="../widget/plugins/Mouse.js"></script>        
        <script type="text/javascript" src="../widget/widget/src/js/Widget.js"></script>
        <script type="text/javascript" src="../build/slider/slider-min.js"></script>

        <!--
        <script type="text/javascript" src="../widget/slider/src/js/SliderThumb.js"></script>
        <script type="text/javascript" src="../widget/slider/src/js/Slider.js"></script>
        -->

        <style type="text/css">
            body {
                background-color:#ccc;
            }
            
            .instruments {
                position:absolute;
                top:10px;
                left:500px;
            }

            .yui-slider {
                position:relative;
                border-width:1px;
                border-color:#999 #eee #eee #999;
                border-style:solid;
                background-color:#aaa;

                width:422px; 
                height:22px;
            }

            .yui-sliderthumb {
                position:absolute;
                border-width:1px;
                border-color:#eee #999 #999 #eee;
                border-style:solid;
                background-color:#ddd;

                top:0px;
                left:0px;

                width:20px; 
                height:20px;
            }

            .slidercontainer {
                position:absolute;
            }

            #h { top:50px; left:50px; }
            #v { top:150px; left:50px; }
            #r { top:150px; left:150px; }
        </style>
        <script type="text/javascript">
            var hSlider;
            var n = 40;

            function handle(val, div) {
                YAHOO.util.Dom.get(div).innerHTML = this.getValue();                    
            }

            function createAndRender(id) {
                hSlider = YAHOO.widget.Slider.getHorizSlider(id, id + "thumb", 0, 400, 20);
                hSlider.render();
            }

            function setup() {
                for (var i = 0; i < n; i++) {
                    var id = "h" + i;
                    var idT = id + "thumb";
                    YAHOO.util.Dom.get("h").innerHTML += '<div id="' + id + '" tabindex="-1">\n<div id="' + idT + '"></div></div>';
                }
            }

            function teardown(id) {
            }

            function dump() {
                var rpt = YAHOO.tool.Profiler.getFullReport();
                var html = "<table class='rep'><tr><th>Function</th><th>Avg</th></tr>";
                for (var fn in rpt) {
                    html += "\n<tr><td>";
                    html += fn;
                    html += "</td><td>";
                    html += rpt[fn].avg;
                    html += "</td><td>";
                    html += rpt[fn].calls;
                    html += "</td></tr>";
                }
                html += "\n</table>";
                YAHOO.util.Dom.get("output").innerHTML += html;
            }                   

            function run() {
                for (var i = 0; i < n; i++) {
                    var id = "h" + i;
                    createAndRender(id);
                }
                dump();
            }

            function run2() {
                var j = 20;
                for (var i = 0; i < 20; i++) {
                    hSlider.setValue(j*i);
                }
                dump();
            }

            YAHOO.tool.Profiler.registerFunction("window.createAndRender");
            YAHOO.tool.Profiler.registerFunction("YAHOO.widget.Slider.getHorizSlider");
            YAHOO.tool.Profiler.registerFunction("YAHOO.util.Object.prototype.init");

            // YAHOO.tool.Profiler.registerFunction("YAHOO.util.AttributeProvider.prototype.setAttributeConfig");

            YAHOO.tool.Profiler.registerFunction("YAHOO.widget.Widget.prototype.init");
            YAHOO.tool.Profiler.registerFunction("YAHOO.widget.Widget.prototype.render");
            YAHOO.tool.Profiler.registerFunction("YAHOO.widget.Slider.prototype.setValue");

            YAHOO.util.Event.onDOMReady(function() {
                setup();
                YAHOO.util.Event.on("btn", "click", run);
                YAHOO.util.Event.on("btn2", "click", run2);
            });
        </script>
    </head>
    <body class="yui-skin-sam">
        <div id="h" class="slidercontainer"></div>

        <div class="instruments">
            <button id="btn">Create</button>
            <button id="btn2">SetValue</button>
            <div id="output"></div>
        </div>
    </body>
</html>