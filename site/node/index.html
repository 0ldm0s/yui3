<?php
$title="The Node Utility";
$section="node";
$component="Node Utility";
$highlightSyntax = true;
$releasenotes = true;
include "../inc/header.inc";
?>
<div id="yui-main">
	<div class="yui-b">
		<div class="yui-ge">
			<div class="yui-u first" id="main">
			<!-- main column -->

				<h2><?php echo $component;?></h2>

				<div id="promo" class="component">
                                    <p>The <code>Node</code> Utility provides an expressive way to collect, create,  and manipulate DOM nodes.  Each <code>Node</code> instance represents an underlying DOM node, and each <code>NodeList</code> represents a collection of DOM nodes. With <code>Node</code>, you can manage classNames ("myNode.addClass('foo')") and styles ("myNode.setStyle('opacity', 0.5)"), create elements ("Y.Node.create('<div id="foo" class="foo"><p>foo</p></div>')"), and much more.</p>
					<div class="yui-g">
						<div class="yui-u first">
							<div id="jumps">
								<h4>On This Page</h4>
								<ul>
									<li><a href="#start">Getting Started</a></li>
									<li><a href="#using">Using the <?php echo $component;?></a>
										<ul class="topspace">
										<li><a href="#node-using">Using YUI.Node</a></li>
										<li><a href="#node-migration">Migration from YAHOO.util.Dom</a></li>
										</ul></li>
									<li><a href="#support">Support &amp; Community</a></li>
									<li><a href="#filingbugs">Bug Reports &amp; Feature Requests</a></li>
								</ul>
							</div>
						</div>
						<div class="yui-u">
							<?php
							include('../inc/quicklinks.inc');
							?>
						</div>
					</div>
					<div class="clear"></div>
				</div><!-- /promo -->

				<h3 id="start">Getting Started</h3>

				<h4 id="dependencies">Include Dependencies</h4>

				<p>To use <?php echo $component;?>, include the following source files in your web page with the script tag:</p>
				<textarea name="code" class="HTML" cols="60" rows="1">
				&lt;!-- Source file --&gt;
				&lt;script src=&quot;http://yui.yahooapis.com/<?php echo($yuiCurrentVersion);?>/build/yui.js&quot; type="text/javascript"&gt;&lt;/script&gt;
				</textarea>

				<?php
				include "../inc/include-notice.inc";
				?>

				<h4 id="using-node">Getting a Node</h4>
				<p>
                                <code>Node</code> is the primary method for interacting with DOM elements in YUI 3.  It works much the same as a normal HTMLElement.  The simplest way to get a <code>Node</code> instance is using your YUI instance's <code>get</code> method.
				</p>
				<p>
                                <code>Y.get</code> accepts either an existing DOM element or a selector query.  If a selector query is used, the first matching element is used.
				</p>
				<p>
                                This example demonstrates the two ways to <code>get</code> a node.
				</p>
				<textarea name="code" class="JScript" cols="60" rows="1">
                                YUI().use('node', function(Y)) {
                                    var node1 = Y.get('#main');
                                    var node2 = Y.get(document.body);
                                });
				</textarea>

				<h3 id="node-using">Using Node</h3>

				<p>This section describes how to use the <?php echo $component;?> in further detail.  It contains these subsections:</p>
				<ul class="topspace">
					<li><a href="#node-properties">Accessing Node Properties</a></li>
					<li><a href="#node-events">DOM Events</a></li>
					<li><a href="#node-methods">DOM Methods</a></li>
					<li><a href="#nodelist">NodeList</a></li>
					<li><a href="#node-query">Node Queries</a></li>
				</ul>

				<h4 id="node-properties">Accessing Node Properties</h4>

                                <p>Properties of the underlying DOM node are accessed via the <code>Y.Node</code> instance's <code>set</code> and <code>get</code> methods.  For simple property types (strings, numbers, booleans), these pass directly to/from the underlying node, but properties that normally return DOM nodes return <code>Y.Node</code> instances instead.</p>

				<p>
                                This is an example of getting and setting various properties.
				</p>
				<textarea name="code" class="JScript" cols="60" rows="1">
                                YUI().use('node', function(Y)) {
                                    var node = Y.get('#foo');
                                    var parent = node.get('parentNode'); // Node instance

                                    var html = 'I am "' + node.get('id') + '".';
                                    html += 'My parent is "' + parent.get('id') + '"';

                                    node.set('innerHTML', html);
                                });
				</textarea>

				<h4 id="node-events">DOM Events</h4>
                                <p>DOM events can be listened for using the <code>on</code> method (an alias for <code>attach</code>).</p>
                                <p>Event handlers receive a normalized event object as their argument.</p>
                                <p>Note that all fields of the event object that would normally be DOM elements are now <code>Y.Node</code> instances.</p>
				<textarea name="code" class="JScript" cols="60" rows="1">
                                YUI().use('node', function(Y)) {
                                    Y.get('#demo', on('click', function(e) {
                                        e.preventDefault();
                                        alert('event: ' + e.type + ' target: ' + e.target.get('tagName')); 
                                    });
                                });
				</textarea>


				<h4 id="node-methods">DOM Methods</h4>
                                <p>The <code>Y.Node</code> api provides all of the DOM methods you would expect, plus a few extras to help with common tasks.</p>
                                <p>As with properties and events, any methods that would normally return DOM nodes instead return <code>Y.Node</code> instances.</p>
				<textarea name="code" class="JScript" cols="60" rows="1">
                                YUI().use('node', function(Y)) {
                                    var node = Y.get('#demo');
                                    var node2 = node.appendChild(Y.get('#foo p'));
                                    node2.addClass('bar');
                                });
				</textarea>


				<h4 id="nodelist">Using NodeList</h4>
                                <p>The <code>Y.NodeList</code> provides a node-like interface for manipulating multiple nodes through a single interface.</p>
                                <p>The <code>Y.all</code> method is the simplest way to get a <code>NodeList</code>.</p>
				<textarea name="code" class="JScript" cols="60" rows="1">
                                YUI().use('node', function(Y)) {
                                    Y.all('#demo li').addClass('bar');
                                });
				</textarea>

                                <p><code>Y.Node</code> api returns <code>Y.NodeList</code> instances when the DOM would normally return a collection of elements.</p>
				<textarea name="code" class="JScript" cols="60" rows="1">
                                YUI().use('node', function(Y)) {
                                    Y.get('#demo').get('children').addClass('bar');
                                });
				</textarea>

				<h4 id="node-query">Node Queries</h4>
                                <p>Selector queries are a powerful way to test and manipulate nodes.  All <code>Y.Node</code> instances support <code>query</code>, <code>queryAll</code>, and <code>test</code>.</p>
				<textarea name="code" class="JScript" cols="60" rows="1">
                                YUI().use('node', function(Y)) {
                                    var node = Y.get('#demo');

                                    var node2 = node.query('p');
                                    node2.addClass('bar'); // adds "bar" to the first P descendant of #demo

                                    var nodeList = node.queryAll('p');
                                    nodeList.addClass('bar'); // adds "bar" to all P descendants of #demo

                                    if (node.test('.foo.bar')) { // "if node has both foo and bar classNames"
                                        node.removeClass('bar');
                                    }
                                });
				</textarea>

				<p>For more information on selector queries, see the following W3C specifications:</p> 
				<ul>
					<li><a href="http://www.w3.org/TR/css3-selectors/">CSS Level 3 Selectors</a></li>
					<li><a href="http://www.w3.org/TR/selectors-api/">Selectors API</a></li>
				</ul>

            <h3 id="node-migration">Migration Table</h3>
            <p>Most of the functionality from <code>YAHOO.util.Dom</code> is now available via <code>Node</code></p>
            <p><strong>Note</strong> In the snippets below, <code>myNode</code> is an instance of <code>Node</code>.  Methods that normally would return DOM nodes now return Node instances.</p>
            <table class="yui-table">
                <thead>
                    <tr>
                        <th>2.x (via YAHOO.util.Dom)</th>
                        <th>3.0</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Dom.addClass</td>
                        <td>myNode.addClass</td>
                    </tr>
                    <tr>
                        <td>batch</td>
                        <td>NodeList[methodName], NodeList.each, or Y.each</td>
                    </tr>
                    <tr>
                        <td>generateId</td>
                        <td>Y.guid</td>
                    </tr>
                    <tr>
                        <td>get</td>
                        <td>Y.get <strong>Note</strong> strings are now treated as selectors (e.g. "Y.get('#foo')" vs. "YAHOO.util.Dom.get('foo')")</td>
                    </tr>
                    <tr>
                        <td>getAncestorBy</td>
                        <td>myNode.ancestor</td>
                    </tr>
                    <tr>
                        <td>getAncestorByClassName</td>
                        <td>myNode.ancestor</td>
                    </tr>
                    <tr>
                        <td>getAncestorByTagName</td>
                        <td>myNode.ancestor</td>
                    </tr>
                    <tr>
                        <td>getChildren</td>
                        <td>myNode.get('children')</td>
                    </tr>
                    <tr>
                        <td>getChildrenBy</td>
                        <td>myNode.queryAll</td>
                    </tr>
                    <tr>
                        <td>getClientRegion</td>
                        <td>myNode.get('viewportRegion')</td>
                    </tr>
                    <tr>
                        <td>getDocumentHeight</td>
                        <td>myNode.get('docHeight')</td>
                    </tr>
                    <tr>
                        <td>getDocumentScrollLeft</td>
                        <td>myNode.get('docScrollX')</td>
                    </tr>
                    <tr>
                        <td>getDocumentScrollTop</td>
                        <td>myNode.get('docscrollY')</td>
                    </tr>
                    <tr>
                        <td>getDocumentWidth</td>
                        <td>myNode.get('docWidth')</td>
                    </tr>
                    <tr>
                        <td>getElementsBy</td>
                        <td>myNode.queryAll</td>
                    </tr>
                    <tr>
                        <td>getElementsByClassName</td>
                        <td>myNode.queryAll</td>
                    </tr>
                    <tr>
                        <td>getFirstChild</td>
                        <td>myNode.query</td>
                    </tr>
                    <tr>
                        <td>getFirstChildBy</td>
                        <td>myNode.query</td>
                    </tr>
                    <tr>
                        <td>getLastChild</td>
                        <td>myNode.query</td>
                    </tr>
                    <tr>
                        <td>getLastChildBy</td>
                        <td>myNode.query</td>
                    </tr>
                    <tr>
                        <td>getNextSibling</td>
                        <td>myNode.next</td>
                    </tr>
                    <tr>
                        <td>getNextSiblingBy</td>
                        <td>myNode.next</td>
                    </tr>
                    <tr>
                        <td>getPreviousSibling</td>
                        <td>myNode.previous</td>
                    </tr>
                    <tr>
                        <td>getPreviousSiblingBy</td>
                        <td>myNode.previous</td>
                    </tr>
                    <tr>
                        <td>getRegion</td>
                        <td>myNode.get('region')</td>
                    </tr>
                    <tr>
                        <td>getStyle</td>
                        <td>myNode.getStyle</td>
                    </tr>
                    <tr>
                        <td>getViewportHeight</td>
                        <td>myNode.get('winHeight')</td>
                    </tr>
                    <tr>
                        <td>getViewportWidth</td>
                        <td>myNode.get('winWidth')</td>
                    </tr>
                    <tr>
                        <td>getX</td>
                        <td>myNode.getXY</td>
                    </tr>
                    <tr>
                        <td>getY</td>
                        <td>myNode.getXY</td>
                    </tr>
                    <tr>
                        <td>getXY</td>
                        <td>myNode.getXY</td>
                    </tr>
                    <tr>
                        <td>hasClass</td>
                        <td>myNode.hasClass</td>
                    </tr>
                    <tr>
                        <td>inDocument</td>
                        <td>myNode.inDoc</td>
                    </tr>
                    <tr>
                        <td>insertAfter</td>
                        <td>TBD</td>
                    </tr>
                    <tr>
                        <td>insertBefore</td>
                        <td>TBD</td>
                    </tr>
                    <tr>
                        <td>isAncestor</td>
                        <td>myNode.contains (<strong>Note</strong> myNode.contains(myNode) === true)</td>
                    </tr>
                    <tr>
                        <td>removeClass</td>
                        <td>myNode.removeClass</td>
                    </tr>
                    <tr>
                        <td>replaceClass</td>
                        <td>myNode.replaceClass</td>
                    </tr>
                    <tr>
                        <td>setStyle</td>
                        <td>myNode.setStyle</td>
                    </tr>
                    <tr>
                        <td>setX</td>
                        <td>myNode.setXY</td>
                    </tr>
                    <tr>
                        <td>setY</td>
                        <td>myNode.setXY</td>
                    </tr>
                    <tr>
                        <td>setXY</td>
                        <td>myNode.setXY</td>
                    </tr>
                </tbody>
            </table>

<?php # include "../inc/mobileSection.inc";?>
<?php
include "../inc/support.inc";
?>
		</div>
<div class="yui-u sidebar">

	<?php
	include "../inc/cheatsheet.inc";
	?>

			<div id="examples">
<?php
	include("../inc/examplesNav/".$section.".inc");
?>
		   </div>

		<!-- delicious module -->
		<?php require('../inc/mod-delicious.inc'); ?>
		<!-- /delicious module -->


		 </div>
      </div>

</div>
</div>

<?php include "../inc/side.inc" ?>
<?php include "../inc/footer.inc" ?>




