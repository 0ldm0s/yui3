<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html debug="true">
<head>
<title>YUI 3.0</title>
<script type="text/javascript" src="../../build3x/yui/yui-debug.js"></script>
<script type="text/javascript" src="../../build3x/node/node-debug.js"></script>

<body>

<input id="button1" type="button" value="Button 1" class='button' />
<input id="button2" type="button" value="Button 2" class='button' />

<script>

(function() {

    //var Y = YUI().use('event', 'dom');
    var Y = YUI().use('node');

    Y.Event.onDOMReady(function() {
        Y.log("onDOMReady fired");
    });

    var el = Y.get('button1');
    Y.log("get got " + el);

    var f = function(e) {
        Y.log("SUB1, " + this.id + " click event facade: " + e.target);
    }

    var h =Y.on('click', f, el);

    Y.on('click', function(e) {
        Y.log("SUB2, " + this.id + " click event facade: " + e.target);
        h.detach();
        // Y.detach('click', f, el);
        // Y.Event.purgeElement(this);
    }, el);


    var ret = Y.on('click', function(e) {
        Y.log(this.id + " click event facade: " + e.target);
    }, 'button2');

    Y.log('ret: ' + Y.lang.dump(ret, 1));

    Y.on('mouseover', function(e) {
        // alert('asdf');
        Y.log(this.id + " mouseover: " + e.target);
    }, Y.Dom.getElementsByClassName('button'));

    /*

    Y.on('TEST:EVENT', function() {
        Y.log('test event subscriber success: ' + Y.array(arguments));
    });

    Y.fire('TEST:EVENT', 1, 2);

    Y.fire('asdf:asdf', 1);

    Y.fire('asdf', 1);
    */

    /*

    var obj = new Y.Event.Target();


    // test failure
    obj.subscribe('foo', function() {
        console.info(notdefined);
    });

    obj.subscribe('foo', function() {
        console.info(notdefined);
    });

    obj.subscribe('foo', function() {
        console.info('foo fired anyway!');
    });

    try {
        obj.fire('foo');
    } catch(e) {
        console.warn('fire() error: ' + Y.lang.dump(e.errors));
    }
    */

})();

</script>

</body>
</html>
