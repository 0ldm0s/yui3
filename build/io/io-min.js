YUI.add("io",function(C){var o="io:start",F="io:complete",E="io:success",U="io:failure",h="io:abort",j=C.config.win,u=C.config.doc,r=0,L={"X-Requested-With":"XMLHttpRequest"},Q={},c={},P={yid:null,flash:null},p=[],R=1,k=false;function K(Y,w){if(k===false||p.length<k){var d=g();p.push({uri:Y,id:d,cfg:w});}else{return false;}if(R===1){f();}return d;}function B(x){var d;for(var Y=0;Y<p.length;Y++){if(p[Y].id===x){d=p.splice(Y,1);var w=p.unshift(d[0]);break;}}}function f(){var Y=p.shift();e(Y.uri,Y.cfg,Y.id);}function I(Y){if(Y){k=Y;return Y;}else{return p.length;}}function a(){var Y=(p.length>k>0)?k:p.length;if(Y>1){for(var d=0;d<Y;d++){f();}}else{f();}}function S(){R=0;}function b(d){if(C.Lang.isNumber(d)){for(var Y=0;Y<p.length;Y++){if(p[Y].id===d){p.splice(Y,1);break;}}}}function e(w,AA){var AA=AA||{};var z=V((arguments.length=3)?arguments[2]:null,AA);var Y=(AA.method)?AA.method.toUpperCase():"GET";var y=(AA.data)?AA.data:null;if(AA.form){var x=s(AA.form);if(y){x+="&"+y;}if(Y==="POST"){y=x;Z("Content-Type","application/x-www-form-urlencoded");}else{if(Y==="GET"){w=l(w,x);}}}else{if(y&&Y==="GET"){w=l(w,AA.data);}else{if(y&&Y==="POST"){Z("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");}}}if(AA.xdr){if(AA.on){c[z.id]=AA.on;}if(y&&Y!=="GET"){AA.data=y;}z.c.send(w,AA,z.id,P.yid);return z;}if(AA.timeout){m(z,AA);}z.c.onreadystatechange=function(){M(z,AA);};X(z.c,Y,w);J(z.c,(AA.headers||{}));i(z,(y||""),AA);z.abort=function(){G(z,AA);};z.isInProgress=function(){return z.c.readyState!==4&&z.c.readyState!==0;};return z;}function T(d,w){var Y=new C.Event.Target().publish("transaction:"+d);Y.subscribe(w.on[d],(w.context||this),w.arguments);return Y;}function O(w,d){d.on=d.on||{};var Y;if(c[w]&&c[w].start){d.on.start=c[w].start;}C.fire(o,w);if(d.on.start){Y=T("start",d);Y.fire(w);}}function W(d,w){w.on=w.on||{};var Y;C.fire(F,d.id,d.c);if(w.on.complete){Y=T("complete",w);Y.fire(d.id,d.c);}}function q(d,w){w.on=w.on||{};var Y;if(c[d.id]&&c[d.id].success){w.on.success=c[d.id].success;delete c[d.id];d.c.responseText=decodeURI(d.c.responseText);}C.fire(E,d.id,d.c);if(w.on.success){Y=T("success",w);Y.fire(d.id,d.c);}N(d,(w.xdr)?true:false);}function H(d,w){w.on=w.on||{};var Y;if(c[d.id]&&c[d.id].failure){w.on.failure=c[d.id].failure;delete c[d.id];d.c.responseText=decodeURI(d.c.responseText);}C.fire(U,d.id,d.c);if(w.on.failure){Y=T("failure",w);Y.fire(d.id,d.c);}N(d,(w.xdr)?true:false);}function G(d,w){w.on=w.on||{};var Y;if(d&&d.c&&!w.xdr){d.c.abort();if(w){if(w.timeout){D(d.id);}}}if(c[d.id]&&c[d.id].abort){w.on.abort=c[d.id].abort;delete c[d.id];}C.fire(h,d.id);if(w.on.abort){Y=T("abort",w);Y.fire(id);}N(d,(w.xdr)?true:false);}function v(){return(j.XMLHttpRequest)?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP");}function n(w,x){var Y=C.Node.get("body");var d='<object id="yuiSwfIo" type="application/x-shockwave-flash" data="'+w+'" width="0" height="0">';d+='<param name="movie" value="'+w+'">';d+='<param name="allowScriptAccess" value="sameDomain">';d+="</object>";Y.appendChild(C.Node.create(d));P.flash=u.getElementById("yuiSwfIo");P.yid=x;}function g(){var Y=r;r++;return Y;}function V(Y,w){var d={};d.id=C.Lang.isNumber(Y)?Y:g();if(w&&w.xdr){d.c=P[w.xdr.use];}else{d.c=v();}return d;}function l(Y,w){Y+=((Y.indexOf("?")==-1)?"?":"&")+w;return Y;}function Z(Y,d){if(d){L[Y]=d;}else{delete L[Y];}}function A(Y){switch(Y.id){case"flash":n(Y.src,Y.yid);break;}}function J(w,Y){var d;for(d in L){if(L.hasOwnProperty(d)){Y[d]=L[d];}}for(d in Y){if(Y.hasOwnProperty(d)){w.setRequestHeader(d,Y[d]);}}}function X(w,Y,d){w.open(Y,d,true);}function i(w,Y,x){w.c.send(Y);O(w.id,x);}function m(Y,d){Q[Y.id]=j.setTimeout(function(){G(Y,d);},d.timeout);}function D(Y){j.clearTimeout(Q[Y]);delete Q[Y];}function M(Y,d){if(Y.c.readyState===4){if(d.timeout){D(Y.id);}W(Y,d);t(Y,d);}}function t(w,x){var Y;try{if(w.c.status&&w.c.status!==0){Y=w.c.status;}else{Y=0;}}catch(d){Y=0;}if(Y>=200&&Y<300||Y===1223){q(w,x);}else{H(w,x);}}function N(d,Y){if(j.XMLHttpRequest&&!Y){if(d.c){d.c.onreadystatechange=null;}}d.c=null;d=null;}function s(d){var AC="";var AA=(typeof d.id==="object")?d.id:u.getElementById(d.id);var AD=d.useDisabled||false;var z=encodeURIComponent;var AB,w,AE,Y;for(var y=0;y<AA.elements.length;y++){AB=AA.elements[y];Y=AB.disabled;w=AB.name;AE=AB.value;if((AD)?w:(w&&Y)){}switch(AB.type){case"select-one":case"select-multiple":for(var x=0;x<AB.options.length;x++){if(AB.options[x].selected){if(C.UA.ie){AC+=z(w)+"="+z(AB.options[x].attributes["value"].specified?AB.options[x].value:AB.options[x].text)+"&";}else{AC+=z(w)+"="+z(AB.options[x].hasAttribute("value")?AB.options[x].value:AB.options[x].text)+"&";}}}break;case"radio":case"checkbox":if(AB.checked){AC+=z(w)+"="+z(AE)+"&";}break;case"file":case undefined:case"reset":case"button":break;case"submit":default:AC+=z(w)+"="+z(AE)+"&";}}return AC.substr(0,AC.length-1);}e.start=O;e.success=q;e.failure=H;e.abort=G;e.header=Z;e.transport=A;e.queue=K;e.queue.size=I;e.queue.start=a;e.queue.stop=S;e.queue.promote=B;e.queue.purge=b;C.io=e;},"3.0.0");