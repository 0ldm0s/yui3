YUI.add("json-stringify",function(A){var O=Object.prototype.toString,J="string",L="number",I="boolean",G="object",P="array",H="regexp",N="null",B="date",R="",Q="{",D="}",C="[",M="]",K=",",E=":",F='"';A.mix(A.namespace("JSON"),{_SPECIAL_CHARS:/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,_CHARS:{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},dateToString:function(T){function S(U){return U<10?"0"+U:U;}return F+T.getUTCFullYear()+"-"+S(T.getUTCMonth()+1)+"-"+S(T.getUTCDate())+"T"+S(T.getUTCHours())+E+S(T.getUTCMinutes())+E+S(T.getUTCSeconds())+"Z"+F;},stringify:function(U,c,X){var V=A.JSON._CHARS,S=A.JSON._SPECIAL_CHARS,Z=A.Lang.isFunction(c)?c:null,T=[],f=A.JSON.dateToString;if(Z||typeof c!=="object"){c=undefined;}function b(d){if(!V[d]){V[d]="\\u"+("0000"+(+(d.charCodeAt(0))).toString(16)).slice(-4);}return V[d];}function e(d){return F+d.replace(S,b)+F;}function W(g){for(var d=T.length-1;d>=0;--d){if(T[d]===g){return true;}}return false;}function a(g,q,n){T.push(g);var r=[],m,l,p,h,s;if(q>0){if(n){for(m=g.length-1;m>=0;--m){r[m]=Y(g,m,q-1)||N;}}else{h=A.Lang.isArray(c)?c:A.Object.keys(c||g);for(m=0,l=0,p=h.length;m<p;++m){if(typeof h[m]===J){s=Y(g,h[m],q-1);if(s){r[l++]=e(h[m])+E+s;}}}r.sort();}}T.pop();return n?C+r.join(K)+M:Q+r.join(K)+D;}function Y(j,i,l){var k=A.Lang.isFunction(Z)?Z.call(j,i,j[i]):j[i],g=A.Lang.type(k);if(g===G){if(/String|Number|Boolean/.test(O.call(k))){k=k.valueOf();g=A.Lang.type(k);}}switch(g){case J:return e(k);case L:return isFinite(k)?k+R:N;case I:return k+R;case B:return f(k);case N:return N;case P:return W(k)?N:a(k,l,true);case H:case G:return W(k)?N:a(k,l);default:return undefined;}}X=X>=0?X:1/0;return Y({"":U},R,X);}});},"@VERSION@");