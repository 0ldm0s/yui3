YUI.add("widget-buttons",function(b){var j="boundingBox",i="visible",h="click",m="renderUI",g="bindUI",n="syncUI",l="button",a="button-content",f="button-wrapper",e="buttonsChange",d=b.ClassNameManager.getClassName,c=b.Node.create;function k(o){b.after(this._renderUIButtons,this,m);b.after(this._bindUIButtons,this,g);b.after(this._syncUIButtons,this,n);}k.ATTRS={buttons:{value:[{value:'<img src="http://cdn4.iconfinder.com/data/icons/sanscons/black/16x16/close.gif">',defaultFn:function(o){alert("Close was clicked");},section:b.WidgetStdMod.HEADER}],validator:b.Lang.isArray}};k.BUTTON_CLASS_NAMES={button:d(l),Content:d(a),wrapper:b.Widget.getClassName(f)};k.TEMPLATES={defaultTemplate:"<a href={href} class='"+k.BUTTON_CLASS_NAMES.button+"'><span class='"+k.BUTTON_CLASS_NAMES.Content+"'>{value}</a>",wrapper:"<span class='"+k.BUTTON_CLASS_NAMES.wrapper+"'></span>"};k.prototype={_hdBtnNode:null,_ftBtnNode:null,_buttonsArray:[],_uiHandlesButtons:[],_renderUIButtons:function(){this._removeButtonNode(true,true);this._hdBtnNode=c(k.TEMPLATES.wrapper);this._ftBtnNode=c(k.TEMPLATES.wrapper);this._createButtons();},_bindUIButtons:function(){var o=this;b.each(this._buttonsArray,function(p){o._hookEventsToButton(p);});this.after(e,this._afterButtonsChange);},_syncUIButtons:function(){if(this._hdBtnNode.hasChildNodes()){this.setStdModContent(b.WidgetStdMod.HEADER,this._hdBtnNode,b.WidgetStdMod.AFTER);}if(this._ftBtnNode.hasChildNodes()){this.setStdModContent(b.WidgetStdMod.FOOTER,this._ftBtnNode,b.WidgetStdMod.AFTER);}},_createButtons:function(){var s=this.get("buttons"),q="",p="",r,o=this;b.each(s,function(t){q=b.Lang.sub(k.TEMPLATES.defaultTemplate,{href:t.href||"#",value:t.value});r=c(q);o._buttonsArray.push({node:r,cb:t.defaultFn});if(t.section===b.WidgetStdMod.HEADER){o._hdBtnNode.appendChild(r);}else{if(t.section===b.WidgetStdMod.FOOTER){o._ftBtnNode.appendChild(r);}else{}}});return true;},_hookEventsToButton:function(p){this._uiHandlesButtons.push(p.node.on(h,p.cb));},_afterButtonsChange:function(o){this._detachEventsFromButtons();this._renderUIButtons();this._bindUIButtons();this._syncUIButtons();},_removeButtonNode:function(o,p){if(o&&this._hdBtnNode){if(this._hdBtnNode.hasChildNodes()&&this._hdBtnNode.inDoc()){this._hdBtnNode.remove();}}if(p&&this._ftBtnNode){if(this._ftBtnNode.hasChildNodes()&&this._ftBtnNode.inDoc()){this._ftBtnNode.remove();}}},_detachEventsFromButtons:function(){b.each(this._uiHandlesButtons,function(o){o.detach();});this._uiHandlesButtons=[];}};b.WidgetButtons=k;},"@VERSION@",{requires:["base-build","widget"]});