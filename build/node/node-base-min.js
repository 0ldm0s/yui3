YUI.add("node-base",function(E){var O={},L={},G={},J=Array.prototype.slice,I=".",F="nodeName",M="nodeType",B="ownerDocument",K="tagName",D="_yuid",H=function(R,P){var Q=null;this[D]=E.stamp(R);if(!this[D]){this[D]=E.guid();}O[this[D]]=R;H._instances[this[D]]=this;if(P){G[this[D]]=true;}this.addAttrs(H.ATTRS);this._initPlugins();},N=function(Q){var P=null;if(Q){P=(typeof Q==="string")?function(R){return E.Selector.test(R,Q);}:function(R){return Q(H.get(R));};}return P;};H.NAME="Node";H.re_aria=/^(?:role$|aria-)/;H.DOM_EVENTS={abort:true,blur:true,change:true,click:true,close:true,command:true,contextmenu:true,drag:true,dragstart:true,dragenter:true,dragover:true,dragleave:true,dragend:true,drop:true,dblclick:true,error:true,focus:true,keydown:true,keypress:true,keyup:true,load:true,mousedown:true,mousemove:true,mouseout:true,mouseover:true,mouseup:true,mousemultiwheel:true,mousewheel:true,submit:true,mouseenter:true,mouseleave:true,scroll:true,reset:true,resize:true,select:true,textInput:true,unload:true};E.mix(H.DOM_EVENTS,E.Env.evt.plugins);H._instances={};H.plug=function(){var P=J.call(arguments,0);P.unshift(H);E.Plugin.Host.plug.apply(E.Base,P);return H;};H.unplug=function(){var P=J.call(arguments,0);P.unshift(H);E.Plugin.Host.unplug.apply(E.Base,P);return H;};H.getDOMNode=function(P){if(P){if(P instanceof H){P=O[P[D]];}else{if(!P[F]||E.DOM.isWindow(P)){P=null;}}}return P||null;};H.scrubVal=function(S,Q,R){if(Q&&S){if(typeof S==="object"||typeof S==="function"){if(M in S||E.DOM.isWindow(S)){if(G[Q[D]]&&!Q.contains(S)){S=null;}else{S=H.get(S);}}else{if(S.item||(S[0]&&S[0][M])){S=E.all(S);}else{R=(R===undefined)?4:R;if(R>0){for(var P in S){if(S.hasOwnProperty&&S.hasOwnProperty(P)){S[P]=H.scrubVal(S[P],Q,--R);}}}}}}}else{if(S===undefined){S=Q;}}return S;};H.addMethod=function(P,R,Q){if(P&&R&&typeof R==="function"){H.prototype[P]=function(){Q=Q||this;var T=J.call(arguments),S;if(T[0]&&T[0] instanceof H){T[0]=H.getDOMNode(T[0]);}if(T[1]&&T[1] instanceof H){T[1]=H.getDOMNode(T[1]);}T.unshift(O[this[D]]);S=H.scrubVal(R.apply(Q,T),this);return S;};}else{}};H.importMethod=function(R,P,Q){if(typeof P==="string"){Q=Q||P;H.addMethod(Q,R[P],R);}else{E.each(P,function(S){H.importMethod(R,S);});}};H.get=function(R,S,Q){var P=null;if(typeof R==="string"){if(R.indexOf("doc")===0){R=E.config.doc;}else{if(R.indexOf("win")===0){R=E.config.win;}else{R=E.Selector.query(R,S,true);}}}if(R){P=H._instances[R[D]];if(!P){P=new H(R,Q);}else{if(Q){G[P[D]]=true;}}}return P;};H.create=function(){return H.get(E.DOM.create.apply(E.DOM,arguments));};H.ATTRS={text:{getter:function(){return E.DOM.getText(O[this[D]]);},setter:function(P){E.DOM.setText(O[this[D]],P);return P;}},"options":{getter:function(){return this.getElementsByTagName("option");}},"children":{getter:function(){var S=O[this[D]],R=S.children,T,Q,P;if(!R){T=S.childNodes;R=[];for(Q=0,P=T.length;Q<P;++Q){if(T[Q][K]){R[R.length]=T[Q];}}}return E.all(R);}},value:{getter:function(){return E.DOM.getValue(O[this[D]]);},setter:function(P){E.DOM.setValue(O[this[D]],P);return P;}},};H.DEFAULT_SETTER=function(P,R){var Q=O[this[D]],S;if(P.indexOf(I)>-1){S=P;P=P.split(I);E.Object.setValue(Q,P,R);}else{if(Q[P]!==undefined){Q[P]=R;}}return R;};H.DEFAULT_GETTER=function(P){var Q=O[this[D]],R;if(P.indexOf&&P.indexOf(I)>-1){R=E.Object.getValue(Q,P.split(I));}else{R=Q[P];}return R?E.Node.scrubVal(R,this):R;};H.getters={};E.augment(H,E.Event.Target);E.augment(H,E.Plugin.Host);E.mix(H.prototype,{_getClasses:function(){return[H];},toString:function(){var R="",Q=this[D]+": not bound to a node",P=O[this[D]];if(P){R+=P[F];if(P.id){R+="#"+P.id;}if(P.className){R+="."+P.className.replace(" ",".");}R+=" "+this[D];}return R||Q;},addAttrs:function(P){this._attrs=this._attrs||{};E.each(P,function(R,Q){this._attrs[Q]=R;},this);},get:function(P){var Q=this._attrs[P],R;if(Q&&Q.getter){R=Q.getter.call(this);}else{if(H.re_aria.test(P)){R=E.Node.getDOMNode(this).getAttribute(P,2);}else{R=H.DEFAULT_GETTER.apply(this,arguments);}}return R;},set:function(P,R){var Q=this._attrs[P],R;if(Q&&Q.setter){Q.setter.call(this,R);}else{if(H.re_aria.test(P)){E.Node.getDOMNode(this).setAttribute(P,R);}else{H.DEFAULT_SETTER.apply(this,arguments);}}return this;},create:H.create,compareTo:function(P){var Q=O[this[D]];if(P instanceof E.Node){P=E.Node.getDOMNode(P);}return Q===P;},inDoc:function(Q){var P=O[this[D]];Q=(Q)?H.getDOMNode(Q):P[B];if(Q.documentElement){return E.DOM.contains(Q.documentElement,P);}},getById:function(R){var Q=O[this[D]],P=E.DOM.byId(R,Q[B]);if(P&&E.DOM.contains(Q,P)){P=E.get(P);}else{P=null;}return P;},ancestor:function(P){return H.get(E.DOM.elementByAxis(O[this[D]],"parentNode",N(P)));},previous:function(Q,P){return H.get(E.DOM.elementByAxis(O[this[D]],"previousSibling",N(Q),P));},next:function(R,Q,P){return H.get(E.DOM.elementByAxis(O[this[D]],"nextSibling",N(Q),P));},query:function(P){return E.get(E.Selector.query(P,O[this[D]],true));},queryAll:function(P){return E.all(E.Selector.query(P,O[this[D]]));},test:function(P){return E.Selector.test(O[this[D]],P);},remove:function(){var P=O[this[D]];P.parentNode.removeChild(P);return this;},invoke:function(W,Q,P,V,U,T){var S=O[this[D]],R;if(Q&&Q instanceof E.Node){Q=H.getDOMNode(Q);}if(P&&P instanceof E.Node){P=H.getDOMNode(P);}R=S[W](Q,P,V,U,T);return E.Node.scrubVal(R,this);},destructor:function(){},each:function(Q,P){P=P||this;return Q.call(P,this);},item:function(P){return this;},size:function(){return O[this[D]]?1:0;},insert:function(Q,P){if(Q){if(typeof P==="number"){P=O[this[D]].childNodes[P];}if(typeof Q!=="string"){Q=E.Node.getDOMNode(Q);}if(!P||(!G[this[D]]||(typeof P!=="string"&&this.contains(P)))){E.DOM.addHTML(O[this[D]],Q,P);}}return this;},prepend:function(P){return this.insert(P,0);},append:function(P){return this.insert(P,null);},setContent:function(P){E.DOM.addHTML(O[this[D]],P,"replace");return this;},hasMethod:function(Q){var P=O[this[D]];return(P&&(typeof P==="function"));}},true);E.Node=H;E.get=E.Node.get;E.Array._diff=function(Q,P){var U=[],W=false,S,R,V,T;
outer:for(S=0,V=Q.length;S<V;S++){W=false;for(R=0,T=P.length;R<T;R++){if(Q[S]===P[R]){W=true;continue outer;}}if(!W){U[U.length]=Q[S];}}return U;};E.Array.diff=function(Q,P){return{added:E.Array._diff(P,Q),removed:E.Array._diff(Q,P)};};var A=function(Q){var R=Q.doc||E.config.doc,P=Q.nodes||[];if(typeof P==="string"){this._query=P;P=E.Selector.query(P,R);}E.stamp(this);A._instances[this[D]]=this;L[this[D]]=P;if(Q.restricted){G=this[D];}};A.NAME="NodeList";A.getDOMNodes=function(P){return L[P[D]];};A._instances=[];A.each=function(P,S,R){var Q=L[P[D]];if(Q&&Q.length){E.Array.each(Q,S,R||P);}else{}};A.addMethod=function(P,S,R){var Q=A._getTempNode();if(P&&S){A.prototype[P]=function(){var U=[],T=arguments;E.Array.each(L[this[D]],function(Z){var Y="_yuid",W=E.Node._instances[Z[Y]],X,V;if(!W){O[Q[Y]]=Z;W=Q;}X=R||W;V=S.apply(X,T);if(V!==undefined&&V!==W){U[U.length]=V;}});return U.length?U:this;};}else{}};A.importMethod=function(R,P,Q){if(typeof P==="string"){Q=Q||P;A.addMethod(P,R[P]);}else{E.each(P,function(S){A.importMethod(R,S);});}};A._getTempNode=function(){var P=A._tempNode;if(!P){P=E.Node.create("<div></div>");A._tempNode=P;}return P;};E.mix(A.prototype,{item:function(P){return E.get((L[this[D]]||[])[P]);},each:function(R,Q){var P=this;E.Array.each(L[this[D]],function(T,S){T=E.get(T);return R.call(Q||T,T,S,P);});return P;},batch:function(R,Q){var S=this,P=A._getTempNode();E.Array.each(L[this[D]],function(V,U){var T=E.Node._instances[V[D]];if(!T){O[P[D]]=V;T=P;}return R.call(Q||T,T,U,S);});return S;},some:function(R,Q){var P=this;return E.Array.some(L[this[D]],function(T,S){T=E.get(T);Q=Q||T;return R.call(Q,T,S,P);});},indexOf:function(P){return E.Array.indexOf(L[this[D]],E.Node.getDOMNode(P));},filter:function(P){return E.all(E.Selector.filter(L[this[D]],P));},modulus:function(R,Q){Q=Q||0;var P=[];A.each(this,function(T,S){if(S%R===Q){P.push(T);}});return E.all(P);},odd:function(){return this.modulus(2,1);},even:function(){return this.modulus(2);},destructor:function(){delete A._instances[this[D]];},refresh:function(){var Q,P,R=L[this[D]];if(this._query){if(L[this[D]]&&L[this[D]][0]&&L[this[D]][0].ownerDocument){Q=L[this[D]][0].ownerDocument;}L[this[D]]=E.Selector.query(this._query,Q||E.config.doc);P=E.Array.diff(R,L[this[D]]);P.added=P.added?E.all(P.added):null;P.removed=P.removed?E.all(P.removed):null;this.fire("refresh",P);}return this;},on:function(R,Q,P){P=P||this;this.batch(function(S){S.on.call(S,R,Q,P);});},after:function(R,Q,P){P=P||this;this.batch(function(S){S.after.call(S,R,Q,P);});},size:function(){return L[this[D]].length;},get:function(Q){var P=[],R=A._getTempNode();A.each(this,function(T){var S=E.Node._instances[T[D]];if(!S){O[R[D]]=T;S=R;}P[P.length]=S.get(Q);});return P;},toString:function(){var S="",R=this[D]+": not bound to any nodes",P=L[this[D]],Q;if(P&&P[0]){Q=P[0];S+=Q[F];if(Q.id){S+="#"+Q.id;}if(Q.className){S+="."+Q.className.replace(" ",".");}if(P.length>1){S+="...["+P.length+" items]";}}return S||R;}},true);A.importMethod(E.Node.prototype,["append","detach","detachAll","insert","plug","prepend","remove","set","setContent","unplug"]);E.NodeList=A;E.all=function(Q,S,P){var R=new A({nodes:Q,doc:S,restricted:P});return R;};E.Node.all=E.all;E.Array.each(["replaceChild","appendChild","insertBefore","removeChild","hasChildNodes","cloneNode","hasAttribute","removeAttribute","scrollIntoView","getElementsByTagName","focus","blur","submit","reset","select"],function(P){E.Node.prototype[P]=function(T,R,Q){var S=this.invoke(P,T,R,Q);return S;};});H.importMethod(E.DOM,["contains","setAttribute","getAttribute"]);if(!document.documentElement.hasAttribute){E.Node.prototype.hasAttribute=function(P){return E.DOM.getAttribute(E.Node.getDOMNode(this),P)!=="";};}E.NodeList.importMethod(E.Node.prototype,["getAttribute","setAttribute"]);(function(){var Q=document.createElement("div"),P="_yuid";E.stamp(Q);if(Q[P]===Q.cloneNode(true)[P]){E.Node.prototype.cloneNode=function(R){var S=E.Node.getDOMNode(this).cloneNode(R);S[P]=E.guid();return E.get(S);};}})();(function(Q){var P=["hasClass","addClass","removeClass","replaceClass","toggleClass"];Q.Node.importMethod(Q.DOM,P);Q.NodeList.importMethod(Q.Node.prototype,P);})(E);E.Node.prototype.delegate=function(U,T,P,S){S=S||this;var R=Array.prototype.slice.call(arguments,4),Q=["delegate",T,E.Node.getDOMNode(this),U,P,S];Q=Q.concat(R);return E.on.apply(E,Q);};var C=function(T){var R=E.Node._instances[T.relatedNode._yuid],Q,P,S;console.log(T,R);if(R&&R._yuievt&&R._yuievt.events[Q]){Q=T.type.substring(3);P={};for(S in T){if(T[S].nodeType){P[S]=E.get(T[S]);}else{P[S]=T[S];}}P.type=Q;R.fire(Q,P);}};E.config.doc.addEventListener("DOMAttrModified",C,0);E.config.doc.addEventListener("DOMNodeInserted",C,0);E.config.doc.addEventListener("DOMNodeRemoved",C,0);},"@VERSION@",{requires:["dom-base","base","selector"]});