YUI.add("recordset",function(C){function A(D){A.superclass.constructor.apply(this,arguments);}A.NAME="record";A.ATTRS={id:{valueFn:"_setId",writeOnce:true},data:{}};C.extend(A,C.Base,{_setId:function(){return C.guid();},initializer:function(){},destructor:function(){},getValue:function(D){if(!D){return this.get("data");}else{return this.get("data")[D];}return null;}});C.Record=A;function B(D){B.superclass.constructor.apply(this,arguments);}B.NAME="recordset";B.ATTRS={records:{value:null,setter:"_setRecords"},length:{value:0,readOnly:true}};C.extend(B,C.Base,{_setRecords:function(F){var E=[];function D(G){E.push(new C.Record({data:G}));}C.Array.each(F,D);return E;},initializer:function(){},destructor:function(){},_addRecord:function(E,D){var F=new C.Record({data:E});D=(C.Lang.isNumber(D)&&(D>-1))?D:this.get("records").length;this.get("records").splice(D,0,F);return F;},_recordsetChanged:function(D){this.fire("recordsetChangedEvent",D);},_recordAdded:function(E,D){this.fire("recordsetAddedEvent",{data:E,index:D});},_recordDeleted:function(E,D){this.fire("recordsetDeletedEvent",{data:E,index:D});},_recordsetEmptied:function(){this.fire("recordsetEmptiedEvent",{});},_recordsetUpdated:function(E,D){this.fire("recordsetUpdatedEvent",{oldRecord:E,newRecord:D});},getRecord:function(D){return this.get("records")[D];},getValuesByKey:function(F){var E=0,D=this.get("records").length,G=[];for(;E<D;E++){G.push(this.getRecord(E).getValue(F));}return G;},addRecord:function(I,F){var E,H,D,G;if(C.Lang.isArray(I)){H=[];D=(C.Lang.isNumber(F)&&(F>-1))?F:this.get("records").length;for(G=0;G<I.length;G++){E=this._addRecord(I[G],D);H.push(E);D++;}this._recordAdded(H,F);this._recordsetChanged(F);return({data:H,index:F});}else{E=this._addRecord(I,F);this._recordAdded(E,F);this._recordsetChanged(F);return({data:E,index:F});}return null;},deleteRecord:function(E,D){var G=0,F=[];E=(C.Lang.isNumber(E)&&(E>-1))?E:this.get("records").length;D=(C.Lang.isNumber(D)&&(D>0))?D:1;for(;G<D;G++){F.push(C.clone(this.get("records")[E+G]));}this.get("records").splice(E,D);if(F.length==1){this._recordDeleted(F[0],E);return({data:F[0],index:E});}else{this._recordDeleted(F,E);return({data:F,index:E});}this._recordsetChanged(E);return null;},empty:function(){this.set("records").value=[];this._recordsetEmptied();this._recordsetChanged(0);},updateRecord:function(D,E){oRecord=this.getRecord(E);this.get("records").splice(E,1,D);this._recordsetUpdated(oRecord,D);return null;}});C.Recordset=B;},"@VERSION@",{requires:["base","record"]});