YUI.add("recordset-base",function(D){var A=D.Base.create("record",D.Base,[],{_setId:function(){return D.guid();},initializer:function(E){},destructor:function(){},getValue:function(E){if(E===undefined){return this.get("data");}else{return this.get("data")[E];}return null;}},{ATTRS:{id:{valueFn:"_setId",writeOnce:true},data:{}}});D.Record=A;var B=D.ArrayList;var C=D.Base.create("recordset",D.Base,[],{initializer:function(){this.publish("add",{defaultFn:D.bind("_defAddFn",this)});this._recordsetChanged();},destructor:function(){},_defAddFn:function(G){var E=this._items.length,H=G.record,F=G.index;if(F===E){this._items.push(H);}else{this._items.splice(F,0,H);}},_changeToRecord:function(F){var E;if(F instanceof D.Record){E=F;}else{E=new D.Record({data:F});}return E;},_recordsetChanged:function(){this.on(["update","add","remove","empty"],function(){this.fire("change",{});});},_recordRemoved:function(F,E){this.fire("remove",{data:F,index:E});},_recordsetEmptied:function(){this.fire("empty",{});},_recordsetUpdated:function(H,F,E){var G={data:{updated:H,overwritten:F},index:E};this.fire("update",G);},getRecord:function(E){return this._items[E];},getRecords:function(G,F){var H=0,E=[];F=(D.Lang.isNumber(F)&&(F>0))?F:1;for(;H<F;H++){E.push(this._items[G+H]);}return E;},getLength:function(){return this.size();},getValuesByKey:function(G){var F=0,E=this._items.length,H=[];for(;F<E;F++){H.push(this._items[F].getValue(G));}return H;},add:function(J,F){var H,I=[],E,G;E=(D.Lang.isNumber(F)&&(F>-1))?F:this._items.length;if(D.Lang.isArray(J)){I=[];for(G=0;G<J.length;G++){I[G]=this._changeToRecord(J[G]);this.fire("add",{record:I[G],index:E+G});}}else{if(D.Lang.isObject(J)){this.fire("add",{record:this._changeToRecord(J),index:E});}}return this;},remove:function(F,E){var G=[];F=(D.Lang.isNumber(F)&&(F>-1))?F:(this.size()-1);E=(D.Lang.isNumber(E)&&(E>0))?E:1;G=this._items.splice(F,E);this._recordRemoved(G,F);return this;},empty:function(){this._items=[];this._recordsetEmptied();return this;},update:function(H,E){var G=[],I=[],F=0;if(D.Lang.isArray(H)){for(;F<H.length;F++){I[F]=this._changeToRecord(H[F]);G[F]=this._items[E+F];this._items[E+F]=I[F];}}else{if(D.Lang.isObject(H)){I[0]=this._changeToRecord(H);G[0]=this._items[E];this._items[E]=I[0];}}this._recordsetUpdated(I,G,E);}},{ATTRS:{records:{validator:D.Lang.isArray,getter:function(){return D.Array(this._items);},setter:function(G){var F=[];function E(H){if(H instanceof D.Record){F.push(H);}else{o=new D.Record({data:H});F.push(o);}}D.Array.each(G,E);this._items=D.Array(F);},lazyAdd:false}}});D.augment(C,B);D.Recordset=C;},"@VERSION@",{requires:["base","record","collection"]});YUI.add("recordset-sort",function(C){var A=C.ArraySort.compare;function B(D,E,F){B.superclass.constructor.apply(this,arguments);}C.mix(B,{NS:"sort",NAME:"recordsetSort",ATTRS:{lastSortProperties:{value:{field:undefined,desc:undefined,sorter:undefined}},defaultSorter:{value:function(F,D,G,H){var E=A(F.getValue(G),D.getValue(G),H);if(E===0){return A(F.get("id"),D.get("id"),H);}else{return E;}}}}});C.extend(B,C.Plugin.Base,{initializer:function(D){this.publish("sort",{defaultFn:C.bind("_defSortFn",this)});},destructor:function(D){},_defSortFn:function(D){this.set("lastSortProperties",D);this.get("host").get("records").sort(function(F,E){return(D.sorter)(F,E,D.field,D.desc);});},sort:function(D,E,F){this.fire("sort",{field:D,desc:E,sorter:F||this.get("defaultSorter")});},resort:function(){var D=this.get("lastSortProperties");this.fire("sort",{field:D.field,desc:D.desc,sorter:this.get("defaultSorter")});},reverse:function(){var E=this.get("host"),D=E.getLength()-1,G=0;for(;G<=D;G++){if(G<(D-G)){var H=E.getRecord(G);var F=E.getRecord(D-G);E.update(H,D-G);E.update(F,G);}}}});C.namespace("Plugin").RecordsetSort=B;},"@VERSION@",{requires:["recordset-base","arraysort","plugin"]});YUI.add("recordset-filter",function(B){function A(C){A.superclass.constructor.apply(this,arguments);}B.mix(A,{NS:"filter",NAME:"recordsetFilter",ATTRS:{}});B.extend(A,B.Plugin.Base,{initializer:function(C){},destructor:function(C){},alert:function(){alert("im working!!");},filter:function(E,D){var I=[],F=0,H,C,G;G=this.get("host");C=G.get("records").getLength();for(;F<C;F++){H=G.getRecord(F);if((B.Lang.isFunction(E)&&D===undefined&&E(H))||(B.Lang.isString(E)&&B.Lang.isValue(D)&&H.getValue(E)===D)){I.push(H);}}return new G.constructor({records:I});}});B.namespace("Plugin").RecordsetFilter=A;},"@VERSION@",{requires:["recordset-base","plugin"]});YUI.add("recordset",function(A){},"@VERSION@",{use:["recordset-base","recordset-sort","recordset-filter"]});