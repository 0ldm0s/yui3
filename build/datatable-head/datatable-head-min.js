YUI.add("datatable-head",function(g){var d=g.Lang,f=d.sub,a=d.isArray,b=g.Array,e=g.ClassNameManager,c=e.getClassName;g.namespace("DataTable").HeaderView=g.Base.create("tableHeader",g.View,[],{CELL_TEMPLATE:'<th id="{_yuid}" abbr="{abbr}" colspan="{colspan}" rowspan="{rowspan}" class="{className}" scope="col" role="columnheader" {headers}>{content}</th>',ROW_TEMPLATE:'<tr role="row">{content}</tr>',getClassName:function(){var h=b(arguments);h.unshift(this._cssPrefix);h.push(true);return c.apply(e,h);},render:function(){var s=this.get("container"),k=this.columns,l={abbr:"",colspan:1,rowspan:1},n,p,m,u,h,r,o,q,t;if(s&&k){o="";if(k.length){for(n=0,p=k.length;n<p;++n){q="";for(m=0,u=k[n].length;m<u;++m){h=k[n][m];r=this.getClassName("header");t=g.merge(l,h,{className:r,content:h.label||h.key||("Column "+(m+1)),headers:""});if(h._id){t.className+=" "+this.getClassName("col",h._id);}if(h.parent){t.headers='headers="'+h.parent.headers.join(" ")+'"';}q+=f(this.CELL_TEMPLATE,t);}o+=f(this.ROW_TEMPLATE,{content:q});}}s.setContent(o);}this.bindUI();return this;},_cssPrefix:e.getClassName("table"),_afterColumnsChange:function(h){this.columns=this._parseColumns(h.newVal);this.render();},bindUI:function(){if(this.source&&!this._eventHandles.columnsChange){this._eventHandles.columnsChange=this.source.after("columnsChange",g.bind("_afterColumnsChange",this));}},destructor:function(){(new g.EventHandle(g.Object.values(this._eventHandles))).detach();},initializer:function(h){h||(h={});var i=h.cssPrefix||(h.source||{}).cssPrefix;this.source=h.source;this.columns=this._parseColumns(h.columns);this._eventHandles=[];if(i){this._cssPrefix=i;}},_parseColumns:function(o){var l=[],r=[],q=1,t,u,k,h,s,n,p,m;if(a(o)&&o.length){r.push([o,-1]);while(r.length){t=r[r.length-1];u=t[0];n=t[1]+1;for(p=u.length;n<p;++n){k=u[n];h=k.children;g.stamp(k);if(a(h)&&h.length){r.push([h,-1]);t[1]=n;q=Math.max(q,r.length);break;}else{k.colspan=1;}}if(n>=p){if(r.length>1){t=r[r.length-2];s=t[0][t[1]];s.colspan=0;for(n=0,p=u.length;n<p;++n){s.colspan+=u[n].colspan;u[n].parent=s;}}r.pop();}}for(n=0;n<q;++n){l.push([]);}r.push([o,-1]);while(r.length){t=r[r.length-1];u=t[0];n=t[1]+1;for(p=u.length;n<p;++n){k=u[n];h=k.children;l[r.length-1].push(k);t[1]=n;k.headers=[k._yuid];for(m=r.length-2;m>=0;--m){s=r[m][0][r[m][1]];k.headers.unshift(s._yuid);}if(h&&h.length){r.push([h,-1]);break;}else{k.rowspan=q-r.length+1;}}if(n>=p){r.pop();}}}return l;}});},"@VERSION@",{requires:["datatable-core","view","classnamemanager"]});