YUI.add("widget-autohide",function(a){var l="widgetAutohide",k="autohide",i="clickoutside",c="focusoutside",n="down:27",e="bindUI",m="syncUI",g="rendered",h="boundingBox",f="visible",j="host",d="Change",b=a.ClassNameManager.getClassName;WidgetAutohide=a.Base.create(l,a.Plugin.Base,[],{_uiHandles:null,initializer:function(o){this.afterHostMethod(e,this.bindUI);this.afterHostMethod(m,this.syncUI);if(this.get(j).get(g)){this.bindUI();this.syncUI();}},destructor:function(){this._detachUIHandles();},bindUI:function(){this.afterHostEvent(f+d,this._afterHostVisibleChange);},syncUI:function(){this._uiSetHostVisible(this.get(j).get(f));},_uiSetHostVisible:function(o){if(o){a.later(1,this,"_attachUIHandles");}else{this._detachUIHandles();}},_attachUIHandles:function(){if(this._uiHandles){return;}var u=this.get(j),w=u.get(h),t=a.bind(u.hide,u),q=[],p=this,r=this.get("hideOn"),s=0,v={node:undefined,ev:undefined,keyCode:undefined};for(;s<r.length;s++){v.node=r[s].node;v.ev=r[s].eventName;v.keyCode=r[s].keyCode;if(!v.node&&!v.keyCode&&v.ev){q.push(w.on(v.ev,t));}else{if(v.node&&!v.keyCode&&v.ev){q.push(v.node.on(v.ev,t));}else{if(v.node&&v.keyCode&&v.ev){q.push(v.node.on(v.ev,t,v.keyCode));}}}}this._uiHandles=q;},_detachUIHandles:function(){a.each(this._uiHandles,function(o){o.detach();});this._uiHandles=null;},_afterHostVisibleChange:function(o){this._uiSetHostVisible(o.newVal);}},{NS:k,ATTRS:{hideOn:{value:[{eventName:i},{eventName:c},{node:a.one("doc"),eventName:"key",keyCode:"esc"}],validator:a.Lang.isArray}}});a.namespace("Plugin").Autohide=WidgetAutohide;},"@VERSION@",{requires:["base-build","widget","plugin","gallery-outside-events"]});