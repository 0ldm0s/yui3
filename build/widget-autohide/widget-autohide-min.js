YUI.add("widget-autohide",function(a){var m="widgetAutohide",l="autohide",j="clickoutside",c="focusoutside",o="down:27",e="bindUI",n="syncUI",g="rendered",h="boundingBox",f="visible",k="host",d="Change",b=a.ClassNameManager.getClassName;WidgetAutohide=a.Base.create(m,a.Plugin.Base,[],{_uiHandles:null,initializer:function(p){this.afterHostMethod(e,this.bindUI);this.afterHostMethod(n,this.syncUI);if(this.get(k).get(g)){this.bindUI();this.syncUI();}},destructor:function(){this._detachUIHandles();},bindUI:function(){this.afterHostEvent(f+d,this._afterHostVisibleChange);},syncUI:function(){this._uiSetHostVisible(this.get(k).get(f));},_uiSetHostVisible:function(p){if(p){a.later(1,this,"_attachUIHandles");}else{this._detachUIHandles();}},_attachUIHandles:function(){if(this._uiHandles){return;}var s=this.get(k),w=s.get(h),r=a.bind(s.hide,s),q=[],p=this,v=this.get("hideOnUI"),t=this.get("hideOnKeyPress"),u=a.one("document");i=0;for(;i<v.length;i++){q.push(w.on(v[i],r));}i=0;for(;i<t.length;i++){q.push(u.on("key",r,t[i]));}this._uiHandles=q;},_detachUIHandles:function(){a.each(this._uiHandles,function(p){p.detach();});this._uiHandles=null;},_afterHostVisibleChange:function(p){this._uiSetHostVisible(p.newVal);}},{NS:l,ATTRS:{hideOnUI:{value:[j,c],validator:a.Lang.isArray},hideOnKeyPress:{value:[o],validator:a.Lang.isArray}}});a.namespace("Plugin").Autohide=WidgetAutohide;},"@VERSION@",{requires:["base-build","widget","plugin","gallery-outside-events"]});