YUI.add("widget-autohide",function(b){var m="widgetAutohide",l="autohide",f="clickedOutside",a="focusedOutside",d="pressedEscape",g="bindUI",n="syncUI",i="rendered",j="boundingBox",h="visible",k="host",e="Change",c=b.ClassNameManager.getClassName;WidgetAutohide=b.Base.create(m,b.Plugin.Base,[],{_uiHandles:null,initializer:function(o){this.afterHostMethod(g,this.bindUI);this.afterHostMethod(n,this.syncUI);if(this.get(k).get(i)){this.bindUI();this.syncUI();}},destructor:function(){this._detachUIHandles();},bindUI:function(){this.afterHostEvent(h+e,this._afterHostVisibleChange);},syncUI:function(){this._uiSetHostVisible(this.get(k).get(h));},_uiSetHostVisible:function(o){if(o){b.later(1,this,"_attachUIHandles");}else{this._detachUIHandles();}},_attachUIHandles:function(){if(this._uiHandles){return;}var q=this.get(k),r=q.get(j),p=b.bind(q.hide,q),o=[];if(this.get(f)){o.push(r.on("clickoutside",p));}if(this.get(a)){o.push(r.on("focusoutside",p));}if(this.get(d)){o.push(r.on("key",p,"down:27"));}this._uiHandles=o;},_detachUIHandles:function(){b.each(this._uiHandles,function(o){o.detach();});this._uiHandles=null;},_afterHostVisibleChange:function(o){this._uiSetHostVisible(o.newVal);}},{NS:l,ATTRS:{clickedOutside:{value:false,validator:b.Lang.isBoolean},focusedOutside:{value:false,validator:b.Lang.isBoolean},pressedEscape:{value:true,validator:b.Lang.isBoolean}}});b.namespace("Plugin").Autohide=WidgetAutohide;},"@VERSION@",{requires:["base-build","widget","plugin","gallery-outside-events"]});