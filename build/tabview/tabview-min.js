YUI.add("tabview",function(F){var A=F.TabviewBase._queries,E=F.TabviewBase._classNames,G=".",C=F.Base.create("tabView",F.Widget,[F.WidgetParent],{_afterChildRemoved:function(J){var H=J.index,I=this.get("selection");if(!I){I=this.item(H-1)||this.item(0);if(I){I.set("selected",1);}}},bindUI:function(){this.get("boundingBox").plug(F.Plugin.NodeFocusManager,{descendants:A.tabLabel,keys:{next:"down:39",previous:"down:37"},circular:true});this.after("removeChild",this._afterChildRemoved);},renderUI:function(){var H=this.get("contentBox");this._renderListBox(H);this._renderPanelBox(H);this._renderTabs(H);this._setDefSelection(H);},_setDefSelection:function(){var H=this.item(0);if(!this.get("selection")&&H){H.set("selected",1);}},_renderListBox:function(H){var I=H.one(A.tabviewList);if(!I){H.append(C.LIST_TEMPLATE);}else{I.addClass(E.tabviewList);}},_renderPanelBox:function(I){var H=I.one(A.tabviewPanel);if(!H){I.append(C.PANEL_TEMPLATE);}else{H.addClass(E.tabviewPanel);}},_renderTabs:function(H){var J=H.all(A.tab),I=H.all(A.tabPanel);tabview=this;if(J){J.addClass(E.tab);H.all(A.tabLabel).addClass(E.tabLabel);H.all(A.tabPanel).addClass(E.tabPanel);J.each(function(M,L){var K=I.item(L);tabview.add({boundingBox:M,contentBox:M.one(G+E.tabLabel),label:M.one(G+E.tabLabel).get("text"),content:K?K.get("innerHTML"):null});});}}},{LIST_TEMPLATE:'<ul class="'+E.tabviewList+'"></ul>',PANEL_TEMPLATE:'<div class="'+E.tabviewPanel+'"></div>',ATTRS:{defaultChildType:{value:"Tab"},tabIndex:{value:null,validator:"_validTabIndex"}}});F.TabView=C;var D=F.Lang,A=F.TabviewBase._queries,E=F.TabviewBase._classNames,B=F.ClassNameManager.getClassName;F.Tab=F.Base.create("tab",F.Widget,[F.WidgetChild],{BOUNDING_TEMPLATE:'<li class="'+E.tab+'"></li>',CONTENT_TEMPLATE:'<a class="'+E.tabLabel+'"></a>',PANEL_TEMPLATE:'<div class="'+E.tabPanel+'"></div>',_uiSetSelectedPanel:function(H){this.get("panelNode").toggleClass(E.selectedPanel,H);},_afterTabSelectedChange:function(H){this._uiSetSelectedPanel(H.newVal);},_afterParentChange:function(H){if(!H.newVal){this._remove();}else{this.render();}},syncUI:function(){this._uiSetSelectedPanel(this.get("selected"));},bindUI:function(){this.after("selectedChange",this._afterTabSelectedChange);this.after("parentChange",this._afterParentChange);},renderUI:function(){var I=this.get("parent").get("contentBox"),H=this.get("contentBox");this._renderLabel(H,I);this._renderPanel(H,I);},_renderLabel:function(I,H){var J=this.get("label");I.setContent(J);H.one(A.tabviewList).appendChild(this.get("boundingBox"));},_renderPanel:function(J,I){var H=I.all(A.tabPanel).item(this.get("index"));if(!H){H=F.Node.create(this.PANEL_TEMPLATE);H.setContent(this.get("content"));I.one(A.tabviewPanel).appendChild(H);}this._set("panelNode",H);},_remove:function(){this.get("boundingBox").remove();this.get("panelNode").remove();},initializer:function(){this.publish("click",{defaultFn:function(H){if(H.target==this){H.domEvent.preventDefault();H.target.set("selected",1);}}});}},{ATTRS:{label:{validator:D.isString},content:{validator:D.isString},panelNode:{},tabIndex:{value:null,validator:"_validTabIndex"}},HTML_PARSER:{selection:function(H){return this.get("boundingBox").hasClass(E.selectedTab);}}});},"@VERSION@",{requires:["substitute","tabview-base","widget","widget-parent","widget-child"]});