YUI.add("tabview",function(F){var A=F.TabviewBase._queries,E=F.TabviewBase._classNames,C=F.Base.create("tabView",F.Widget,[F.WidgetParent],{_afterChildRemoved:function(I){var G=I.index,H=this.get("selection");if(!H){H=this.item(G-1)||this.item(0);if(H){H.set("selected",1);}}},bindUI:function(){this.get("boundingBox").plug(F.Plugin.NodeFocusManager,{descendants:A.tabLabel,keys:{next:"down:39",previous:"down:37"},circular:true});this.after("removeChild",this._afterChildRemoved);},renderUI:function(){var G=this.get("contentBox");this._renderListBox(G);this._renderPanelBox(G);this._setDefSelection(G);},_setDefSelection:function(){var G=this.item(0);if(!this.get("selection")&&G){G.set("selected",1);}},_renderListBox:function(G){if(!G.one(A.tabviewList)){G.append(C.LIST_TEMPLATE);}},_renderPanelBox:function(G){if(!G.one(A.tabviewPanel)){G.append(C.PANEL_TEMPLATE);}}},{LIST_TEMPLATE:"<ul></ul>",PANEL_TEMPLATE:"<div></div>",ATTRS:{defaultChildType:{value:"Tab"},tabIndex:{value:null,validator:"_validTabIndex"}}});F.mix(C.HTML_PARSER,{});F.TabView=C;var D=F.Lang,A=F.TabviewBase.queries,E=F.TabviewBase.classNames,B=F.ClassNameManager.getClassName;F.Tab=F.Base.create("tab",F.Widget,[F.WidgetChild],{BOUNDING_TEMPLATE:"<li></li>",CONTENT_TEMPLATE:"<a></a>",PANEL_TEMPLATE:'<div class="'+E.tabPanel+'"></div>',_uiSetSelectedPanel:function(G){this.get("panelNode").toggleClass(E.selectedPanel,G);},_afterTabSelectedChange:function(G){this._uiSetSelectedPanel(G.newVal);},_afterParentChange:function(G){if(!G.newVal){this._remove();}else{this.render();}},syncUI:function(){this._uiSetSelectedPanel(this.get("selected"));},bindUI:function(){this.after("selectedChange",this._afterTabSelectedChange);this.after("parentChange",this._afterParentChange);},renderUI:function(){var H=this.get("parent").get("contentBox"),G=this.get("contentBox");this._renderLabel(G,H);this._renderPanel(G,H);},_renderLabel:function(H,G){var I=this.get("label");H.setContent(I);G.one(A.tabviewList).appendChild(this.get("boundingBox"));},_renderPanel:function(I,H){var G=H.all(A.tabPanel).item(this.get("index"));if(!G){G=F.Node.create(this.PANEL_TEMPLATE);G.setContent(this.get("content"));H.one(A.tabviewPanel).appendChild(G);}},_remove:function(){this.get("boundingBox").remove();this.get("panelNode").remove();},initializer:function(){this.publish("click",{defaultFn:function(G){if(G.target==this){G.domEvent.preventDefault();G.target.set("selected",1);}}});}},{ATTRS:{label:{validator:D.isString},content:{validator:D.isString},tabIndex:{value:null,validator:"_validTabIndex"}}});},"@VERSION@",{requires:["substitute","tabview-base","widget","widget-parent","widget-child"]});