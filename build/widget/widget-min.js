YUI.add("widget",function(E){var R=E.Lang;function h(L){this._plugins={};this.after("init",function(Y,O){this._initPlugins(O);});this.after("destroy",this._destroyPlugins);}h.prototype={plug:function(Y){if(Y){if(R.isArray(Y)){var O=Y.length;for(var L=0;L<O;L++){this.plug(Y[L]);}}else{if(R.isFunction(Y)){this._plug(Y);}else{this._plug(Y.fn,Y.cfg);}}}return this;},unplug:function(L){if(L){this._unplug(L);}else{for(L in this._plugins){if(E.Object.owns(this._plugins,L)){this._unplug(L);}}}return this;},hasPlugin:function(L){return(this._plugins[L]&&this[L]);},_initPlugins:function(L){var Y=this._getClasses(),j;for(var O=0;O<Y.length;O++){j=Y[O];if(j.PLUGINS){this.plug(j.PLUGINS);}}if(L&&L.plugins){this.plug(L.plugins);}},_destroyPlugins:function(){this._unplug();},_plug:function(Y,L){if(Y&&Y.NS){var O=Y.NS;L=L||{};L.owner=this;if(this.hasPlugin(O)){this[O].setAtts(L);}else{this[O]=new Y(L);this._plugins[O]=Y;}}},_unplug:function(L){if(L){if(this[L]){this[L].destroy();delete this[L];}if(this._plugins[L]){delete this._plugins[L];}}}};E.PluginHost=h;var a="widget",M="content",b="visible",c="hidden",g="enabled",d="disabled",G="focus",C="blur",A="hasFocus",I="width",X="height",i="",Z="-",f="boundingBox",U="contentBox",Q="parentNode",D="tabIndex",H="locale",J="initValue",S="id",T="render",B="rendered",W="destroyed",K=E.Object,e=E.Node,N=E.ClassNameManager;var V={};function F(L){this._yuid=E.guid(a);this._strings={};F.superclass.constructor.apply(this,arguments);}F.NAME=a;F.UI_SRC="ui";F.ATTRS={rendered:{value:false,readOnly:true},boundingBox:{value:null,set:function(L){return this._setBoundingBox(L);},writeOnce:true},contentBox:{value:null,set:function(L){return this._setContentBox(L);},writeOnce:true},tabIndex:{value:0},hasFocus:{value:false},disabled:{value:false},visible:{value:true},height:{value:i},width:{value:i},moveStyles:{value:false},locale:{value:"en"},strings:{set:function(L){return this._setStrings(L,this.get(H));},get:function(){return this.getStrings(this.get(H));}}};F._CLASSNAME=N.getClassName(F.NAME.toLowerCase());F.getByNode=function(L){var O,Y=F._CLASSNAME;L=e.get(L);if(L){L=(L.hasClass(Y))?L:L.ancestor("."+Y);if(L){O=V[L.get(S)];}}return O||null;};var P=F.UI_SRC;E.extend(F,E.Base,{getClassName:function(){var L=E.Array(arguments,0,true);L.splice(0,0,this._name);return N.getClassName.apply(N,L);},initializer:function(L){this._name=this.constructor.NAME.toLowerCase();var Y=this.get(f).get(S);if(Y){V[Y]=this;}var O=this._parseHTML(this.get(U));if(O){E.aggregate(L,O,false);}E.PluginHost.call(this,L);},destructor:function(){var L=this.get(f);E.Event.purgeElement(L,true);var O=L.get(S);if(O&&O in V){delete V[O];}},render:function(L){if(this.get(W)){return ;}if(!this.get(B)){this.publish(T,{queuable:false,defaultFn:this._defRenderFn});this.fire(T,null,L);}return this;},_defRenderFn:function(O,L){this._renderUI(L);this._bindUI();this._syncUI();this.renderer();this._set(B,true);},renderer:function(){this.renderUI();this.bindUI();this.syncUI();},bindUI:function(){},renderUI:function(){},syncUI:function(){},hide:function(){return this.set(b,false);},show:function(){return this.set(b,true);},focus:function(){return this.set(A,true);},blur:function(){return this.set(A,false);},enable:function(){return this.set(g,true);},disable:function(){return this.set(d,false);},_parseHTML:function(O){var L=this.HTML_PARSER,Y,j;if(L&&O&&O.hasChildNodes()){K.each(L,function(m,l,p){j=null;if(R.isFunction(m)){j=m.call(this,O);}else{if(R.isArray(m)){var n=O.queryAll(m[0]);if(n.size()>0){j=n;}}else{j=O.query(m);}}if(j!==null&&j!==undefined){Y=Y||{};Y[l]=j;}});}return Y;},_moveStyles:function(k,m){var j=this.WRAP_STYLES,n=k.getStyle("position"),O=this.get(U),l=[0,0],Y,L;if(!this.get("height")){Y=O.get("offsetHeight");}if(!this.get("width")){L=O.get("offsetWidth");}if(n==="absolute"){l=k.getXY();m.setStyles({right:"auto",bottom:"auto"});k.setStyles({right:"auto",bottom:"auto"});}E.each(j,function(p,o){var q=k.getStyle(o);m.setStyle(o,q);if(p===false){k.setStyle(o,"");}else{k.setStyle(o,p);}});if(n==="absolute"){m.setXY(l);}if(Y){this.set("height",Y);}if(L){this.set("width",L);}},_renderBox:function(O){var Y=this.get(U),k=this.get(f),L=e.get("body");var j=(O)?e.get(O):L;if(j&&!j.contains(k)){if(j===L&&!O&&j.get("firstChild")){j.insertBefore(k,j.get("firstChild"));}else{j.appendChild(k);}}if(!k.contains(Y)){if(this.get("moveStyles")){this._moveStyles(Y,k);}if(L.contains(Y)){Y.get(Q).replaceChild(k,Y);}k.appendChild(Y);}},_setBoundingBox:function(L){return this._setBox(L,this.BOUNDING_TEMPLATE);},_setContentBox:function(L){return this._setBox(L,this.CONTENT_TEMPLATE);},_setBox:function(Y,O){Y=e.get(Y);if(!Y){Y=e.create(O);}var L=E.stamp(Y);if(!Y.get(S)){Y.set(S,L);}return Y;},_renderUI:function(L){this.get(f).addClass(F._CLASSNAME);this.get(f).addClass(this.getClassName());this.get(U).addClass(this.getClassName(M));this._renderBox(L);},_bindUI:function(){this.after("visibleChange",this._onVisibleChange);this.after("disabledChange",this._onDisabledChange);this.after("heightChange",this._onHeightChange);this.after("widthChange",this._onWidthChange);this.after("hasFocusChange",this._onHasFocusChange);this._bindDOMListeners();},_bindDOMListeners:function(){this.get(f).on(G,E.bind(this._onFocus,this));this.get(f).on(C,E.bind(this._onBlur,this));},_syncUI:function(){this._uiSetVisible(this.get(b));this._uiSetDisabled(this.get(d));this._uiSetHeight(this.get(X));this._uiSetWidth(this.get(I));this._uiSetHasFocus(this.get(A));this._uiSetTabIndex(this.get(D));},_uiSetHeight:function(L){if(R.isNumber(L)){L=L+this.DEF_UNIT;}this.get(f).setStyle(X,L);},_uiSetWidth:function(L){if(R.isNumber(L)){L=L+this.DEF_UNIT;}this.get(f).setStyle(I,L);},_uiSetVisible:function(Y){var O=this.get(f),L=this.getClassName(c);if(Y===true){O.removeClass(L);}else{O.addClass(L);}},_uiSetDisabled:function(Y){var O=this.get(f),L=this.getClassName(d);if(Y===true){O.addClass(L);}else{O.removeClass(L);}},_uiSetHasFocus:function(j,Y){var O=this.get(f),L=this.getClassName(G);
if(j===true){O.addClass(L);if(Y!==P){O.focus();}}else{O.removeClass(L);if(Y!==P){O.blur();}}},_uiSetTabIndex:function(L){this.get(f).set(D,L);},_onVisibleChange:function(L){this._uiSetVisible(L.newVal);},_onDisabledChange:function(L){this._uiSetDisabled(L.newVal);},_onHeightChange:function(L){this._uiSetHeight(L.newVal);},_onWidthChange:function(L){this._uiSetWidth(L.newVal);},_onHasFocusChange:function(L){this._uiSetHasFocus(L.newVal,L.src);},_onFocus:function(){this.set(A,true,{src:P});},_onBlur:function(){this.set(A,false,{src:P});},toString:function(){return this.constructor.NAME+"["+this._yuid+"]";},DEF_UNIT:"px",CONTENT_TEMPLATE:"<div></div>",BOUNDING_TEMPLATE:"<div></div>",WRAP_STYLES:{height:"100%",width:"100%",zIndex:false,position:"static",top:"0",left:"0",bottom:"",right:"",padding:"",margin:""},HTML_PARSER:null,_setStrings:function(O,L){var Y=this._strings;L=L.toLowerCase();if(!Y[L]){Y[L]={};}E.aggregate(Y[L],O,true);return Y[L];},_getStrings:function(L){return this._strings[L.toLowerCase()];},getStrings:function(p){p=(p||this.get(H)).toLowerCase();var n=this.getDefaultLocale().toLowerCase(),O=this._getStrings(n),o=(O)?E.merge(O):{},m=p.split(Z);if(p!==n||m.length>1){var L="";for(var j=0,Y=m.length;j<Y;++j){L+=m[j];var k=this._getStrings(L);if(k){E.aggregate(o,k,true);}L+=Z;}}return o;},getString:function(Y,O){O=(O||this.get(H)).toLowerCase();var j=(this.getDefaultLocale()).toLowerCase(),k=this._getStrings(j)||{},l=k[Y],L=O.lastIndexOf(Z);if(O!==j||L!=-1){do{k=this._getStrings(O);if(k&&Y in k){l=k[Y];break;}L=O.lastIndexOf(Z);if(L!=-1){O=O.substring(0,L);}}while(L!=-1);}return l;},getDefaultLocale:function(){return this._conf.get(H,J);},_strings:null});F.PLUGINS=[];E.mix(F,E.PluginHost,false,null,1);E.Widget=F;},"@VERSION@",{requires:["base","node","classnamemanager"]});