YUI.add("widget",function(B){var I=B.Lang;function C(L){this._plugins={};this.after("init",function(Y,O){this._initPlugins(O);});this.after("destroy",this._destroyPlugins);}C.prototype={plug:function(Y){if(Y){if(I.isArray(Y)){var O=Y.length;for(var L=0;L<O;L++){this.plug(Y[L]);}}else{if(I.isFunction(Y)){this._plug(Y);}else{this._plug(Y.fn,Y.cfg);}}}return this;},unplug:function(L){if(L){this._unplug(L);}else{for(L in this._plugins){if(B.Object.owns(this._plugins,L)){this._unplug(L);}}}return this;},hasPlugin:function(L){return(this._plugins[L]&&this[L]);},_initPlugins:function(L){var Y=this._getClasses(),n;for(var O=0;O<Y.length;O++){n=Y[O];if(n.PLUGINS){this.plug(n.PLUGINS);}}if(L&&L.plugins){this.plug(L.plugins);}},_destroyPlugins:function(){this._unplug();},_plug:function(Y,L){if(Y&&Y.NS){var O=Y.NS;L=L||{};L.owner=this;if(this.hasPlugin(O)){this[O].setAtts(L);}else{this[O]=new Y(L);this._plugins[O]=Y;}}},_unplug:function(L){if(L){if(this[L]){this[L].destroy();delete this[L];}if(this._plugins[L]){delete this._plugins[L];}}}};B.PluginHost=C;var N="widget",c="content",m="visible",g="hidden",a="enabled",W="disabled",j="focus",b="blur",h="hasFocus",E="width",X="height",D="",k="-",i="boundingBox",V="contentBox",Q="parentNode",Z="firstChild",e="body",d="tabIndex",A="locale",M="initValue",S="id",K="render",f="rendered",R="destroyed",l="contentUpdate",P=B.Base,G=B.Object,T=B.Node,H=B.ClassNameManager;var J={};function F(L){this._yuid=B.guid(N);this._strings={};F.superclass.constructor.apply(this,arguments);}F.build=function(L,Y,O){O=O||{};O.aggregates=O.aggregates||[];O.aggregates=O.aggregates.concat(F.build.AGGREGATES);return P.build.call(P,L,Y,O);};F.build.AGGREGATES=["PLUGINS","HTML_PARSER"];F.NAME=N;F.UI_SRC="ui";F.ATTRS={rendered:{value:false,readOnly:true},boundingBox:{value:null,set:function(L){return this._setBoundingBox(L);},writeOnce:true},contentBox:{value:null,set:function(L){return this._setContentBox(L);},writeOnce:true},tabIndex:{value:0},hasFocus:{value:false},disabled:{value:false},visible:{value:true},height:{value:D},width:{value:D},moveStyles:{value:false},locale:{value:"en"},strings:{set:function(L){return this._setStrings(L,this.get(A));},get:function(){return this.getStrings(this.get(A));}}};F._NAME_LOWERCASE=F.NAME.toLowerCase();F.getClassName=function(){var L=B.Array(arguments,0,true);L.splice(0,0,this._NAME_LOWERCASE);return H.getClassName.apply(H,L);};F.getByNode=function(L){var O,Y=F.getClassName();L=T.get(L);if(L){L=(L.hasClass(Y))?L:L.ancestor("."+Y);if(L){O=J[L.get(S)];}}return O||null;};F.HTML_PARSER={};var U=F.UI_SRC;B.extend(F,B.Base,{getClassName:function(){var L=B.Array(arguments,0,true);L.splice(0,0,this._name);return H.getClassName.apply(H,L);},initializer:function(L){this.publish(l,{preventable:false});this._name=this.constructor.NAME.toLowerCase();var Y=this.get(i).get(S);if(Y){J[Y]=this;}var O=this._parseHTML(this.get(V));if(O){B.aggregate(L,O,false);}B.PluginHost.call(this,L);},destructor:function(){var L=this.get(i);B.Event.purgeElement(L,true);var O=L.get(S);if(O&&O in J){delete J[O];}},render:function(L){if(this.get(R)){return;}if(!this.get(f)){this.publish(K,{queuable:false,defaultFn:this._defRenderFn});L=(L)?T.get(L):null;if(L&&L.size()>1){L=L.item(0);}if(L&&!L.inDoc()){L=null;}this.fire(K,null,L);}return this;},_defRenderFn:function(O,L){this._renderUI(L);this._bindUI();this._syncUI();this.renderer();this._set(f,true);},renderer:function(){this.renderUI();this.bindUI();this.syncUI();},bindUI:function(){},renderUI:function(){},syncUI:function(){},hide:function(){return this.set(m,false);},show:function(){return this.set(m,true);},focus:function(){return this.set(h,true);},blur:function(){return this.set(h,false);},enable:function(){return this.set(a,true);},disable:function(){return this.set(W,false);},_parseHTML:function(O){var L=this._getHtmlParser(),Y,n;if(L&&O&&O.hasChildNodes()){G.each(L,function(q,p,s){n=null;if(I.isFunction(q)){n=q.call(this,O);}else{var r=O.query(q);if(r){n=r;}}if(n!==null&&n!==undefined){Y=Y||{};Y[p]=n;}},this);}return Y;},_moveStyles:function(o,q){var n=this.WRAP_STYLES,r=o.getStyle("position"),O=this.get(V),p=[0,0],Y,L;if(!this.get("height")){Y=O.get("offsetHeight");}if(!this.get("width")){L=O.get("offsetWidth");}if(r==="absolute"){p=o.getXY();q.setStyles({right:"auto",bottom:"auto"});o.setStyles({right:"auto",bottom:"auto"});}B.each(n,function(u,t){var w=o.getStyle(t);q.setStyle(t,w);if(u===false){o.setStyle(t,"");}else{o.setStyle(t,u);}});if(r==="absolute"){q.setXY(p);}if(Y){this.set("height",Y);}if(L){this.set("width",L);}},_renderBox:function(O){var Y=this.get(V),o=this.get(i),L=T.get(e),n=O||L;if(n&&!n.contains(o)){if(n===L&&!O&&n.get(Z)){n.insertBefore(o,n.get(Z));}else{n.appendChild(o);}}if(!o.contains(Y)){if(this.get("moveStyles")){this._moveStyles(Y,o);}if(L.contains(Y)){Y.get(Q).replaceChild(o,Y);}o.appendChild(Y);}},_setBoundingBox:function(L){return this._setBox(L,this.BOUNDING_TEMPLATE);},_setContentBox:function(L){return this._setBox(L,this.CONTENT_TEMPLATE);},_setBox:function(Y,O){Y=T.get(Y);if(!Y){Y=T.create(O);}else{if(Y.size()>1){Y=Y.item(0);}}var L=B.stamp(Y);if(!Y.get(S)){Y.set(S,L);}return Y;},_renderUI:function(L){this._renderBoxClassNames();this._renderBox(L);},_renderBoxClassNames:function(){var p=this._getClasses(),n=this.get(i),O=this.get(V),Y;n.addClass(F.getClassName());for(var o=2,L=p.length;o<L;++o){Y=p[o].NAME;if(Y){n.addClass(H.getClassName(Y.toLowerCase()));}}O.addClass(this.getClassName(c));},_bindUI:function(){this.after("visibleChange",this._onVisibleChange);this.after("disabledChange",this._onDisabledChange);this.after("heightChange",this._onHeightChange);this.after("widthChange",this._onWidthChange);this.after("hasFocusChange",this._onHasFocusChange);this._bindDOMListeners();},_bindDOMListeners:function(){this.get(i).on(j,B.bind(this._onFocus,this));this.get(i).on(b,B.bind(this._onBlur,this));},_syncUI:function(){this._uiSetVisible(this.get(m));this._uiSetDisabled(this.get(W));this._uiSetHeight(this.get(X));
this._uiSetWidth(this.get(E));this._uiSetHasFocus(this.get(h));this._uiSetTabIndex(this.get(d));},_uiSetHeight:function(L){if(I.isNumber(L)){L=L+this.DEF_UNIT;}this.get(i).setStyle(X,L);},_uiSetWidth:function(L){if(I.isNumber(L)){L=L+this.DEF_UNIT;}this.get(i).setStyle(E,L);},_uiSetVisible:function(Y){var O=this.get(i),L=this.getClassName(g);if(Y===true){O.removeClass(L);}else{O.addClass(L);}},_uiSetDisabled:function(Y){var O=this.get(i),L=this.getClassName(W);if(Y===true){O.addClass(L);}else{O.removeClass(L);}},_uiSetHasFocus:function(n,Y){var O=this.get(i),L=this.getClassName(j);if(n===true){O.addClass(L);if(Y!==U){O.focus();}}else{O.removeClass(L);if(Y!==U){O.blur();}}},_uiSetTabIndex:function(L){this.get(i).set(d,L);},_onVisibleChange:function(L){this._uiSetVisible(L.newVal);},_onDisabledChange:function(L){this._uiSetDisabled(L.newVal);},_onHeightChange:function(L){this._uiSetHeight(L.newVal);},_onWidthChange:function(L){this._uiSetWidth(L.newVal);},_onHasFocusChange:function(L){this._uiSetHasFocus(L.newVal,L.src);},_onFocus:function(){this.set(h,true,{src:U});},_onBlur:function(){this.set(h,false,{src:U});},toString:function(){return this.constructor.NAME+"["+this._yuid+"]";},DEF_UNIT:"px",CONTENT_TEMPLATE:"<div></div>",BOUNDING_TEMPLATE:"<div></div>",WRAP_STYLES:{height:"100%",width:"100%",zIndex:false,position:"static",top:"0",left:"0",bottom:"",right:"",padding:"",margin:""},_setStrings:function(O,L){var Y=this._strings;L=L.toLowerCase();if(!Y[L]){Y[L]={};}B.aggregate(Y[L],O,true);return Y[L];},_getStrings:function(L){return this._strings[L.toLowerCase()];},getStrings:function(s){s=(s||this.get(A)).toLowerCase();var q=this.getDefaultLocale().toLowerCase(),O=this._getStrings(q),r=(O)?B.merge(O):{},p=s.split(k);if(s!==q||p.length>1){var L="";for(var n=0,Y=p.length;n<Y;++n){L+=p[n];var o=this._getStrings(L);if(o){B.aggregate(r,o,true);}L+=k;}}return r;},getString:function(Y,O){O=(O||this.get(A)).toLowerCase();var n=(this.getDefaultLocale()).toLowerCase(),o=this._getStrings(n)||{},p=o[Y],L=O.lastIndexOf(k);if(O!==n||L!=-1){do{o=this._getStrings(O);if(o&&Y in o){p=o[Y];break;}L=O.lastIndexOf(k);if(L!=-1){O=O.substring(0,L);}}while(L!=-1);}return p;},getDefaultLocale:function(){return this._conf.get(A,M);},_strings:null,_getHtmlParser:function(){if(!this._HTML_PARSER){var Y=this._getClasses(),o={};for(var O=0,L=Y.length;O<L;O++){var n=Y[O].HTML_PARSER;if(n){B.mix(o,n,true);}}this._HTML_PARSER=o;}return this._HTML_PARSER;}});F.PLUGINS=[];B.mix(F,B.PluginHost,false,null,1);B.Widget=F;},"@VERSION@",{requires:["base","node","classnamemanager"]});