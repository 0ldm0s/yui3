YUI.add("widget-parent",function(C){var B=C.Lang;function A(){}A.ATTRS={defaultItemType:{validator:B.isString},activeItem:{readOnly:true},multiple:{value:false,validator:B.isBoolean,writeOnce:true},selection:{readOnly:true},items:{readOnly:true,valueFn:function(){return[];}}};A.prototype={_afterSelectedChange:function(D){this._setSelection(D.target);},_setSelection:function(E){var D;if(this.get("root").get("multiple")){D=[];C.each(this.get("items"),function(F){if(F.get("selected")>0){D.push(F);}});if(D.length===this.get("items").length){this.set("selected",1);}else{this.set("selected",2);}}else{if(E.get("selected")>0){D=E;}}this._set("selection",D);},_setActiveItem:function(D){var E=null;if(D.newVal===true){E=D.target;}this._set("activeItem",E);},_createItem:function(E){var F,G,D;if(!(E instanceof C.Widget)){if(E.type){G=E.type;delete E[G];}else{G=this.get("defaultItemType");}D=C[G];if(D){F=new D(E);}}return F;},_defItemAdded:function(G){var F=G.item,E=G.index,D=this.get("items");if(F.get("parent")){F.remove();}if(B.isNumber(E)){D.splice(E,0,F);}else{D.push(F);}this._set("items",D);F._set("parent",this);F.addTarget(this);if(F.get("selected")){this._setSelection(F);}F.after("selectedChange",C.bind(this._afterSelectedChange,this));F.after("focusedChange",C.bind(this._setActiveItem,this));},_defItemRemoved:function(G){var F=G.item,E=G.index,D=this.get("items");if(F.get("focused")){F.set("focused",false);}if(F.get("selected")){F.set("selected",0);}D.splice(E,1);this._set("items",D);F.removeTarget(this);F._set("parent",null);},add:function(G,E){var D,I,F,H=false;if(B.isArray(G)){D=[];C.each(G,function(J){I=this.add(J);if(I){D.push(I);}},this);if(D.length>0){F=D;}}else{I=this._createItem(G);if(I instanceof C.Widget){H=this.fire("itemAdded",{item:I,index:E});}F=H?I:null;}return F;},remove:function(E){var D=this.get("items"),F,G=false;if(B.isNumber(E)){F=D[E];if(F){G=this.fire("itemRemoved",{item:F,index:E});}}return G?F:null;},removeAll:function(){var D=this.get("items"),E=[],F;C.each(D,function(H,G){F=this.remove(G);if(F){E.push();}});return(E.length>0?E:null);},item:function(E){var D=this.get("items");return D?D[E]:null;},renderUI:function(){var D=this.get("contentBox");C.each(this.get("items"),function(E){E.render(D);});},initializer:function(D){this.publish("itemAdded",{defaultFn:this._defItemAdded});this.publish("itemRemoved",{defaultFn:this._defItemRemoved});if(D&&D.items){this.add(D.items);}},destructor:function(){}};C.WidgetParent=A;},"@VERSION@",{requires:["widget"]});