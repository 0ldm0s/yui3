YUI.add("widget-stdmod",function(A){var E=A.Lang,Q=A.Node,W=A.UA,C=A.Widget,B="",i="hd",g="bd",I="ft",d="header",k="body",j="footer",o="fillHeight",N="stdmod",r="px",T="Node",h="Content",m="innerHTML",c="firstChild",H="childNodes",U="contentBox",n="boundingBox",Z="height",f="offsetHeight",X="auto",M="headerContentChange",b="bodyContentChange",O="footerContentChange",R="fillHeightChange",S="HeightChange",p="contentUpdate",D="<div></div>",V="renderUI",e="bindUI",F="syncUI";function q(L){this._stdModNode=this.get(U);A.after(this._renderUIStdMod,this,V);A.after(this._bindUIStdMod,this,e);A.after(this._syncUIStdMod,this,F);}q.HEADER=d;q.BODY=k;q.FOOTER=j;q.AFTER="after";q.BEFORE="before";q.REPLACE="replace";var J=q.HEADER,a=q.BODY,P=q.FOOTER,l=q.AFTER,G=q.BEFORE;q.ATTRS={headerContent:{get:function(Y){var L=this._getStdModContent(J);return(L===null)?Y:L;}},footerContent:{get:function(Y){var L=this._getStdModContent(P);return(L===null)?Y:L;}},bodyContent:{get:function(Y){var L=this._getStdModContent(a);return(L===null)?Y:L;}},fillHeight:{value:q.BODY,validator:function(L){return this._validateFillHeight(L);}}};q.HTML_PARSER={headerContent:function(L){return this._parseStdModHTML(J);},bodyContent:function(L){return this._parseStdModHTML(a);},footerContent:function(L){return this._parseStdModHTML(P);}};q.TEMPLATES={};q._TEMPLATES={};var K=q.TEMPLATES;K[J]={html:D,className:i};K[a]={html:D,className:g};K[P]={html:D,className:I};q.prototype={_syncUIStdMod:function(){this._uiSetStdMod(J,this.get(J+h));this._uiSetStdMod(a,this.get(a+h));this._uiSetStdMod(P,this.get(P+h));this._uiSetFillHeight(this.get(o));},_renderUIStdMod:function(){this._stdModNode.addClass(C.getClassName(N));},_bindUIStdMod:function(){this.after(M,this._afterHeaderChange);this.after(b,this._afterBodyChange);this.after(O,this._afterFooterChange);this.after(R,this._afterFillHeightChange);this.after(S,this._fillHeight);this.after(p,this._fillHeight);},_afterHeaderChange:function(L){this._uiSetStdMod(J,L.newVal,L.stdModPosition);},_afterBodyChange:function(L){this._uiSetStdMod(a,L.newVal,L.stdModPosition);},_afterFooterChange:function(L){this._uiSetStdMod(P,L.newVal,L.stdModPosition);},_afterFillHeightChange:function(L){this._uiSetFillHeight(L.newVal);},_validateFillHeight:function(L){return !L||L==q.BODY||L==q.HEADER||L==q.FOOTER;},_uiSetFillHeight:function(s){var Y=this.getStdModNode(s);var L=this._currFillNode;if(L&&Y!==L){L.setStyle(Z,B);}if(Y){this._currFillNode=Y;}this._fillHeight();},_fillHeight:function(){if(this.get(o)){var L=this.get(Z);if(L!=B&&L!=X){this.fillHeight(this._currFillNode);}}},_uiSetStdMod:function(t,s,L){var Y=this.getStdModNode(t)||this._renderStdMod(t);if(s instanceof Q){this._addNodeRef(Y,s,L);}else{this._addNodeHTML(Y,s,L);}this.fire(p);},_renderStdMod:function(s){var L=this.get(U),Y=this._findStdModSection(s);if(!Y){Y=this._getStdModTemplate(s);}this._insertStdModSection(L,s,Y);this[s+T]=Y;return this[s+T];},_insertStdModSection:function(L,t,s){var Y=L.get(c);if(t===P||!Y){L.appendChild(s);}else{if(t===J){L.insertBefore(s,Y);}else{var u=this[P+T];if(u){L.insertBefore(s,u);}else{L.appendChild(s);}}}},_getStdModTemplate:function(s){var Y=q._TEMPLATES[s],L;if(!Y){L=q.TEMPLATES[s];q._TEMPLATES[s]=Y=Q.create(L.html);Y.addClass(this._getStdModClassName(s));}return Y.cloneNode(true);},_getStdModClassName:function(L){return C.getClassName(q.TEMPLATES[L].className);},_addNodeHTML:function(s,Y,L){if(L==l){s.set(m,s.get(m)+Y);}else{if(L==G){s.set(m,Y+s.get(m));}else{s.set(m,Y);}}},_addNodeRef:function(w,u,Y){var L=true,t,v;if(Y==G){if(w.get(c)){for(t=w.size()-1;t>=0;--t){w.insertBefore(u.item(t),w.get(c));}L=false;}}else{if(Y!=l){w.set(m,B);}}if(L){for(t=0,v=u.size();t<v;++t){w.appendChild(u.item(t));}}},_getPreciseHeight:function(s){var L=(s)?s.get(f):0,t="getBoundingClientRect";if(s&&s.hasMethod(t)){var Y=s.invoke(t);if(Y){L=Y.bottom-Y.top;}}return L;},_findStdModSection:function(L){return this.get(U).query("> ."+this._getStdModClassName(L));},_parseStdModHTML:function(Y){var L=this._findStdModSection(Y);return(L)?L.get(m):"";},_getStdModContent:function(L){return(this[L+T])?this[L+T].get(H):null;},setStdModContent:function(s,Y,L){this.set(s+h,Y,{stdModPosition:L});},getStdModNode:function(L){return this[L+T]||null;},fillHeight:function(s){if(s){var w=this.get(n),y=[this.headerNode,this.bodyNode,this.footerNode],Y,z=0,AA=0,v=0,u=false;for(var x=0,t=y.length;x<t;x++){Y=y[x];if(Y){if(Y!==s){AA+=this._getPreciseHeight(Y);}else{u=true;}}}if(u){if(W.ie||W.opera){s.setStyle(Z,0+r);}z=parseInt(w.getComputedStyle(Z),10);if(E.isNumber(z)){v=z-AA;if(v>=0){s.setStyle(Z,v+r);}var L=this.get(U).get(f);if(L!=z){v=v-(L-z);s.setStyle(Z,v+r);}}}}}};A.WidgetStdMod=q;},"@VERSION@",{requires:["widget"]});