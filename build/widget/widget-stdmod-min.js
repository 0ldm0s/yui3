YUI.add("widget-stdmod",function(A){var E=A.Lang,P=A.Node,V=A.UA,C=A.Widget,R=C.UI_SRC,i={src:R},B="",g="hd",f="bd",H="ft",c="header",j="body",h="footer",n="fillHeight",M="stdmod",q="px",S="Node",l="innerHTML",b="firstChild",T="contentBox",m="boundingBox",X="height",e="offsetHeight",W="auto",K="headerChange",a="bodyChange",N="footerChange",Q="fillHeightChange",o="contentUpdate",D="<div></div>",U="renderUI",d="bindUI",F="syncUI";function p(L){this._stdModNode=this.get(T);A.after(this._renderUIStdMod,this,U);A.after(this._bindUIStdMod,this,d);A.after(this._syncUIStdMod,this,F);}p.HEADER=c;p.BODY=j;p.FOOTER=h;p.AFTER="after";p.BEFORE="before";p.REPLACE="replace";var I=p.HEADER,Z=p.BODY,O=p.FOOTER,k=p.AFTER,G=p.BEFORE,r=p.REPLACE;p.ATTRS={header:{},footer:{},body:{},fillHeight:{value:p.BODY,validator:function(L){return this._validateFillHeight(L);}}};p.HTML_PARSER={header:function(L){var Y=this._findStdModSection(I);return(Y)?Y.get(l):"";},body:function(L){var Y=this._findStdModSection(Z);return(Y)?Y.get(l):"";},footer:function(L){var Y=this._findStdModSection(O);return(Y)?Y.get(l):"";}};p.TEMPLATES={};p._TEMPLATES={};var J=p.TEMPLATES;J[I]={html:D,className:g};J[Z]={html:D,className:f};J[O]={html:D,className:H};p.prototype={_syncUIStdMod:function(){this._uiSetSection(I,this.get(c));this._uiSetSection(Z,this.get(j));this._uiSetSection(O,this.get(h));this._uiSetFillHeight(this.get(n));},_renderUIStdMod:function(){this._stdModNode.addClass(C.getClassName(M));},_bindUIStdMod:function(){this.after(K,this._onHeaderChange);this.after(a,this._onBodyChange);this.after(N,this._onFooterChange);this.after(Q,this._onFillHeightChange);this.after(o,this._fillHeight);},_onHeaderChange:function(L){if(L.src!=R){this._uiSetSection(I,L.newVal);}},_onBodyChange:function(L){if(L.src!=R){this._uiSetSection(Z,L.newVal);}},_onFooterChange:function(L){if(L.src!=R){this._uiSetSection(O,L.newVal);}},_onFillHeightChange:function(L){this._uiSetFillHeight(L.newVal);},_validateFillHeight:function(L){return L==p.BODY||L==p.HEADER||L==p.FOOTER;},_uiSetFillHeight:function(s){var Y=this.getStdModNode(s);var L=this._currFillNode;if(L&&Y!==L){L.setStyle(X,B);}if(Y){this._currFillNode=Y;}this._fillHeight();},_fillHeight:function(){if(this.get(n)){var L=this.get(X);if(L!=B&&L!=W){this.fillHeight(this._currFillNode);}}},_uiSetSection:function(t,s,L){var Y=this.getStdModNode(t)||this._renderSection(t);if(s instanceof P){this._addNodeRef(Y,s,L);}else{this._addNodeHTML(Y,s,L);}this.fire(o);},_renderSection:function(s){var L=this.get(T),Y=this._findStdModSection(s);if(!Y){Y=this._getStdModTemplate(s);}this._insertStdModSection(L,s,Y);this[s+S]=Y;return this[s+S];},_insertStdModSection:function(L,t,s){var Y=L.get(b);if(t===O||!Y){L.appendChild(s);}else{if(t===I){L.insertBefore(s,Y);}else{var u=this[O+S];if(u){L.insertBefore(s,u);}else{L.appendChild(s);}}}},_getStdModTemplate:function(s){var Y=p._TEMPLATES[s],L;if(!Y){L=p.TEMPLATES[s];p._TEMPLATES[s]=Y=P.create(L.html);Y.addClass(this._getStdModClassName(s));}return Y.cloneNode(true);},_getStdModClassName:function(L){return C.getClassName(p.TEMPLATES[L].className);},_addNodeHTML:function(s,Y,L){if(L==k){s.set(l,s.get(l)+Y);}else{if(L==G){s.set(l,Y+s.get(l));}else{s.set(l,Y);}}},_addNodeRef:function(s,t,Y){var L=true;if(Y==G){if(s.get(b)){s.insertBefore(t,s.get(b));L=false;}}else{if(Y!=k){s.set(l,B);}}if(L){s.appendChild(t);}},_getPreciseHeight:function(s){var L=s.get(e);var Y=s.invoke("getBoundingClientRect");if(Y){L=Y.bottom-Y.top;}return L;},_findStdModSection:function(Y){var L=this.get(T).query("."+this._getStdModClassName(Y));if(!L||(L.size&&L.size()>0)){return null;}else{return L;}},_setStdModSection:function(s,Y,L){this._uiSetSection(s,Y,L);this.set(s,this.getStdModNode(s).get(l),i);},setBody:function(Y,L){this._setStdModSection(Z,Y,L);},setHeader:function(Y,L){this._setStdModSection(I,Y,L);},setFooter:function(Y,L){this._setStdModSection(O,Y,L);},getStdModNode:function(L){return this[L+S]||null;},fillHeight:function(s){if(s){var w=this.get(m),y=[this.headerNode,this.bodyNode,this.footerNode],Y,z=0,AA=0,v=0,u=false;for(var x=0,t=y.length;x<t;x++){Y=y[x];if(Y){if(Y!==s){AA+=this._getPreciseHeight(Y);}else{u=true;}}}if(u){if(V.ie||V.opera){s.setStyle(X,0+q);}z=parseInt(w.getComputedStyle(X),10);if(E.isNumber(z)){v=z-AA;if(v>=0){s.setStyle(X,v+q);}var L=this.get(T).get(e);if(L!=z){v=v-(L-z);s.setStyle(X,v+q);}}}}}};A.WidgetStdMod=p;},"@VERSION@",{requires:["widget"]});