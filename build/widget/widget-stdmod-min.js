YUI.add("widget-stdmod",function(A){var E=A.Lang,P=A.Node,W=A.UA,C=A.Widget,R=C.UI_SRC,k={src:R},B="",i="hd",g="bd",H="ft",d="header",l="body",j="footer",p="fillHeight",M="stdmod",s="px",T="Node",h="Content",n="innerHTML",c="firstChild",U="contentBox",o="boundingBox",Z="height",f="offsetHeight",X="auto",K="headerContentChange",b="bodyContentChange",N="footerContentChange",Q="fillHeightChange",S="HeightChange",q="contentUpdate",D="<div></div>",V="renderUI",e="bindUI",F="syncUI";function r(L){this._stdModNode=this.get(U);A.after(this._renderUIStdMod,this,V);A.after(this._bindUIStdMod,this,e);A.after(this._syncUIStdMod,this,F);}r.HEADER=d;r.BODY=l;r.FOOTER=j;r.AFTER="after";r.BEFORE="before";r.REPLACE="replace";var I=r.HEADER,a=r.BODY,O=r.FOOTER,m=r.AFTER,G=r.BEFORE;r.ATTRS={headerContent:{},footerContent:{},bodyContent:{},fillHeight:{value:r.BODY,validator:function(L){return this._validateFillHeight(L);}}};r.HTML_PARSER={headerContent:function(L){var Y=this._findStdModSection(I);return(Y)?Y.get(n):"";},bodyContent:function(L){var Y=this._findStdModSection(a);return(Y)?Y.get(n):"";},footerContent:function(L){var Y=this._findStdModSection(O);return(Y)?Y.get(n):"";}};r.TEMPLATES={};r._TEMPLATES={};var J=r.TEMPLATES;J[I]={html:D,className:i};J[a]={html:D,className:g};J[O]={html:D,className:H};r.prototype={_syncUIStdMod:function(){this._uiSetSection(I,this.get(I+h));this._uiSetSection(a,this.get(a+h));this._uiSetSection(O,this.get(O+h));this._uiSetFillHeight(this.get(p));},_renderUIStdMod:function(){this._stdModNode.addClass(C.getClassName(M));},_bindUIStdMod:function(){this.after(K,this._afterHeaderChange);this.after(b,this._afterBodyChange);this.after(N,this._afterFooterChange);this.after(Q,this._afterFillHeightChange);this.after(S,this._fillHeight);this.after(q,this._fillHeight);},_afterHeaderChange:function(L){if(L.src!=R){this._uiSetSection(I,L.newVal);}},_afterBodyChange:function(L){if(L.src!=R){this._uiSetSection(a,L.newVal);}},_afterFooterChange:function(L){if(L.src!=R){this._uiSetSection(O,L.newVal);}},_afterFillHeightChange:function(L){this._uiSetFillHeight(L.newVal);},_validateFillHeight:function(L){return !L||L==r.BODY||L==r.HEADER||L==r.FOOTER;},_uiSetFillHeight:function(t){var Y=this.getStdModNode(t);var L=this._currFillNode;if(L&&Y!==L){L.setStyle(Z,B);}if(Y){this._currFillNode=Y;}this._fillHeight();},_fillHeight:function(){if(this.get(p)){var L=this.get(Z);if(L!=B&&L!=X){this.fillHeight(this._currFillNode);}}},_uiSetSection:function(u,t,L){var Y=this.getStdModNode(u)||this._renderSection(u);if(t instanceof P){this._addNodeRef(Y,t,L);}else{this._addNodeHTML(Y,t,L);}this.fire(q);},_renderSection:function(t){var L=this.get(U),Y=this._findStdModSection(t);if(!Y){Y=this._getStdModTemplate(t);}this._insertStdModSection(L,t,Y);this[t+T]=Y;return this[t+T];},_insertStdModSection:function(L,u,t){var Y=L.get(c);if(u===O||!Y){L.appendChild(t);}else{if(u===I){L.insertBefore(t,Y);}else{var v=this[O+T];if(v){L.insertBefore(t,v);}else{L.appendChild(t);}}}},_getStdModTemplate:function(t){var Y=r._TEMPLATES[t],L;if(!Y){L=r.TEMPLATES[t];r._TEMPLATES[t]=Y=P.create(L.html);Y.addClass(this._getStdModClassName(t));}return Y.cloneNode(true);},_getStdModClassName:function(L){return C.getClassName(r.TEMPLATES[L].className);},_addNodeHTML:function(t,Y,L){if(L==m){t.set(n,t.get(n)+Y);}else{if(L==G){t.set(n,Y+t.get(n));}else{t.set(n,Y);}}},_addNodeRef:function(t,u,Y){var L=true;if(Y==G){if(t.get(c)){t.insertBefore(u,t.get(c));L=false;}}else{if(Y!=m){t.set(n,B);}}if(L){t.appendChild(u);}},_getPreciseHeight:function(t){var L=(t)?t.get(f):0,u="getBoundingClientRect";if(t&&t.hasMethod(u)){var Y=t.invoke(u);if(Y){L=Y.bottom-Y.top;}}return L;},_findStdModSection:function(L){return this.get(U).query("> ."+this._getStdModClassName(L));},_setStdModSection:function(t,Y,L){this._uiSetSection(t,Y,L);this.set(t+h,this.getStdModNode(t).get(n),k);},setStdModContent:function(t,Y,L){this._setStdModSection(t,Y,L);},getStdModNode:function(L){return this[L+T]||null;},fillHeight:function(t){if(t){var x=this.get(o),z=[this.headerNode,this.bodyNode,this.footerNode],Y,AA=0,AB=0,w=0,v=false;for(var y=0,u=z.length;y<u;y++){Y=z[y];if(Y){if(Y!==t){AB+=this._getPreciseHeight(Y);}else{v=true;}}}if(v){if(W.ie||W.opera){t.setStyle(Z,0+s);}AA=parseInt(x.getComputedStyle(Z),10);if(E.isNumber(AA)){w=AA-AB;if(w>=0){t.setStyle(Z,w+s);}var L=this.get(U).get(f);if(L!=AA){w=w-(L-AA);t.setStyle(Z,w+s);}}}}}};A.WidgetStdMod=r;},"@VERSION@",{requires:["widget"]});