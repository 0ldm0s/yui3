YUI.add("queue",function(C){var B=C.Lang;function A(){var D=this instanceof C.Queue?this:new C.Queue();D.q=[];return D.add.apply(D,arguments);}A.defaultTimeout=10;A.prototype={_id:0,run:function(){var E=this.q[0],D=this;if(E&&!this._id){if(E.timeout<0){this._id=E.timeout;if(E.until){while(!E.until()){this._exec(E);}}else{if(E.iterations){while(E.iterations-->0){this._exec(E);}}else{this._exec(E);}}this._shift();this._id=0;return this.run();}else{if(E.until){if(E.until()){this._shift();return this.run();}}else{if(!E.iterations||!--E.iterations){this._shift();}}this._id=setTimeout(function(){D._exec(E);if(D._id){D._id=0;D.run();}},E.timeout);}}else{if(!E){this.fire("end");}}return this;},_exec:function(D){if(B.isFunction(D.fn)){this.fire("beforeCallback",D);D.fn.apply(D.context,D.args);this.fire("afterCallback",D);}},_shift:function(){this.fire("shiftCallback",this.q.shift());},add:function(){var G=C.Array(arguments,0,true),E,D,H,F=[];for(E=0,D=G.length;E<D;++E){H=G[E];if(B.isFunction(H)){H={fn:H};}if(B.isObject(H)&&B.isFunction(H.fn)){H=C.merge({context:this,args:[],timeout:A.defaultTimeout},H);H.args=C.Array(H.args);this.q.push(H);F.push(H);}}this.fire("addCallback",F);return this;},pause:function(){clearTimeout(this.id);this._id=0;this.fire("pause");return this;},stop:function(){this.pause();this.q=[];this.fire("stop");return this;}};C.augment(A,C.Event.Target);C.Queue=A;},"@VERSION@",{requires:["event"]});