YUI.add("node-flick",function(B){function A(C){A.superclass.constructor.apply(this,arguments);}A.ATTRS={deceleration:{value:0.98},bounce:{value:0.7},bounceDistance:{value:150},minVelocity:{value:0},minDistance:{value:10},boundingBox:{valueFn:function(){return this.get("host").get("parentNode");}},step:{value:10},duration:{},easing:{}};A.NAME="pluginFlick";A.NS="flick";B.extend(A,B.Plugin.Base,{initializer:function(){this.setBounds();this._uiSetStyle();this.get("host").on("flick",B.bind(this._onFlick,this));},setBounds:function(){var D=this.get("boundingBox").get("offsetHeight"),E=this.get("boundingBox").get("offsetWidth"),F=this.get("host").get("offsetHeight"),C=this.get("host").get("offsetWidth");if(F>D){this._maxY=F-D;this._minY=0;this._scrollY=true;}if(C>E){this._maxX=C-E;this._minX=0;this._scrollX=true;}console.log("boundingHeight = "+D);console.log("contentHeight = "+F);console.log("MaxY = "+this._maxY);console.log("scrollY = "+this._scrollY);this._x=this._y=0;},_uiSetStyle:function(){var D=this.get("boundingBox"),C=this.get("host");D.setStyle("overflow","auto");if(D.getStyle("position")!=="absolute"){D.setStyle("position","relative");}C.setStyle("position","absolute");},_onFlick:function(C){this._vel=C.velocity;this._flicking=true;this._move();},_move:function(){var I=this._y||0,D=this._x||0,E=this.get("step"),F=this._maxY,H=this._minY,G=this._maxX,C=this._minX;this._vel=(this._vel*this.get("deceleration"));if(this._scrollX){D=D+(this._vel*E);}if(this._scrollY){I=I+(this._vel*E);}if(Math.abs(this._vel).toFixed(4)<=0.015){this._flicking=false;this._killTimer(!(this._exceededYBoundary||this._exceededXBoundary));if(this._scrollX){if(D<C){this._snapToEdge=true;this._setOffsetX(C);}else{if(D>G){this._snapToEdge=true;this._setOffsetX(G);}}}if(this._scrollY){if(I<H){this._snapToEdge=true;this._setOffsetY(H);}else{if(I>F){this._snapToEdge=true;this._setOffsetY(F);}}}}else{if(this._scrollX&&(D<C||D>G)){this._exceededXBoundary=true;this._vel*=this.get("bounce");}if(this._scrollY&&(I<H||I>F)){this._exceededYBoundary=true;this._vel*=this.get("bounce");}if(this._scrollX){this._setOffsetX(D);}if(this._scrollY){this._setOffsetY(I);}this._flickTimer=B.later(this.get("step"),this,this._move);}},_setOffsetX:function(C){this._setOffset(C,null,this.get("duration"),this.get("easing"));},_setOffsetY:function(C){this._setOffset(null,C,this.get("duration"),this.get("easing"));},_setOffset:function(C,F,D,E){if(C!==null){C=this._bounce(C);}else{C=this._x;}if(F!==null){F=this._bounce(F);}else{F=this._y;}D=D||this._snapToEdge?400:0;E=E||this._snapToEdge?"ease-out":null;this._x=C;this._y=F;this._anim(C,F,D,E);},_anim:function(C,G,E,F){var D=this.get("host");if(E){F=F||"cubic-bezier(0, 0.1, 0, 1.0)";D.setStyle("-webkit-transition",E+"ms -webkit-transform");D.setStyle("-webkit-transition-timing-function",F);}else{D.setStyle("-webkit-transition",null);D.setStyle("-webkit-transition-timing-function",null);}D.setStyle("-webkit-transform","translate3d("+(C*-1)+"px,"+(G*-1)+"px,0)");},_bounce:function(G,C){var E=this.get("bounce"),F=this.get("bounceDistance"),D=E?-F:0;C=E?C+F:C;if(!E){if(G<D){G=D;}else{if(G>C){G=C;}}}return G;},_killTimer:function(C){if(this._flickTimer){this._flickTimer.cancel();}if(C){}}});B.Plugin.Flick=A;},"@VERSION@",{requires:["node-base","plugin"]});