YUI.add("cookie",function(B){var I=B.lang,F=null,C=I.isString,J=I.isObject,E=I.isUndefined,D=I.isFunction,G=encodeURIComponent,A=decodeURIComponent;function H(K){throw new TypeError(K);}B.cookie={_createCookieString:function(L,N,M,K){var O=G(L)+"="+(M?G(N):N);if(J(K)){if(K.expires instanceof Date){O+="; expires="+K.expires.toGMTString();}if(C(K.path)&&K.path!==""){O+="; path="+K.path;}if(C(K.domain)&&K.domain!==""){O+="; domain="+K.domain;}if(K.secure===true){O+="; secure";}}return O;},_createCookieHashString:function(K){if(!J(K)){H("Cookie._createCookieHashString(): Argument must be an object.");}var L=[];B.object.each(K,function(N,M){if(!D(N)&&!E(N)){L.push(G(M)+"="+G(String(N)));}});return L.join("&");},_parseCookieHash:function(O){var N=O.split("&"),P=F,M={};for(var L=0,K=N.length;L<K;L++){P=N[L].split("=");M[A(P[0])]=A(P[1]);}return M;},_parseCookieString:function(S,K){var T={};if(C(S)&&S.length>0){var L=(K===false?function(U){return U;}:K);if(/[^=]+=[^=;]?(?:; [^=]+=[^=]?)?/.test(S)){var Q=S.split(/;\s/g),R=F,M=F,O=F;for(var N=0,P=Q.length;N<P;N++){O=Q[N].match(/([^=]+)=/i);if(O instanceof Array){R=K(O[1]);M=L(Q[N].substring(R.length+1));}else{R=K(Q[N]);M=R;}T[R]=M;}}}return T;},get:function(K,L){var M=this._parseCookieString(document.cookie);if(!C(K)||K===""){H("Cookie.get(): Cookie name must be a non-empty string.");}if(E(M[K])){return F;}if(!D(L)){return M[K];}else{return L(M[K]);}},getSub:function(K,M,L){var N=this.getSubs(K);if(N!==F){if(!C(M)||M===""){H("Cookie.getSub(): Subcookie name must be a non-empty string.");}if(E(N[M])){return F;}if(!D(L)){return N[M];}else{return L(N[M]);}}else{return F;}},getSubs:function(K){if(!C(K)||K===""){H("Cookie.getSubs(): Cookie name must be a non-empty string.");}var L=this._parseCookieString(document.cookie,false);if(C(L[K])){return this._parseCookieHash(L[K]);}return F;},remove:function(L,K){if(!C(L)||L===""){H("Cookie.remove(): Cookie name must be a non-empty string.");}K=K||{};K.expires=new Date(0);return this.set(L,"",K);},removeSub:function(L,N,K){if(!C(L)||L===""){H("Cookie.removeSub(): Cookie name must be a non-empty string.");}if(!C(N)||N===""){H("Cookie.removeSub(): Subcookie name must be a non-empty string.");}var M=this.getSubs(L);if(J(M)&&B.object.owns(M,N)){delete M[N];return this.setSubs(L,M,K);}else{return"";}},set:function(L,M,K){if(!C(L)){H("Cookie.set(): Cookie name must be a string.");}if(E(M)){H("Cookie.set(): Value cannot be undefined.");}var N=this._createCookieString(L,M,true,K);document.cookie=N;return N;},setSub:function(L,N,M,K){if(!C(L)||L===""){H("Cookie.setSub(): Cookie name must be a non-empty string.");}if(!C(N)||N===""){H("Cookie.setSub(): Subcookie name must be a non-empty string.");}if(E(M)){H("Cookie.setSub(): Subcookie value cannot be undefined.");}var O=this.getSubs(L);if(!J(O)){O={};}O[N]=M;return this.setSubs(L,O,K);},setSubs:function(L,M,K){if(!C(L)){H("Cookie.setSubs(): Cookie name must be a string.");}if(!J(M)){H("Cookie.setSubs(): Cookie value must be an object.");}var N=this._createCookieString(L,this._createCookieHashString(M),false,K);document.cookie=N;return N;}};},"3.0.0");