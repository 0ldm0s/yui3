YUI.add("datasource-cache",function(D){var C=D.Lang,B=D.DataSource.Base,A={};A.ATTRS={cache:{value:null,validator:function(E){return((E instanceof D.Cache)||(E===null));},set:function(G){var F=0,E=this._cacheHandlers;if(G!==null){if(E===null){E=[];E.push(D.before(this._beforeSendRequest,this,"sendRequest"));E.push(D.before(this._beforeReturnData,this,"returnData"));this._cacheHandlers=E;}}else{if(E!==null){for(;F<E;F++){D.detach(E[F]);}this._cacheHandlers=null;}}}}};A.prototype={_cacheHandlers:null,_beforeSendRequest:function(F,G){var E=(this.get("cache")&&this.get("cache").retrieve(F,G))||null;if(E&&E.response){B.issueCallback(G,[F,E.response]);return new D.Do.Halt("msg","newRetVal");}},_beforeReturnData:function(H,F,G,E){if(this.get("cache")){this.get("cache").add(F,E,(G&&G.argument));}}};D.Base.build(B,[A],{dynamic:false});},"@VERSION@",{requires:["datasource-base"]});