YUI.add("datasource-base",function(D){D.namespace("DataSource");var C=D.DataSource,A=D.Lang,B=function(){B.superclass.constructor.apply(this,arguments);};D.mix(C,{_tId:0,ERROR_DATANULL:0,ERROR_DATAINVALID:1});D.mix(B,{NAME:"DataSource.Base",ATTRS:{source:{value:null},ERROR_DATAINVALID:{value:"Invalid data"},ERROR_DATANULL:{value:"Null data"}},issueCallback:function(I,H,F){if(I){var G=I.scope||window,E=(F&&I.failure)||I.success;if(E){E.apply(G,H.concat([I.argument]));}}}});D.extend(B,D.Base,{_queue:null,initializer:function(){this._queue={interval:null,conn:null,requests:[]};this._initEvents();},destructor:function(){},_initEvents:function(){this.publish("request",{defaultFn:this._defRequestHandler});this.publish("response",{defaultFn:this._defResponseHandler});},_defRequestHandler:function(E,F){this.fire("response",null,D.mix(F,{response:this.get("source")}));},_defResponseHandler:function(E,F){this.returnData(F.tId,F.request,F.callback,{results:F.response});},sendRequest:function(E,G){var F=C._tId++;this.fire("request",null,{tId:F,request:E,callback:G});return F;},returnData:function(H,F,G,E){if(!E){E={error:true};}if(E.error){this.fire("error",{tId:H,request:F,response:E,callback:G});}E.tId=H;if(!E.results){E.results=[];}if(!E.meta){E.meta={};}B.issueCallback(G,[F,E,(G&&G.argument)],E.error);}});C.Base=B;},"@VERSION@",{requires:["base"]});