YUI.add("dd-proxy",function(G){var F=G.DD.DDM,B="node",C="dragNode",D="proxy",A="owner";var H=function(I){H.superclass.constructor.apply(this,arguments);};H.NAME="DDProxy";H.NS="proxy";H.ATTRS={moveOnEnd:{value:true},resizeFrame:{value:true},positionProxy:{value:true},borderStyle:{value:"1px solid #808080"},owner:{writeOnce:true,value:false}};var E={_proxyHandles:null,_setProxy:function(){if(!F._proxy){G.on("event:ready",G.bind(this._setProxy,this));return;}if(!this._proxyHandles){this._proxyHandles=[];}var L,M,K,I=this.get(A),J=I.get(C);if(J.compareTo(I.get(B))){if(F._proxy){I.set(C,F._proxy);}}for(L in this._proxyHandles){this._proxyHandles[L].detach();}M=F.on("ddm:start",G.bind(function(){if(F.activeDrag===I){F._setFrame(I);}},this));K=F.on("ddm:end",G.bind(function(){if(I.get("dragging")){if(this.get("moveOnEnd")){I.get(B).setXY(I.lastXY);}I.get(C).setStyle("display","none");}},this));this._proxyHandles=[M,K];},initializer:function(){this._setProxy();},destructor:function(){var I=this.get(A);for(var J in this._proxyHandles){this._proxyHandles[J].detach();}I.set(C,I.get(B));}};G.namespace("plugin");G.extend(H,G.Base,E);G.plugin.DDProxy=H;G.mix(F,{_createFrame:function(){if(!G.DD.DDM._proxy){G.DD.DDM._proxy=true;var J=G.Node.create("<div></div>"),I=G.Node.get("body");J.setStyles({position:"absolute",display:"none",zIndex:"999",top:"-999px",left:"-999px"});I.insertBefore(J,I.get("firstChild"));J.set("id",G.stamp(J));J.addClass(G.DD.DDM.CSS_PREFIX+"-proxy");G.DD.DDM._proxy=J;}},_setFrame:function(J){var M=J.get(B),L=J.get(C),I,K="auto";if(J.proxy.get("resizeFrame")){F._proxy.setStyles({height:M.get("offsetHeight")+"px",width:M.get("offsetWidth")+"px"});}I=F.activeDrag.get("activeHandle");if(I){K=I.getStyle("cursor");}if(K=="auto"){K=F.get("dragCursor");}L.setStyles({visibility:"hidden",display:"block",cursor:K,border:J.proxy.get("borderStyle")});if(J.proxy.get("positionProxy")){L.setXY(J.nodeXY);}L.setStyle("visibility","visible");}});G.on("event:ready",G.bind(G.DD.DDM._createFrame,G.DD.DDM));},"@VERSION@",{requires:["dd-ddm","dd-drag"],skinnable:false});