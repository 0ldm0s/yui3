YUI.add("graphics-vml",function(c,f){var n="vmlShape",a=/[a-z][^a-z]*/ig,i=/[-]?[0-9]*[0-9|\.][0-9]*/g,q=c.Lang,k=q.isNumber,l=q.isArray,g=q.isString,s=c.DOM,t=c.Selector,e=c.config.doc,j=c.AttributeLite,u,b,v,h,m,r,p,d=c.ClassNameManager.getClassName;function o(){}o.prototype={_pathSymbolToMethod:{M:"moveTo",m:"relativeMoveTo",L:"lineTo",l:"relativeLineTo",C:"curveTo",c:"relativeCurveTo",Q:"quadraticCurveTo",q:"relativeQuadraticCurveTo",z:"closePath",Z:"closePath"},_coordSpaceMultiplier:100,_round:function(w){return Math.round(w*this._coordSpaceMultiplier);},_addToPath:function(w){this._path=this._path||"";if(this._movePath){this._path+=this._movePath;this._movePath=null;}this._path+=w;},_currentX:0,_currentY:0,curveTo:function(){this._curveTo.apply(this,[c.Array(arguments),false]);},relativeCurveTo:function(){this._curveTo.apply(this,[c.Array(arguments),true]);},_curveTo:function(z,Q){var F,M,O,N,B,A,R,P,D,E,G,K=0,L,H,C=Q?" v ":" c ",J=Q?parseFloat(this._currentX):0,I=Q?parseFloat(this._currentY):0;L=z.length-5;H=C;for(;K<L;K=K+6){O=parseFloat(z[K]);N=parseFloat(z[K+1]);B=parseFloat(z[K+2]);A=parseFloat(z[K+3]);x=parseFloat(z[K+4]);y=parseFloat(z[K+5]);if(K>0){H=H+", ";}H=H+this._round(O)+", "+this._round(N)+", "+this._round(B)+", "+this._round(A)+", "+this._round(x)+", "+this._round(y);O=O+J;N=N+I;B=B+J;A=A+I;x=x+J;y=y+I;P=Math.max(x,Math.max(O,B));E=Math.max(y,Math.max(N,A));D=Math.min(x,Math.min(O,B));G=Math.min(y,Math.min(N,A));F=Math.abs(P-D);M=Math.abs(E-G);R=[[this._currentX,this._currentY],[O,N],[B,A],[x,y]];this._setCurveBoundingBox(R,F,M);this._currentX=x;this._currentY=y;}this._addToPath(H);},quadraticCurveTo:function(){this._quadraticCurveTo.apply(this,[c.Array(arguments),false]);},relativeQuadraticCurveTo:function(){this._quadraticCurveTo.apply(this,[c.Array(arguments),true]);},_quadraticCurveTo:function(J,w){var E,D,C,B,N,M,L,K,A=this._currentX,z=this._currentY,F=0,H=J.length-3,O=[],I=w?parseFloat(this._currentX):0,G=w?parseFloat(this._currentY):0;for(;F<H;F=F+4){E=parseFloat(J[F])+I;D=parseFloat(J[F+1])+G;L=parseFloat(J[F+2])+I;K=parseFloat(J[F+3])+G;C=A+0.67*(E-A);B=z+0.67*(D-z);N=C+(L-A)*0.34;M=B+(K-z)*0.34;O.push(C),O.push(B),O.push(N),O.push(M);O.push(L);O.push(K);}this._curveTo.apply(this,[O,false]);},drawRect:function(z,C,A,B){this.moveTo(z,C);this.lineTo(z+A,C);this.lineTo(z+A,C+B);this.lineTo(z,C+B);this.lineTo(z,C);this._currentX=z;this._currentY=C;return this;},drawRoundRect:function(z,E,A,C,B,D){this.moveTo(z,E+D);this.lineTo(z,E+C-D);this.quadraticCurveTo(z,E+C,z+B,E+C);this.lineTo(z+A-B,E+C);this.quadraticCurveTo(z+A,E+C,z+A,E+C-D);this.lineTo(z+A,E+D);this.quadraticCurveTo(z+A,E,z+A-B,E);this.lineTo(z+B,E);this.quadraticCurveTo(z,E,z,E+D);return this;},drawCircle:function(z,D,w){var B=0,A=360,C=w*2;A*=65535;this._drawingComplete=false;this._trackSize(z+C,D+C);this.moveTo((z+C),(D+w));this._addToPath(" ae "+this._round(z+w)+", "+this._round(D+w)+", "+this._round(w)+", "+this._round(w)+", "+B+", "+A);return this;},drawEllipse:function(B,G,C,F){var E=0,D=360,A=C*0.5,z=F*0.5;D*=65535;this._drawingComplete=false;this._trackSize(B+C,G+F);this.moveTo((B+C),(G+z));this._addToPath(" ae "+this._round(B+A)+", "+this._round(B+A)+", "+this._round(G+z)+", "+this._round(A)+", "+this._round(z)+", "+E+", "+D);return this;},drawDiamond:function(z,D,C,w){var B=C*0.5,A=w*0.5;this.moveTo(z+B,D);this.lineTo(z+C,D+A);this.lineTo(z+B,D+w);this.lineTo(z,D+A);this.lineTo(z+B,D);return this;},drawWedge:function(z,D,B,A,w){var C=w*2;if(Math.abs(A)>360){A=360;}this._currentX=z;this._currentY=D;B*=-65535;A*=65536;B=Math.round(B);A=Math.round(A);this.moveTo(z,D);this._addToPath(" ae "+this._round(z)+", "+this._round(D)+", "+this._round(w)+" "+this._round(w)+", "+B+", "+A);this._trackSize(C,C);return this;},lineTo:function(){this._lineTo.apply(this,[c.Array(arguments),false]);},relativeLineTo:function(){this._lineTo.apply(this,[c.Array(arguments),true]);},_lineTo:function(D,w){var F=D[0],z,B,G,E,H=w?" r ":" l ",C=w?parseFloat(this._currentX):0,A=w?parseFloat(this._currentY):0;B=D.length;if(typeof F=="string"||typeof F=="number"){for(z=0;z<B;z=z+2){G=parseFloat(D[z]);E=parseFloat(D[z+1]);H+=" "+this._round(G)+", "+this._round(E);G=G+C;E=E+A;this._currentX=G;this._currentY=E;this._trackSize.apply(this,[G,E]);}}else{for(z=0;z<B;z=z+1){G=parseFloat(D[z][0]);E=parseFloat(D[z][1]);H+=" "+this._round(G)+", "+this._round(E);G=G+C;E=E+A;this._currentX=G;this._currentY=E;this._trackSize.apply([G,E]);}}this._addToPath(H);return this;},moveTo:function(){this._moveTo.apply(this,[c.Array(arguments),false]);},relativeMoveTo:function(){this._moveTo.apply(this,[c.Array(arguments),true]);},_moveTo:function(z,A){var w=parseFloat(z[0]);y=parseFloat(z[1]),command=A?" t ":" m ",relativeX=A?parseFloat(this._currentX):0,relativeY=A?parseFloat(this._currentY):0;this._movePath=command+this._round(w)+", "+this._round(y);w=w+relativeX;y=y+relativeY;this._trackSize(w,y);this._currentX=w;this._currentY=y;},_closePath:function(){var F=this.get("fill"),E=this.get("stroke"),B=this.node,z=this.get("width"),A=this.get("height"),D=this._path,C="",G=this._coordSpaceMultiplier;this._fillChangeHandler();this._strokeChangeHandler();if(D){if(F&&F.color){C+=" x";}if(E){C+=" e";}}if(D){B.path=D+C;}if(!isNaN(z)&&!isNaN(A)){B.coordOrigin=this._left+", "+this._top;B.coordSize=(z*G)+", "+(A*G);B.style.position="absolute";B.style.width=z+"px";B.style.height=A+"px";}this._path=D;this._movePath=null;this._updateTransform();},end:function(){this._closePath();},closePath:function(){this._addToPath(" x e");},clear:function(){this._right=0;this._bottom=0;this._width=0;this._height=0;this._left=0;this._top=0;this._path="";this._movePath=null;},getBezierData:function(C,B){var D=C.length,A=[],z,w;for(z=0;z<D;++z){A[z]=[C[z][0],C[z][1]];}for(w=1;w<D;++w){for(z=0;z<D-w;++z){A[z][0]=(1-B)*A[z][0]+B*A[parseInt(z+1,10)][0];A[z][1]=(1-B)*A[z][1]+B*A[parseInt(z+1,10)][1];}}return[A[0][0],A[0][1]];},_setCurveBoundingBox:function(J,F,C){var B=0,A=this._currentX,G=A,E=this._currentY,z=E,D=Math.round(Math.sqrt((F*F)+(C*C))),H=1/D,I;
for(;B<D;++B){I=this.getBezierData(J,H*B);A=isNaN(A)?I[0]:Math.min(I[0],A);G=isNaN(G)?I[0]:Math.max(I[0],G);E=isNaN(E)?I[1]:Math.min(I[1],E);z=isNaN(z)?I[1]:Math.max(I[1],z);}A=Math.round(A*10)/10;G=Math.round(G*10)/10;E=Math.round(E*10)/10;z=Math.round(z*10)/10;this._trackSize(G,z);this._trackSize(A,E);},_trackSize:function(z,A){if(z>this._right){this._right=z;}if(z<this._left){this._left=z;}if(A<this._top){this._top=A;}if(A>this._bottom){this._bottom=A;}this._width=this._right-this._left;this._height=this._bottom-this._top;},_left:0,_right:0,_top:0,_bottom:0,_width:0,_height:0};c.VMLDrawing=o;u=function(){this._transforms=[];this.matrix=new c.Matrix();this._normalizedMatrix=new c.Matrix();u.superclass.constructor.apply(this,arguments);};u.NAME="vmlShape";c.extend(u,c.GraphicBase,c.mix({_type:"shape",init:function(){this.initializer.apply(this,arguments);},initializer:function(w){var z=this,B=w.graphic,A=this.get("data");z.createNode();if(B){this._setGraphic(B);}if(A){z._parsePathData(A);}this._updateHandler();},_setGraphic:function(w){var z;if(w instanceof c.VMLGraphic){this._graphic=w;}else{w=c.one(w);z=new c.VMLGraphic({render:w});z._appendShape(this);this._graphic=z;this._appendStrokeAndFill();}},_appendStrokeAndFill:function(){if(this._strokeNode){this.node.appendChild(this._strokeNode);}if(this._fillNode){this.node.appendChild(this._fillNode);}},createNode:function(){var L,H=this.get("x"),F=this.get("y"),I=this.get("width"),N=this.get("height"),K,C,R,O=this.get("visible")?"visible":"hidden",Q,E,D,J,A,G,P,z,M,B;K=this.get("id");C=this._type=="path"?"shape":this._type;E="vml"+C+" "+d(n)+" "+d(this.constructor.NAME);D=this._getStrokeProps();M=this._getFillProps();R="<"+C+'  xmlns="urn:schemas-microsft.com:vml" id="'+K+'" class="'+E+'" style="behavior:url(#default#VML);display:inline-block;position:absolute;left:'+H+"px;top:"+F+"px;width:"+I+"px;height:"+N+"px;visibility:"+O+'"';if(D&&D.weight&&D.weight>0){J=D.endcap;A=parseFloat(D.opacity);G=D.joinstyle;P=D.miterlimit;z=D.dashstyle;R+=' stroked="t" strokecolor="'+D.color+'" strokeWeight="'+D.weight+'px"';Q='<stroke class="vmlstroke" xmlns="urn:schemas-microsft.com:vml" on="t" style="behavior:url(#default#VML);display:inline-block;"';Q+=' opacity="'+A+'"';if(J){Q+=' endcap="'+J+'"';}if(G){Q+=' joinstyle="'+G+'"';}if(P){Q+=' miterlimit="'+P+'"';}if(z){Q+=' dashstyle="'+z+'"';}Q+="></stroke>";this._strokeNode=e.createElement(Q);R+=' stroked="t"';}else{R+=' stroked="f"';}if(M){if(M.node){B=M.node;this._fillNode=e.createElement(B);}if(M.color){R+=' fillcolor="'+M.color+'"';}R+=' filled="'+M.filled+'"';}R+=">";R+="</"+C+">";L=e.createElement(R);this.node=L;this._strokeFlag=false;this._fillFlag=false;},addClass:function(w){var z=this.node;s.addClass(z,w);},removeClass:function(w){var z=this.node;s.removeClass(z,w);},getXY:function(){var B=this._graphic,z=B.getXY(),w=this.get("x"),A=this.get("y");return[z[0]+w,z[1]+A];},setXY:function(z){var A=this._graphic,w=A.getXY();this.set("x",z[0]-w[0]);this.set("y",z[1]-w[1]);},contains:function(w){return w===c.one(this.node);},compareTo:function(w){var z=this.node;return z===w;},test:function(w){return t.test(this.node,w);},_getStrokeProps:function(){var F,H=this.get("stroke"),D,z,B="",w,A=0,C,G,E;if(H&&H.weight&&H.weight>0){F={};G=H.linecap||"flat";E=H.linejoin||"round";if(G!="round"&&G!="square"){G="flat";}D=parseFloat(H.opacity);z=H.dashstyle||"none";H.color=H.color||"#000000";H.weight=H.weight||1;H.opacity=k(D)?D:1;F.stroked=true;F.color=H.color;F.weight=H.weight;F.endcap=G;F.opacity=H.opacity;if(l(z)){B=[];C=z.length;for(A=0;A<C;++A){w=z[A];B[A]=w/H.weight;}}if(E=="round"||E=="bevel"){F.joinstyle=E;}else{E=parseInt(E,10);if(k(E)){F.miterlimit=Math.max(E,1);F.joinstyle="miter";}}F.dashstyle=B;}return F;},_strokeChangeHandler:function(E){if(!this._strokeFlag){return;}var A=this.node,I=this.get("stroke"),F,z,C="",w,B=0,D,H,G;if(I&&I.weight&&I.weight>0){H=I.linecap||"flat";G=I.linejoin||"round";if(H!="round"&&H!="square"){H="flat";}F=parseFloat(I.opacity);z=I.dashstyle||"none";I.color=I.color||"#000000";I.weight=I.weight||1;I.opacity=k(F)?F:1;A.stroked=true;A.strokeColor=I.color;A.strokeWeight=I.weight+"px";if(!this._strokeNode){this._strokeNode=this._createGraphicNode("stroke");A.appendChild(this._strokeNode);}this._strokeNode.endcap=H;this._strokeNode.opacity=I.opacity;if(l(z)){C=[];D=z.length;for(B=0;B<D;++B){w=z[B];C[B]=w/I.weight;}}if(G=="round"||G=="bevel"){this._strokeNode.joinstyle=G;}else{G=parseInt(G,10);if(k(G)){this._strokeNode.miterlimit=Math.max(G,1);this._strokeNode.joinstyle="miter";}}this._strokeNode.dashstyle=C;this._strokeNode.on=true;}else{if(this._strokeNode){this._strokeNode.on=false;}A.stroked=false;}this._strokeFlag=false;},_getFillProps:function(){var E=this.get("fill"),w,B,D,z,A,C=false;if(E){B={};if(E.type=="radial"||E.type=="linear"){w=parseFloat(E.opacity);w=k(w)?w:1;C=true;D=this._getGradientFill(E);A='<fill xmlns="urn:schemas-microsft.com:vml" class="vmlfill" style="behavior:url(#default#VML);display:inline-block;" opacity="'+w+'"';for(z in D){if(D.hasOwnProperty(z)){A+=" "+z+'="'+D[z]+'"';}}A+=" />";B.node=A;}else{if(E.color){w=parseFloat(E.opacity);C=true;B.color=E.color;if(k(w)){w=Math.max(Math.min(w,1),0);B.opacity=w;if(w<1){B.node='<fill xmlns="urn:schemas-microsft.com:vml" class="vmlfill" style="behavior:url(#default#VML);display:inline-block;" type="solid" opacity="'+w+'"/>';}}}}B.filled=C;}return B;},_fillChangeHandler:function(F){if(!this._fillFlag){return;}var B=this.node,E=this.get("fill"),w,A,C=false,z,D;if(E){if(E.type=="radial"||E.type=="linear"){C=true;D=this._getGradientFill(E);if(this._fillNode){for(z in D){if(D.hasOwnProperty(z)){if(z=="colors"){this._fillNode.colors.value=D[z];}else{this._fillNode[z]=D[z];}}}}else{A='<fill xmlns="urn:schemas-microsft.com:vml" class="vmlfill" style="behavior:url(#default#VML);display:inline-block;"';for(z in D){if(D.hasOwnProperty(z)){A+=" "+z+'="'+D[z]+'"';}}A+=" />";this._fillNode=e.createElement(A);B.appendChild(this._fillNode);
}}else{if(E.color){B.fillcolor=E.color;w=parseFloat(E.opacity);C=true;if(k(w)&&w<1){E.opacity=w;if(this._fillNode){if(this._fillNode.getAttribute("type")!="solid"){this._fillNode.type="solid";}this._fillNode.opacity=w;}else{A='<fill xmlns="urn:schemas-microsft.com:vml" class="vmlfill" style="behavior:url(#default#VML);display:inline-block;" type="solid" opacity="'+w+'"/>';this._fillNode=e.createElement(A);B.appendChild(this._fillNode);}}else{if(this._fillNode){this._fillNode.opacity=1;this._fillNode.type="solid";}}}}}B.filled=C;this._fillFlag=false;},_updateFillNode:function(w){if(!this._fillNode){this._fillNode=this._createGraphicNode("fill");w.appendChild(this._fillNode);}},_getGradientFill:function(R){var V={},J,H,G=R.type,K=this.get("width"),U=this.get("height"),L=k,P,I=R.stops,T=I.length,E,Q,S=0,M,z="",C=R.cx,A=R.cy,D=R.fx,B=R.fy,N=R.r,F,O=R.rotation||0;if(G==="linear"){if(O<=270){O=Math.abs(O-270);}else{if(O<360){O=270+(360-O);}else{O=270;}}V.type="gradient";V.angle=O;}else{if(G==="radial"){J=K*(N*2);H=U*(N*2);D=N*2*(D-0.5);B=N*2*(B-0.5);D+=C;B+=A;V.focussize=(J/K)/10+"% "+(H/U)/10+"%";V.alignshape=false;V.type="gradientradial";V.focus="100%";V.focusposition=Math.round(D*100)+"% "+Math.round(B*100)+"%";}}for(;S<T;++S){P=I[S];Q=P.color;E=P.opacity;E=L(E)?E:1;F=P.offset||S/(T-1);F*=(N*2);F=Math.round(100*F)+"%";M=S>0?S+1:"";V["opacity"+M]=E+"";z+=", "+F+" "+Q;}if(parseFloat(F)<100){z+=", 100% "+Q;}V.colors=z.substr(2);return V;},_addTransform:function(z,w){w=c.Array(w);this._transform=q.trim(this._transform+" "+z+"("+w.join(", ")+")");w.unshift(z);this._transforms.push(w);if(this.initialized){this._updateTransform();}},_updateTransform:function(){var B=this.node,K,A,C,J=this.get("x"),H=this.get("y"),F,D,I=this.matrix,w=this._normalizedMatrix,z=this instanceof c.VMLPath,E=0,G=this._transforms.length;if(this._transforms&&this._transforms.length>0){C=this.get("transformOrigin");if(z){w.translate(this._left,this._top);}F=C[0]-0.5;D=C[1]-0.5;F=Math.max(-0.5,Math.min(0.5,F));D=Math.max(-0.5,Math.min(0.5,D));for(;E<G;++E){K=this._transforms[E].shift();if(K){w[K].apply(w,this._transforms[E]);I[K].apply(I,this._transforms[E]);}}if(z){w.translate(-this._left,-this._top);}A=w.a+","+w.c+","+w.b+","+w.d+","+0+","+0;}this._graphic.addToRedrawQueue(this);if(A){if(!this._skew){this._skew=e.createElement('<skew class="vmlskew" xmlns="urn:schemas-microsft.com:vml" on="false" style="behavior:url(#default#VML);display:inline-block;" />');this.node.appendChild(this._skew);}this._skew.matrix=A;this._skew.on=true;this._skew.origin=F+", "+D;}if(this._type!="path"){this._transforms=[];}B.style.left=(J+this._getSkewOffsetValue(w.dx))+"px";B.style.top=(H+this._getSkewOffsetValue(w.dy))+"px";},_getSkewOffsetValue:function(z){var w=c.MatrixUtil.sign(z),A=Math.abs(z);z=Math.min(A,32767)*w;return z;},_translateX:0,_translateY:0,_transform:"",translate:function(w,z){this._translateX+=w;this._translateY+=z;this._addTransform("translate",arguments);},translateX:function(w){this._translateX+=w;this._addTransform("translateX",arguments);},translateY:function(w){this._translateY+=w;this._addTransform("translateY",arguments);},skew:function(w,z){this._addTransform("skew",arguments);},skewX:function(w){this._addTransform("skewX",arguments);},skewY:function(w){this._addTransform("skewY",arguments);},rotate:function(w){this._addTransform("rotate",arguments);},scale:function(w,z){this._addTransform("scale",arguments);},on:function(z,w){if(c.Node.DOM_EVENTS[z]){return c.one("#"+this.get("id")).on(z,w);}return c.on.apply(this,arguments);},_draw:function(){},_updateHandler:function(A){var z=this,w=z.node;z._fillChangeHandler();z._strokeChangeHandler();w.style.width=this.get("width")+"px";w.style.height=this.get("height")+"px";this._draw();z._updateTransform();},_createGraphicNode:function(w){w=w||this._type;return e.createElement("<"+w+' xmlns="urn:schemas-microsft.com:vml" style="behavior:url(#default#VML);display:inline-block;" class="vml'+w+'"/>');},_getDefaultFill:function(){return{type:"solid",cx:0.5,cy:0.5,fx:0.5,fy:0.5,r:0.5};},_getDefaultStroke:function(){return{weight:1,dashstyle:"none",color:"#000",opacity:1};},set:function(){var w=this;j.prototype.set.apply(w,arguments);if(w.initialized){w._updateHandler();}},getBounds:function(){var B=this instanceof c.VMLPath,A=this.get("width"),C=this.get("height"),z=this.get("x"),D=this.get("y");if(B){z=z+this._left;D=D+this._top;A=this._right-this._left;C=this._bottom-this._top;}return this._getContentRect(A,C,z,D);},_getContentRect:function(L,D,J,G){var B=this.get("transformOrigin"),K=B[0]*L,I=B[1]*D,F=this.matrix.getTransformArray(this.get("transform")),H=new c.Matrix(),C=0,E=F.length,A,M,N,z=this instanceof c.VMLPath;if(z){H.translate(this._left,this._top);}K=!isNaN(K)?K:0;I=!isNaN(I)?I:0;H.translate(K,I);for(;C<E;C=C+1){A=F[C];M=A.shift();if(M){H[M].apply(H,A);}}H.translate(-K,-I);if(z){H.translate(-this._left,-this._top);}N=H.getContentRect(L,D,J,G);return N;},toFront:function(){var w=this.get("graphic");if(w){w._toFront(this);}},toBack:function(){var w=this.get("graphic");if(w){w._toBack(this);}},_parsePathData:function(A){var w,C,E,G=c.Lang.trim(A.match(a)),B=0,D,F,z=this._pathSymbolToMethod;if(G){this.clear();D=G.length||0;for(;B<D;B=B+1){F=G[B];C=F.substr(0,1),E=F.substr(1).match(i);w=z[C];if(w){if(E){this[w].apply(this,E);}else{this[w].apply(this);}}}this.end();}},destroy:function(){var w=this.get("graphic");if(w){w.removeShape(this);}else{this._destroy();}},_destroy:function(){if(this.node){if(this._fillNode){this.node.removeChild(this._fillNode);this._fillNode=null;}if(this._strokeNode){this.node.removeChild(this._strokeNode);this._strokeNode=null;}c.one(this.node).remove(true);}}},c.VMLDrawing.prototype));u.ATTRS={transformOrigin:{valueFn:function(){return[0.5,0.5];}},transform:{setter:function(B){var A=0,w,z;this.matrix.init();this._normalizedMatrix.init();this._transforms=this.matrix.getTransformArray(B);w=this._transforms.length;for(;A<w;++A){z=this._transforms[A];
}this._transform=B;return B;},getter:function(){return this._transform;}},x:{value:0},y:{value:0},id:{valueFn:function(){return c.guid();},setter:function(z){var w=this.node;if(w){w.setAttribute("id",z);}return z;}},width:{value:0},height:{value:0},visible:{value:true,setter:function(A){var z=this.node,w=A?"visible":"hidden";if(z){z.style.visibility=w;}return A;}},fill:{valueFn:"_getDefaultFill",setter:function(B){var z,A,w=this.get("fill")||this._getDefaultFill();if(B){if(B.hasOwnProperty("color")){B.type="solid";}for(z in B){if(B.hasOwnProperty(z)){w[z]=B[z];}}}A=w;if(A&&A.color){if(A.color===undefined||A.color=="none"){A.color=null;}}this._fillFlag=true;return A;}},stroke:{valueFn:"_getDefaultStroke",setter:function(C){var A,B,w,z=this.get("stroke")||this._getDefaultStroke();if(C){if(C.hasOwnProperty("weight")){w=parseInt(C.weight,10);if(!isNaN(w)){C.weight=w;}}for(A in C){if(C.hasOwnProperty(A)){z[A]=C[A];}}}B=z;this._strokeFlag=true;return B;}},autoSize:{value:false},pointerEvents:{value:"visiblePainted"},node:{readOnly:true,getter:function(){return this.node;}},data:{setter:function(w){if(this.get("node")){this._parsePathData(w);}return w;}},graphic:{readOnly:true,getter:function(){return this._graphic;}}};c.VMLShape=u;v=function(){v.superclass.constructor.apply(this,arguments);};v.NAME="vmlPath";c.extend(v,c.VMLShape);v.ATTRS=c.merge(c.VMLShape.ATTRS,{width:{getter:function(){var w=Math.max(this._right-this._left,0);return w;}},height:{getter:function(){return Math.max(this._bottom-this._top,0);}},path:{readOnly:true,getter:function(){return this._path;}}});c.VMLPath=v;h=function(){h.superclass.constructor.apply(this,arguments);};h.NAME="vmlRect";c.extend(h,c.VMLShape,{_type:"rect"});h.ATTRS=c.VMLShape.ATTRS;c.VMLRect=h;m=function(){m.superclass.constructor.apply(this,arguments);};m.NAME="vmlEllipse";c.extend(m,c.VMLShape,{_type:"oval"});m.ATTRS=c.merge(c.VMLShape.ATTRS,{xRadius:{lazyAdd:false,getter:function(){var w=this.get("width");w=Math.round((w/2)*100)/100;return w;},setter:function(A){var z=A*2;this.set("width",z);return A;}},yRadius:{lazyAdd:false,getter:function(){var w=this.get("height");w=Math.round((w/2)*100)/100;return w;},setter:function(z){var w=z*2;this.set("height",w);return z;}}});c.VMLEllipse=m;b=function(w){b.superclass.constructor.apply(this,arguments);};b.NAME="vmlCircle";c.extend(b,u,{_type:"oval"});b.ATTRS=c.merge(u.ATTRS,{radius:{lazyAdd:false,value:0},width:{setter:function(w){this.set("radius",w/2);return w;},getter:function(){var w=this.get("radius"),z=w&&w>0?w*2:0;return z;}},height:{setter:function(w){this.set("radius",w/2);return w;},getter:function(){var w=this.get("radius"),z=w&&w>0?w*2:0;return z;}}});c.VMLCircle=b;p=function(){p.superclass.constructor.apply(this,arguments);};p.NAME="vmlPieSlice";c.extend(p,c.VMLShape,c.mix({_type:"shape",_draw:function(C){var z=this.get("cx"),D=this.get("cy"),B=this.get("startAngle"),A=this.get("arc"),w=this.get("radius");this.clear();this.drawWedge(z,D,B,A,w);this.end();}},c.VMLDrawing.prototype));p.ATTRS=c.mix({cx:{value:0},cy:{value:0},startAngle:{value:0},arc:{value:0},radius:{value:0}},c.VMLShape.ATTRS);c.VMLPieSlice=p;r=function(){r.superclass.constructor.apply(this,arguments);};r.NAME="vmlGraphic";r.ATTRS={render:{},id:{valueFn:function(){return c.guid();},setter:function(z){var w=this._node;if(w){w.setAttribute("id",z);}return z;}},shapes:{readOnly:true,getter:function(){return this._shapes;}},contentBounds:{readOnly:true,getter:function(){return this._contentBounds;}},node:{readOnly:true,getter:function(){return this._node;}},width:{setter:function(w){if(this._node){this._node.style.width=w+"px";}return w;}},height:{setter:function(w){if(this._node){this._node.style.height=w+"px";}return w;}},autoSize:{value:false},preserveAspectRatio:{value:"xMidYMid"},resizeDown:{resizeDown:false},x:{getter:function(){return this._x;},setter:function(w){this._x=w;if(this._node){this._node.style.left=w+"px";}return w;}},y:{getter:function(){return this._y;},setter:function(w){this._y=w;if(this._node){this._node.style.top=w+"px";}return w;}},autoDraw:{value:true},visible:{value:true,setter:function(w){this._toggleVisible(w);return w;}}};c.extend(r,c.GraphicBase,{set:function(z,D){var C=this,w={autoDraw:true,autoSize:true,preserveAspectRatio:true,resizeDown:true},B,A=false;j.prototype.set.apply(C,arguments);if(C._state.autoDraw===true&&c.Object.size(this._shapes)>0){if(q.isString&&w[z]){A=true;}else{if(q.isObject(z)){for(B in w){if(w.hasOwnProperty(B)&&z[B]){A=true;break;}}}}}if(A){C._redraw();}},_x:0,_y:0,getXY:function(){var z=this.parentNode,w=this.get("x"),B=this.get("y"),A;if(z){A=c.one(z).getXY();A[0]+=w;A[1]+=B;}else{A=c.DOM._getOffset(this._node);}return A;},initializer:function(z){var A=this.get("render"),w=this.get("visible")?"visible":"hidden";this._shapes={};this._contentBounds={left:0,top:0,right:0,bottom:0};this._node=e.createElement("div");this._node.style.position="absolute";this._node.style.left=this.get("x")+"px";this._node.style.top=this.get("y")+"px";this._node.style.visibility=w;this._node.setAttribute("id",this.get("id"));this._contentNode=this._createGraphic();this._contentNode.style.position="absolute";this._contentNode.style.left="0px";this._contentNode.style.top="0px";this._contentNode.style.visibility=w;this._node.appendChild(this._contentNode);if(A){this.render(A);}},render:function(C){var z=c.one(C),A=this.get("width")||parseInt(z.getComputedStyle("width"),10),B=this.get("height")||parseInt(z.getComputedStyle("height"),10);z=z||e.body;z.appendChild(this._node);this.parentNode=z;this.set("width",A);this.set("height",B);return this;},destroy:function(){this.clear();c.one(this._node).remove(true);},addShape:function(w){w.graphic=this;if(!this.get("visible")){w.visible=false;}var A=this._getShapeClass(w.type),z=new A(w);this._appendShape(z);z._appendStrokeAndFill();return z;},_appendShape:function(z){var A=z.node,w=this._frag||this._contentNode;if(this.get("autoDraw")||this.get("autoSize")=="sizeContentToGraphic"){w.appendChild(A);
}else{this._getDocFrag().appendChild(A);}},removeShape:function(w){if(!(w instanceof u)){if(q.isString(w)){w=this._shapes[w];}}if(w&&(w instanceof u)){w._destroy();this._shapes[w.get("id")]=null;delete this._shapes[w.get("id")];}if(this.get("autoDraw")){this._redraw();}},removeAllShapes:function(){var w=this._shapes,z;for(z in w){if(w.hasOwnProperty(z)){w[z].destroy();}}this._shapes={};},_removeChildren:function(w){if(w.hasChildNodes()){var z;while(w.firstChild){z=w.firstChild;this._removeChildren(z);w.removeChild(z);}}},clear:function(){this.removeAllShapes();this._removeChildren(this._contentNode);},_toggleVisible:function(B){var A,z=this._shapes,w=B?"visible":"hidden";if(z){for(A in z){if(z.hasOwnProperty(A)){z[A].set("visible",B);}}}if(this._contentNode){this._contentNode.style.visibility=w;}if(this._node){this._node.style.visibility=w;}},setSize:function(z,A){z=Math.round(z);A=Math.round(A);this._node.style.width=z+"px";this._node.style.height=A+"px";},setPosition:function(w,z){w=Math.round(w);z=Math.round(z);this._node.style.left=w+"px";this._node.style.top=z+"px";},_createGraphic:function(){var w=e.createElement('<group xmlns="urn:schemas-microsft.com:vml" style="behavior:url(#default#VML);display:block;position:absolute;top:0px;left:0px;zoom:1;" />');return w;},_createGraphicNode:function(w){return e.createElement("<"+w+' xmlns="urn:schemas-microsft.com:vml" style="behavior:url(#default#VML);display:inline-block;zoom:1;" />');},getShapeById:function(w){return this._shapes[w];},_getShapeClass:function(z){var w=this._shapeClass[z];if(w){return w;}return z;},_shapeClass:{circle:c.VMLCircle,rect:c.VMLRect,path:c.VMLPath,ellipse:c.VMLEllipse,pieslice:c.VMLPieSlice},batch:function(z){var w=this.get("autoDraw");this.set("autoDraw",false);z.apply();this.set("autoDraw",w);},_getDocFrag:function(){if(!this._frag){this._frag=e.createDocumentFragment();}return this._frag;},addToRedrawQueue:function(w){var A,z;this._shapes[w.get("id")]=w;if(!this.get("resizeDown")){A=w.getBounds();z=this._contentBounds;z.left=z.left<A.left?z.left:A.left;z.top=z.top<A.top?z.top:A.top;z.right=z.right>A.right?z.right:A.right;z.bottom=z.bottom>A.bottom?z.bottom:A.bottom;z.width=z.right-z.left;z.height=z.bottom-z.top;this._contentBounds=z;}if(this.get("autoDraw")){this._redraw();}},_redraw:function(){var G=this.get("autoSize"),H,z,D,P=0,B=0,F=this.get("resizeDown")?this._getUpdatedContentBounds():this._contentBounds,C=F.left,N=F.right,I=F.top,E=F.bottom,K=N-C,L=E-I,w,J,Q,M,O,A=this.get("visible");this._contentNode.style.visibility="hidden";if(G){if(G=="sizeContentToGraphic"){H=this.get("preserveAspectRatio");z=this.get("width");D=this.get("height");if(H=="none"||K/L===z/D){P=C;B=I;J=K;Q=L;}else{if(K*D/L>z){w=D/z;J=K;Q=K*w;O=(z*(L/K))*(Q/D);B=this._calculateCoordOrigin(H.slice(5).toLowerCase(),O,Q);B=I+B;P=C;}else{w=z/D;J=L*w;Q=L;M=(D*(K/L))*(J/z);P=this._calculateCoordOrigin(H.slice(1,4).toLowerCase(),M,J);P=P+C;B=I;}}this._contentNode.style.width=z+"px";this._contentNode.style.height=D+"px";this._contentNode.coordOrigin=P+", "+B;}else{J=K;Q=L;this._contentNode.style.width=K+"px";this._contentNode.style.height=L+"px";this._state.width=K;this._state.height=L;if(this._node){this._node.style.width=K+"px";this._node.style.height=L+"px";}}this._contentNode.coordSize=J+", "+Q;}else{this._contentNode.style.width=N+"px";this._contentNode.style.height=E+"px";this._contentNode.coordSize=N+", "+E;}if(this._frag){this._contentNode.appendChild(this._frag);this._frag=null;}if(A){this._contentNode.style.visibility="visible";}},_calculateCoordOrigin:function(w,z,B){var A;switch(w){case"min":A=0;break;case"mid":A=(z-B)/2;break;case"max":A=(z-B);break;}return A;},_getUpdatedContentBounds:function(){var C,A,z,w=this._shapes,B={};for(A in w){if(w.hasOwnProperty(A)){z=w[A];C=z.getBounds();B.left=q.isNumber(B.left)?Math.min(B.left,C.left):C.left;B.top=q.isNumber(B.top)?Math.min(B.top,C.top):C.top;B.right=q.isNumber(B.right)?Math.max(B.right,C.right):C.right;B.bottom=q.isNumber(B.bottom)?Math.max(B.bottom,C.bottom):C.bottom;}}B.left=q.isNumber(B.left)?B.left:0;B.top=q.isNumber(B.top)?B.top:0;B.right=q.isNumber(B.right)?B.right:0;B.bottom=q.isNumber(B.bottom)?B.bottom:0;this._contentBounds=B;return B;},_toFront:function(z){var w=this._contentNode;if(z instanceof c.VMLShape){z=z.get("node");}if(w&&z){w.appendChild(z);}},_toBack:function(z){var w=this._contentNode,A;if(z instanceof c.VMLShape){z=z.get("node");}if(w&&z){A=w.firstChild;if(A){w.insertBefore(z,A);}else{w.appendChild(z);}}}});c.VMLGraphic=r;},"@VERSION@",{"requires":["graphics"]});