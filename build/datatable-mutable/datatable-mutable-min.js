YUI.add("datatable-mutable",function(a,j){var c=a.Array,f=a.Lang,b=f.isString,d=f.isArray,i=f.isObject,h=f.isNumber,g=a.Array.indexOf,e;a.namespace("DataTable").Mutable=e=function(){};e.ATTRS={autoSync:{value:false,validator:f.isBoolean}};a.mix(e.prototype,{addColumn:function(l,k){if(b(l)){l={key:l};}if(l){if(arguments.length<2||(!h(k)&&!d(k))){k=this.get("columns").length;}this.fire("addColumn",{column:l,index:k});}return this;},modifyColumn:function(l,k){if(b(k)){k={key:k};}if(i(k)){this.fire("modifyColumn",{column:l,newColumnDef:k});}return this;},moveColumn:function(l,k){if(l!==undefined&&(h(k)||d(k))){this.fire("moveColumn",{column:l,index:k});}return this;},removeColumn:function(k){if(k!==undefined){this.fire("removeColumn",{column:k});}return this;},addRow:function(q,n){var p=(n&&("sync" in n))?n.sync:this.get("autoSync"),r,m,o,k,l;if(q&&this.data){r=this.data.add.apply(this.data,arguments);if(p){r=c(r);l=c(arguments,1,true);for(o=0,k=r.length;o<k;++o){m=r[o];if(m.isNew()){r[o].save.apply(r[o],l);}}}}return this;},removeRow:function(l,n){var m=this.data,s=(n&&("sync" in n))?n.sync:this.get("autoSync"),k,p,o,q,r;if(i(l)&&l instanceof this.get("recordType")){p=l;}else{if(m&&l!==undefined){p=m.getById(l)||m.getByClientId(l)||m.item(l);}}if(p){r=c(arguments,1,true);k=m.remove.apply(m,[p].concat(r));if(s){if(!i(r[0])){r.unshift({});}r[0]["delete"]=true;k=c(k);for(o=0,q=k.length;o<q;++o){p=k[o];p.destroy.apply(p,r);}}}return this;},modifyRow:function(q,p,m){var n=this.data,o=(m&&("sync" in m))?m.sync:this.get("autoSync"),l,k;if(i(q)&&q instanceof this.get("recordType")){l=q;}else{if(n&&q!==undefined){l=n.getById(q)||n.getByClientId(q)||n.item(q);}}if(l&&i(p)){k=c(arguments,1,true);l.setAttrs.apply(l,k);if(o&&!l.isNew()){l.save.apply(l,k);}}return this;},_defAddColumnFn:function(p){var l=c(p.index),n=this.get("columns"),o=n,m,k;for(m=0,k=l.length-1;o&&m<k;++m){o=o[l[m]]&&o[l[m]].children;}if(o){o.splice(l[m],0,p.column);this.set("columns",n,{originEvent:p});}},_defModifyColumnFn:function(m){var k=this.get("columns"),l=this.getColumn(m.column);if(l){a.mix(l,m.newColumnDef,true);this.set("columns",k,{originEvent:m});}},_defMoveColumnFn:function(q){var m=this.get("columns"),l=this.getColumn(q.column),n=c(q.index),k,r,s,o,p;if(l){k=l._parent?l._parent.children:m;r=g(k,l);if(r>-1){s=m;for(o=0,p=n.length-1;s&&o<p;++o){s=s[n[o]]&&s[n[o]].children;}if(s){p=s.length;k.splice(r,1);n=n[o];if(p>s.lenth){if(r<n){n--;}}s.splice(n,0,l);this.set("columns",m,{originEvent:q});}}}},_defRemoveColumnFn:function(o){var l=this.get("columns"),m=this.getColumn(o.column),n,k;if(m){n=m._parent?m._parent.children:l;k=a.Array.indexOf(n,m);if(k>-1){n.splice(k,1);this.set("columns",l,{originEvent:o});}}},initializer:function(){this.publish({addColumn:{defaultFn:a.bind("_defAddColumnFn",this)},removeColumn:{defaultFn:a.bind("_defRemoveColumnFn",this)},moveColumn:{defaultFn:a.bind("_defMoveColumnFn",this)},modifyColumn:{defaultFn:a.bind("_defModifyColumnFn",this)}});}});e.prototype.addRows=e.prototype.addRow;if(f.isFunction(a.DataTable)){a.Base.mix(a.DataTable,[e]);}},"@VERSION@",{"requires":["datatable-base"]});