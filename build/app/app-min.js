YUI.add("app",function(f){function d(){}d.prototype={render:function(j,i){var g=this,h=g.get("renderer");if(h){h.call(g,function(){g.set("rendered",true);if(j){j.call(g,i);}},i);}}};f.RenderTarget=d;var a={},c=function(g){c.superclass.constructor.apply(this,arguments);};c.NAME="App";c.ATTRS={id:a,modal:a,modalFocus:a,renderer:a};f.extend(c,f.Base,{initializer:function(){this.history=new f.HistoryHash();this.navs={};},addNav:function(h){var g=this,i=h.get("id");g.navs[i]=h;h.set("parent",g);h.on("currentViewIdChange",function(j){g.save(h,h.getView(j.newVal));});return h;},removeNav:function(h){var i=h,g;if(f.Lang.isObject(h)){i=h.get("id");}delete this.navs[i];return g||h;},save:function(i,g){if(!g.get("ephemeral")){var j=g.get("state"),h=g.get("id");if(j){h+=i.get("stateDelimeter")+j;}this.history.addValue(i.get("id"),h);}else{}return this;}});f.augment(c,f.RenderTarget);f.App=c;var b=function(g){b.superclass.constructor.apply(this,arguments);};b.NAME="Nav";b.ATTRS={id:a,parent:a,defaultViewId:a,currentViewId:a,stateDelimeter:{value:"|"},renderer:a};f.extend(b,f.Base,{initializer:function(){var g=this;g.views={};f.on("history:change",function(h){if(h.src===f.HistoryHash.SRC_HASH){var j=g.get("id"),i=h.changed[j];if(i){g.navigate(function(){},i.newVal);}else{if(h.removed.nav){}}}});},addView:function(g){var h=g.get("id");this.views[h]=g;if(!this.get("defaultViewId")){this.set("defaultViewId",h);}g.set("parent",this);return this;},removeView:function(g){var i=this.getViewId(g)[0],h=this.getView(g);delete this.views[i];return h;},getViewId:function(g){var j=g,i,h;if(f.Lang.isObject(g)){j=g.get("id");h=g.get("state");}i=j.split(this.get("stateDelimeter"));if(!i[1]&&h){i[1]=h;}return i;},getView:function(g){var h=this.getViewId(g)[0];return this.views[h];},navigate:function(l,h){var i=this,j,k,g=l;if(!h){j=i.get("parent").history.get(i.get("id"));}k=i.getViewId(h||j||i.get("currentViewId")||i.get("defaultViewId"));h=i.getView(k[0]);if(k[1]){h.set("state",k[1]);}h.render(function(){i.set("currentViewId",h.get("id"));if(g){g.call(i,h);}},k[1]);}});f.augment(b,f.RenderTarget);f.Nav=b;var e=function(g){e.superclass.constructor.apply(this,arguments);};e.NAME="View";e.ATTRS={id:a,parent:a,header:a,footer:a,renderer:a,state:a,ephemeral:{value:false}};f.extend(e,f.Base,{});f.augment(e,f.RenderTarget);f.View=e;},"@VERSION@",{requires:["base-base","history"]});