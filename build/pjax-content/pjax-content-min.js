YUI.add("pjax-content",function(b){function a(){}a.prototype={getContent:function(f){var e={},c=this.get("contentSelector"),h=b.Node.create(f||""),d=this.get("titleSelector"),g;if(c){e.node=h.all(c).toFrag();}else{e.node=h;}if(d){g=h.one(d);if(g){e.title=g.get("text");}}return e;},loadContent:function(f,d,e){var c=f.url;if(this._request){this._request.abort();}if(this.get("addPjaxParam")){c=c.replace(/([^#]*)(#.*)?$/,function(g,i,h){i+=(i.indexOf("?")>-1?"&":"?")+"pjax=1";return i+(h||"");});}this._request=b.io(c,{"arguments":{route:{req:f,res:d,next:e},url:c},context:this,headers:{"X-PJAX":"true"},timeout:this.get("timeout"),on:{complete:this._onPjaxIOComplete,end:this._onPjaxIOEnd}});},_onPjaxIOComplete:function(i,d,f){var h=this.getContent(d.responseText),c=f.route,g=c.req,e=c.res;g.ioURL=f.url;e.content=h;e.ioResponse=d;c.next();},_onPjaxIOEnd:function(){this._request=null;}};a.ATTRS={addPjaxParam:{value:true},contentSelector:{value:null},titleSelector:{value:"title"},timeout:{value:30000}};b.PjaxContent=a;},"@VERSION@",{requires:["io-base","node-base","router"]});