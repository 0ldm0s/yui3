YUI.add("scrollview-scrollbars",function(F){var A=F.ClassNameManager.getClassName,D=F.Transition.useNative,C,B="scrollbar",E="scrollview";function G(){G.superclass.constructor.apply(this,arguments);}G.CLASS_NAMES={showing:A(E,B,"showing"),scrollbar:A(E,B),scrollbarV:A(E,B,"vert"),scrollbarH:A(E,B,"horiz"),scrollbarVB:A(E,B,"vert","basic"),scrollbarHB:A(E,B,"horiz","basic"),child:A(E,"child"),first:A(E,"first"),middle:A(E,"middle"),last:A(E,"last")};C=G.CLASS_NAMES;G.NAME="pluginScrollViewScrollbars";G.NS="scrollbars";G.SCROLLBAR_TEMPLATE=["<div>",'<span class="'+C.child+" "+C.first+'"></span>','<span class="'+C.child+" "+C.middle+'"></span>','<span class="'+C.child+" "+C.last+'"></span>',"</div>"].join("");G.ATTRS={verticalNode:{setter:"_setNode",value:F.Node.create(G.SCROLLBAR_TEMPLATE)},horizontalNode:{setter:"_setNode",value:F.Node.create(G.SCROLLBAR_TEMPLATE)}};F.namespace("Plugin").ScrollViewScrollbars=F.extend(G,F.Plugin.Base,{initializer:function(){this._host=this.get("host");this.afterHostMethod("_uiScrollY",this._update);this.afterHostMethod("_uiScrollX",this._update);this.afterHostMethod("_uiDimensionsChange",this._hostDimensionsChange);this.doAfter("scrollEnd",this.flash);},_hostDimensionsChange:function(){var L=this._host,J=L._bb,I=this.get("verticalNode"),M=this.get("horizontalNode"),K=I.inDoc(),H=M.inDoc();if(L._scrollsVertical&&!K){J.append(I);if(this._basic){I.addClass(C.scrollbarVB);}this._setChildCache(I);}else{if(!L._scrollsVertical&&K){I.remove();this._clearChildCache(I);}}if(L._scrollsHorizontal&&!H){J.append(M);if(this._basic){M.addClass(C.scrollbarHB);}this._setChildCache(M);}else{if(!L._scrollsHorizontal&&H){M.remove();this._clearChildCache(M);}}this._update();F.later(500,this,"flash",true);},_setChildCache:function(K){var M=K.get("children"),I=M.item(0),L=M.item(1),J=M.item(2),H=K.getData("isHorizontal")?"offsetWidth":"offsetHeight";K.setData("childCache",{fc:I,lc:J,mc:L,fcSize:I&&I.get(H),lcSize:J&&J.get(H)});},_clearChildCache:function(H){H.clearData("childCache");},_updateBar:function(I,P,J,b){var N=this._host,K=this._basic,O=N._cb,U=0,Q=1,a,R,c,W,Y,T=(b)?"width":"height",L=(b)?"left":"top",X=(b)?"_sbh":"_sbv",H=I.getData("childCache"),V=H.lc,Z=H.mc,e=H.fcSize,d=H.lcSize,S=N.get(T),M=(b)?N._scrollWidth||O.get("scrollWidth"):N._scrollHeight||O.get("scrollHeight");J=J/1000;U=Math.floor(S*(S/M));Q=Math.floor((P/(M-S))*(S-U))*-1;if(U>S){U=1;}if(D){W=(b)?"translateX("+Q+"px)":"translateY("+Q+"px)";}else{Y=Q;}if(Q>(S-U)){U=U-(Q-(S-U));}if(Q<0){if(D){W=(b)?"translateX(0)":"translateY(0)";}else{Y=0;}U=Q+U;}R=(U-(e+d));if(this[X]!==R){this[X]=R;a={duration:J};if(D){a.transform=(b)?"scaleX("+R+")":"scaleY("+R+")";}else{a[T]=R;}Z.transition(a);}a={duration:J};if(D){a.transform=W;}else{a[L]=Y;}I.transition(a);if(!b||!K){a={duration:J};c=U-e;if(D){a.transform=(b)?"translateX("+c+"px)":"translateY("+c+"px)";}else{a[L]=c;}V.transition(a);}},_update:function(I,L,M){var K=this.get("verticalNode"),H=this.get("horizontalNode"),J=this._host;L=L||0;if(!this._showingScrollBars){this.show();}if(J._scrollsVertical&&K){this._updateBar(K,I*-1,L,false);}if(J._scrollsHorizontal&&H){this._updateBar(H,I*-1,L,true);}},show:function(H){this._show(true,H);},hide:function(H){this._show(false,H);},_show:function(H,J){var I=this.get("verticalNode"),K=this.get("horizontalNode"),L={duration:(J)?0.6:0,opacity:(H)?1:0};this._showingScrollBars=H;if(this._flashTimer){this._flashTimer.cancel();}if(I){I.transition(L);}if(K){K.transition(L);}},flash:function(){var H=false,I=this._host;if(I._scrollsVertical&&(I._scrollHeight>I.get("height"))){H=true;}if(I._scrollsHorizontal&&(I._scrollWidth>this.get("host").get("width"))){H=true;}if(H){this.show(true);this._flashTimer=F.later(800,this,"hide",true);}},_setNode:function(I,H){var J=(H=="horizontalNode");I=F.one(I);if(I){I.addClass(C.scrollbar);I.addClass((J)?C.scrollbarH:C.scrollbarV);I.setData("isHorizontal",J);}return I;},_basic:F.UA.ie&&F.UA.ie<=8});},"@VERSION@",{skinnable:true,requires:["plugin"]});