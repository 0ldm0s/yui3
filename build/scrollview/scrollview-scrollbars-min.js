YUI.add("scrollview-scrollbars",function(B){var A=B.ScrollView.CLASS_NAMES;function C(){C.superclass.constructor.apply(this,arguments);}C.NAME="scrollbars-plugin";C.NS="scrollbars";C.SCROLLBAR_TEMPLATE=["<div>",'<b class="'+A.child+" "+A.b+'"></b>','<span class="'+A.child+" "+A.middle+'"></span>','<b class="'+A.child+" "+A.b+'"></b>',"</div>"].join("");C.ATTRS={verticalNode:{setter:"_setVerticalNode",value:B.Node.create(C.SCROLLBAR_TEMPLATE)},horizontalNode:{setter:"_setHorizontalNode",value:B.Node.create(C.SCROLLBAR_TEMPLATE)}};B.namespace("Plugin").ScrollViewScrollbars=B.extend(C,B.Plugin.Base,{initializer:function(){this.afterHostMethod("_uiScrollY",this._update);this.afterHostMethod("_uiScrollX",this._update);this.afterHostMethod("_uiDimensionsChange",this._hostDimensionsChange);this.doAfter("scrollEnd",this.flash);},_hostDimensionsChange:function(){var H=this.get("host"),F=this.get("host").get("boundingBox"),E=this.get("verticalNode"),I=this.get("horizontalNode"),G=E.inDoc(),D=I.inDoc();if(H._scrollsVertical&&!G){F.append(E);}else{if(!H._scrollsVertical&&G){E.remove();}}if(H._scrollsHorizontal&&!D){F.append(I);}else{if(!H._scrollsHorizontal&&D){I.remove();}}this._update();B.later(500,this,"flash",true);},_update:function(N,L,O){var K=this.get("host").get("contentBox"),D=0,G=1,I,R=this.get("host").get("height"),E=this.get("host").get("width"),S=K.get("scrollHeight"),M=K.get("scrollWidth"),P=this.get("verticalNode"),Q=this.get("horizontalNode"),H=this.get("host").get("scrollX")*-1,F=this.get("host").get("scrollY")*-1,J;if(!this._showingScrollBars){this.show();}if(Q&&S<=R){this.hide();return;}if(P){D=Math.floor(R*(R/S));G=Math.floor((F/(S-R))*(R-D))*-1;if(D>R){D=1;}I="translate(0, "+G+"px)";if(G>(R-D)){D=D-(G-(R-D));}if(G<0){I="translate3d(0,0,0)";D=D+G;}L=L||0;if(this.verticalScrollSize!=(D-8)){this.verticalScrollSize=(D-8);J=P.get("children").item(1);J.transition({duration:L/1000,transform:"translate(0,0) scaleY("+(D-8)+")"});}P.transition({transform:I,duration:L/1000});P.get("children").item(2).transition({transform:"translate(0,"+(D-10)+"px)",duration:L/1000});}if(Q){D=Math.floor(E*(E/M));G=Math.floor((H/(M-E))*(E-D))*-1;if(D>E){D=1;}I="translate("+G+"px, 0)";if(G>(E-D)){D=D-(G-(E-D));}if(G<0){I="translate(0,0)";D=D+G;}L=L||0;if(this.horizontalScrollSize!=(D-16)){this.horizontalScrollSize=(D-16);Q.get("children").item(1).transition({transform:"translate(0,0) scaleX("+this.horizontalScrollSize+")",duration:L/1000});}Q.transition({transform:I,duration:L+"ms"});Q.get("children").item(2).transition({transform:"translate("+(D-12)+"px,0)",duration:L/1000});}},show:function(E){var D=this.get("verticalNode"),F=this.get("horizontalNode");this._showingScrollBars=true;if(this._flashTimer){this._flashTimer.cancel();}if(E){if(D){D.transition({opacity:0.6});}if(F){F.transition({opacity:0.6});}}if(D){D.addClass(A.showing);}if(F){F.addClass(A.showing);}},hide:function(E){var D=this.get("verticalNode"),F=this.get("horizontalNode");this._showingScrollBars=false;if(this._flashTimer){this._flashTimer.cancel();}if(E){if(D){D.transition({opacity:0.6});}if(F){F.transition({opacity:0.6});}}if(D){D.removeClass(A.showing);}if(F){F.removeClass(A.showing);}},flash:function(){var D=false;if(this.get("host")._scrollsVertical&&this.get("host").get("contentBox").get("scrollHeight")>this.get("host").get("height")){D=true;}if(this.get("host")._scrollsHorizontal&&this.get("host").get("contentBox").get("scrollWidth")>this.get("host").get("width")){D=true;}if(D){this.show(true);this._flashTimer=B.later(800,this,"hide",true);}},_setVerticalNode:function(D){D=B.one(D);if(D){D.addClass(A.scrollbar);D.addClass(A.vertical);}return D;},_setHorizontalNode:function(D){D=B.one(D);if(D){D.addClass(A.scrollbar);D.addClass(A.horizontal);}return D;}});},"@VERSION@",{skinnable:true,requires:["plugin"]});