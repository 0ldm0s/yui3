YUI.add("event-synthetic",function(B){var G=B.Env.evt.dom_map,D=B.Array,F=B.Lang,I=F.isObject,C=F.isString,H=function(){};function E(L,J,K){this.handle=L;this.emitFacade=J;this.delegate=K;}E.prototype.fire=function(N){var J=D(arguments,0,true),M=this.handle.evt,L=N,K;if(this.emitFacade){K=I(N)&&!N.preventDefault;if(!N||!N.preventDefault){M.details=J.slice();L=M._getFacade();}if(K){B.mix(L,N,true);J[0]=L;}else{J.unshift(L);}L.type=M.type;if(this.delegate){L.container=M.host;M.currentTarget=L.currentTarget;}}M.fire.apply(M,J);};function A(){this._init.apply(this,arguments);}A.prototype={constructor:A,_init:function(){if(!this.publishConfig){this.publishConfig={};}this.emitFacade=("emitFacade" in this.publishConfig)?this.publishConfig.emitFacade:true;},processArgs:H,on:H,detach:H,delegate:H,detachDelegate:H,_subscribe:function(M,P,N,Q){var L=M._node,U=B.stamp(L),R="event:"+U+this.type,S=G[U],K=(S)?S[R]:null,T=new B.CustomEvent(this.type,this.publishConfig),O=T.on.apply(T,P),J=O.sub;T._delete=B.bind(this._deleteSub,this,T);T.emitFacade=false;T.host=M;T.currentTarget=M;T.target=M;T.el=L;if(Q){T.contextFn=this._delegateContextFn;}J._extra=N;J.node=M;O.notifier=new E(O,this.emitFacade,Q);if(!K){if(!G[U]){G[U]={};}K=G[U][R]={type:this.type,el:L,key:R,domkey:U,fn:H,capture:false,notifiers:[],detachAll:this._purge};}K.notifiers.push(O);return O;},_on:function(L){var M=[],J=L[2],K=B.all(J),N;if(!K.size()&&C(J)){N=B.on("available",function(){B.mix(N,B.on.apply(B,L),true);},J);return N;}K.each(function(P){var Q=L.slice(),O=this.processArgs(Q);Q.splice(0,4,Q[1],Q[3]||P);N=this._subscribe(P,Q,O);this.on(P,N.sub,N.notifier);M.push(N);},this);return(M.length===1)?M[0]:new B.EventHandle(M);},_detach:function(K){var J=B.all(K[2]),L=this.type;K.splice(0,3,K[1]);J.each(function(Q){var P=B.stamp(Q._node),O=G[P],S=(O)?O["event:"+P+L]:null,M,N,R;if(S){M=S.notifiers;for(N=M.length-1;N>=0;--N){R=M[N];if(this.subMatch(R.sub,K)){R.detach();M.splice(N,1);}}}},this);},_deleteSub:function(K,J){if(J&&J.fn){K.subscribers={};K.subCount=0;if(J.filter){this.detachDelegate(J.node,J,K);}else{this.detach(J.node,J,K);}delete J.fn;delete J.node;delete J.context;}},_purge:function(){var J=this.notifiers,K=J.length;while(--K>=0){J[K].detach();}},subMatch:function(K,J){return !J[0]||K.fn===J[0];},_delegate:function(K){var N=K[2],O=B.all(N).item(0),J,M,P,L;if(!O&&C(N)){P=B.on("available",function(){B.mix(P,B.delegate.apply(B,K),true);},N);}if(!P&&O){J=this.processArgs(K,true);M=K[3];K.splice(0,5,K[1],K[4]);P=this._subscribe(O,K,J,true);L=P.sub;L.filter=M;this.delegate(O,P.sub,P.notifier,M);}return P||new B.EventHandle();},_delegateContextFn:function(){return this.currentTarget;}};B.SyntheticEvent=A;B.SyntheticEvent.Notifier=E;B.Node.publish=B.Event.define=function(L,K){if(!K){K={};}var M=(B.Lang.isObject(L))?L:B.merge({type:L},K),N,J;if(!B.Node.DOM_EVENTS[M.type]){N=function(){A.apply(this,arguments);};B.extend(N,A,M);J=new N();L=J.type;B.Node.DOM_EVENTS[L]=B.Env.evt.plugins[L]={eventDef:J,on:function(){return J._on(D(arguments));},detach:function(){return J._detach(D(arguments));},delegate:function(){return J._delegate(D(arguments));}};}};},"@VERSION@",{requires:["node-base","event-custom"]});