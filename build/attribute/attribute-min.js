YUI.add("attribute",function(A){var G=".",D="Change",H="get",B="set",E="value",I="readonly",C="validator";var J=function(N,O,L,K,M){this.type=N;this.prevVal=O;this.newVal=L;this.attr=K;this.subAttr=M||null;};var F=function(N){this._before=this._before||{};var M=this._before[N.type]||{};for(var L=0,K=M.length;L<K;++L){if(N._cancelled){break;}M[L].call(this,N);}};J.prototype={type:null,_prevent:false,_default:null,_cancel:false,stopPropagation:function(){this._cancel=true;},preventDefault:function(){this._prevent=true;}};A.Attribute=function(){this._conf=this._conf||new A.State();A.log("att constructor called","info","Attribute");};A.Attribute.NAME="att";A.Attribute.ATTRS=[];A.Attribute.prototype={addAtt:function(K,L){this._conf=this._conf||new A.State();A.log("adding attribute: "+K,"info","Attribute");this._conf.add(K,L);},remove:function(K){this._conf.remove(K);},get:function(M){var L=this._conf,O=M.split(G),K,N,P;M=O.shift();K=L.get(M,H);N=L.get(M,E);P=(K)?K.call(this,N):N;return(O.length>0)?this._getSubValue(O,P):P;},set:function(K,N){var Q=this._conf,T=K,U=K.split(G),S,O,L,M,R,P;K=U.shift();if(Q.get(K,I)){A.log("set "+K+"failed; attribute is readonly","error","Attribute");return this;}if(!Q.get(K)){A.log("adding new attribute: "+K,"info","Base");}M=this.get(K);if(U.length>0){N=this._setSubValue(U,A.clone(M),N);if(N===undefined){A.log("set "+T+"failed; attribute sub path is invalid","error","Attribute");return this;}}R=K+D;P=new J(R,M,N,K,T);L=F.call(this,P);S=Q.get(K,B);if(!P._cancel&&!P._prevent&&S){L=S.call(this,N);if(L!==undefined){A.log("attribute: "+K+" modified by setter","info","Base");N=L;}}O=Q.get(K,C);if(!P._cancel||(O&&O.call(this,N))){Q.add(K,{value:N});this.fire(R,P);}return this;},_getSubValue:function(M,N){var L=M.length,K;if(L>0){for(K=0;N!==undefined&&K<L;++K){N=N[M[K]];}}return N;},_setSubValue:function(N,P,M){var L=N.length-1,K,O;if(L>=0){O=P;for(K=0;O!==undefined&&K<L;++K){O=O[N[K]];}if(O!==undefined){O[N[K]]=M;}else{P=undefined;}}return P;},setAtts:function(L){for(var K in L){if(A.object.owns(L,K)){this.set(K,L[K]);}}},getAtts:function(L){var K={};if(L){K=A.clone(L);}else{A.each(this._conf.get(E),function(N,M){K[M]=N;});}return K;}};A.augment(A.Attribute,A.Event.Target);},"3.0.0",{requires:["state"]});