YUI.add("attribute",function(A){var G=A.object,H=".",D="Change",I="get",C="set",F="value",J="readonly",B="validator";function E(M,N,K,L,O){M=M+D;this.publish(M,{queuable:false});this.fire({type:M,prevVal:N,newVal:K,attrName:L,subAttrName:O});}A.Attribute=function(){this._conf=this._conf||new A.State();A.log("att constructor called","info","Attribute");};A.Attribute.prototype={addAtt:function(K,L){A.log("adding attribute: "+K,"info","Attribute");this._conf.add(K,L);},remove:function(K){this._conf.remove(K);},get:function(M){var L=this._conf,O,K,N,P;if(M.indexOf(H)!==-1){O=M.split(H);M=O.shift();}K=L.get(M,I);N=L.get(M,F);P=(K)?K.call(this,N):N;return(O)?this._getSubValue(O,P):P;},set:function(K,N){var R=this._conf,P,U,S,O,L,M,T,Q;if(K.indexOf(H)!==-1){P=K;U=K.split(H);K=U.shift();}if(R.get(K,J)){A.log("set "+K+"failed; attribute is readonly","error","Attribute");return this;}if(!R.get(K)){A.log("Set called with unconfigured attribute. Adding a new attribute: "+K,"info","Attribute");}M=this.get(K);if(U){N=this._setSubValue(U,A.clone(M),N);if(N===undefined){A.log("set "+P+"failed; attribute sub path is invalid","error","Attribute");return this;}}S=R.get(K,C);if(S){L=S.call(this,N);if(L!==undefined){A.log("attribute: "+K+" modified by setter","info","Attribute");N=L;}}O=R.get(K,B);if(!O||O.call(this,N)){R.add(K,{value:N});if(U){E.call(this,P,M,N,K,P);}E.call(this,K,M,N,K,P);}return this;},_getSubValue:function(M,N){var L=M.length,K;if(L>0){for(K=0;N!==undefined&&K<L;++K){N=N[M[K]];}}return N;},_setSubValue:function(N,P,M){var L=N.length-1,K,O;if(L>=0){O=P;for(K=0;O!==undefined&&K<L;++K){O=O[N[K]];}if(O!==undefined){O[N[K]]=M;}else{P=undefined;}}return P;},setAtts:function(L){for(var K in L){if(A.object.owns(L,K)){this.set(K,L[K]);}}},getAtts:function(L){var K={};if(L){K=A.clone(L);}else{A.each(this._conf.get(F),function(N,M){K[M]=N;});}return K;},_initAtts:function(K,M){if(K){var L,N,O=A.merge(K);for(L in O){if(G.owns(O,L)){N=O[L];this.addAtt(L,N);this._initAttValue(L,N,M);}}}},_initAttValue:function(L,K,M){var N=("value" in K),O=K.value;if(M){if(G.owns(M,L)){N=true;O=M[L];}else{}}if(N){this.set(L,O);}}};A.augment(A.Attribute,A.EventTarget,null,null,{emitFacade:true});},"3.0.0",{requires:["state"]});