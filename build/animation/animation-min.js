YUI.add("animation",function(B){var E="running",I="startTime",Q="elapsedTime",P="start",O="tween",F="end",R="node",G="paused",D="reversed",M="iterationCount",H=Number;var L={},J={},A;var C=function(S,U,T){if(typeof U=="string"){S._conf.add(U,{value:T});}else{B.each(U,function(V,W){C(S,W,V);});}};B.Anim=function(){B.Anim.superclass.constructor.apply(this,arguments);J[B.stamp(this)]=this;};B.Anim.NAME="anim";B.Anim.RE_DEFAULT_UNIT=/^width|height|top|right|bottom|left|margin.*|padding.*|border.*$/i;B.Anim.DEFAULT_UNIT="px";var K=function(V,T){var W=V.getComputedStyle(T),U=(T==="left")?"getX":"getY",X=(T==="left")?"setX":"setY";if(W==="auto"){var S=V.getStyle("position");if(S==="absolute"||S==="fixed"){W=V[U]();V[X](W);}else{W=0;}}return W;};B.Anim.behaviors={left:{get:K},top:{get:K}};B.Anim.DEFAULT_SETTER=function(W,T,Z,Y,S,X,U,V){V=V||"";W.setStyle(T,U(S,H(Z),H(Y)-H(Z),X)+V);};B.Anim.DEFAULT_GETTER=function(S,T){return S.getComputedStyle(T);};B.Anim.ATTRS={node:{set:function(S){S=B.Node.get(S);if(!S){B.fail("Y.Anim: invalid node: "+S);}return S;}},duration:{value:1},easing:{value:function(T,S,V,U){return V*T/U+S;}},from:{},to:{},startTime:{value:0,readOnly:true},elapsedTime:{value:0,readOnly:true},running:{get:function(){return !!L[B.stamp(this)];},value:false,readOnly:true},iterations:{value:1},iterationCount:{value:0,readOnly:true},direction:{value:"normal"},paused:{readOnly:true,value:false},reversed:{readOnly:true,value:false}};B.Anim.run=function(){for(var S in J){if(J[S].run){J[S].run();}}};B.Anim.pause=function(){for(var S in L){if(L[S].pause){L[S].pause();}}B.Anim._stopTimer();};B.Anim.stop=function(){for(var S in L){if(L[S].stop){L[S].stop();}}B.Anim._stopTimer();};B.Anim._startTimer=function(){if(!A){A=setInterval(B.Anim._runFrame,1);}};B.Anim._stopTimer=function(){clearInterval(A);A=0;};B.Anim._runFrame=function(){var S=true;for(var T in L){if(L[T]._runFrame){S=false;L[T]._runFrame(new Date()-L[T].get(I));}}if(S){B.Anim._stopTimer();}};B.Anim.RE_UNITS=/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/;var N={run:function(){if(!this.get(E)){this._start();}else{if(this.get(G)){this._resume();}}},pause:function(){if(this.get(E)){this._pause();}},stop:function(S){if(this.get(E)||this.get(G)){this._end(S);}},_added:false,_start:function(){C(this,I,new Date()-this.get(Q));this._actualFrames=0;if(!this.get(G)){this._initAttr();}L[B.stamp(this)]=this;B.Anim._startTimer();this.fire(P);},_pause:function(){C(this,I,null);C(this,G,true);delete L[B.stamp(this)];this.fire("pause");},_resume:function(){C(this,G,false);L[B.stamp(this)]=this;this.fire("resume");},_end:function(S){C(this,I,null);C(this,Q,0);C(this,G,false);C(this,D,false);delete L[B.stamp(this)];this.fire(F,{elapsed:this.get(Q)});},_runFrame:function(V){var S=this._runtimeAttr,T=B.Anim.behaviors,X=this.get(R),W,Z,Y;for(var U in S){if(S.hasOwnProperty(U)){W=S[U];Y=W.duration;Z=(U in T&&"set" in T[U])?T[U].set:B.Anim.DEFAULT_SETTER;if(V<Y){Z(X,U,W.from,W.to,V,Y,W.easing,W.unit);}else{Z(X,U,W.from,W.to,Y,Y,W.easing,W.unit);}}}this._actualFrames+=1;C(this,Q,V);this.fire(O);if(V>=Y){this._lastFrame();}},_lastFrame:function(){var S=this.get("iterations"),T=this.get(M);T+=1;if(S==="infinite"||T<S){if(this.get("direction")==="alternate"){this._flip();}this.fire("iteration",{frames:this._actualFrames});}else{T=0;this._end();}C(this,I,new Date());C(this,M,T);},_flip:function(){var S=this._runtimeAttr,T=B.Anim.behaviors;B.each(S,function(X,V){if(V in T&&T[V].reverse){X=T[V].reverse(X);}else{var U=X.to;var W=X.from;S[V].from=U;S[V].to=W;}});C(this,D,!this.get(D));},_initAttr:function(){var Z=this.get("from")||{},a=this.get("to")||{},S=this.get("duration")*1000,V=this.get(R),Y=this.get("easing")||{},X={},T=B.Anim.behaviors,b,U,W;B.each(a,function(h,e){if(typeof h==="function"){h=h.call(this,V);}U=Z[e];if(U===undefined){U=(e in T&&"get" in T[e])?T[e].get(V,e):B.Anim.DEFAULT_GETTER(V,e);}else{if(typeof U==="function"){U=U.call(this,V);}}var d=B.Anim.RE_UNITS.exec(U);var f=B.Anim.RE_UNITS.exec(h);U=d?d[1]:U;var c=f?f[1]:h,g=f?f[2]:d?d[2]:"";if(!g&&B.Anim.RE_DEFAULT_UNIT.test(e)){g=B.Anim.DEFAULT_UNIT;}if(!Z||!a){B.fail("invalid from or to passed given for "+e,"Anim");return ;}X[e]={easing:Y,from:U,to:c,duration:S,unit:g};});this._runtimeAttr=X;}};B.extend(B.Anim,B.Base,N);B.Easing={easeNone:function(T,S,V,U){return V*T/U+S;},easeIn:function(T,S,V,U){return V*(T/=U)*T+S;},easeOut:function(T,S,V,U){return -V*(T/=U)*(T-2)+S;},easeBoth:function(T,S,V,U){if((T/=U/2)<1){return V/2*T*T+S;}return -V/2*((--T)*(T-2)-1)+S;},easeInStrong:function(T,S,V,U){return V*(T/=U)*T*T*T+S;},easeOutStrong:function(T,S,V,U){return -V*((T=T/U-1)*T*T*T-1)+S;},easeBothStrong:function(T,S,V,U){if((T/=U/2)<1){return V/2*T*T*T*T+S;}return -V/2*((T-=2)*T*T*T-2)+S;},elasticIn:function(U,S,Y,X,T,W){var V;if(U===0){return S;}if((U/=X)===1){return S+Y;}if(!W){W=X*0.3;}if(!T||T<Math.abs(Y)){T=Y;V=W/4;}else{V=W/(2*Math.PI)*Math.asin(Y/T);}return -(T*Math.pow(2,10*(U-=1))*Math.sin((U*X-V)*(2*Math.PI)/W))+S;},elasticOut:function(U,S,Y,X,T,W){var V;if(U===0){return S;}if((U/=X)===1){return S+Y;}if(!W){W=X*0.3;}if(!T||T<Math.abs(Y)){T=Y;V=W/4;}else{V=W/(2*Math.PI)*Math.asin(Y/T);}return T*Math.pow(2,-10*U)*Math.sin((U*X-V)*(2*Math.PI)/W)+Y+S;},elasticBoth:function(U,S,Y,X,T,W){var V;if(U===0){return S;}if((U/=X/2)===2){return S+Y;}if(!W){W=X*(0.3*1.5);}if(!T||T<Math.abs(Y)){T=Y;V=W/4;}else{V=W/(2*Math.PI)*Math.asin(Y/T);}if(U<1){return -0.5*(T*Math.pow(2,10*(U-=1))*Math.sin((U*X-V)*(2*Math.PI)/W))+S;}return T*Math.pow(2,-10*(U-=1))*Math.sin((U*X-V)*(2*Math.PI)/W)*0.5+Y+S;},backIn:function(T,S,W,V,U){if(typeof U==="undefined"){U=1.70158;}return W*(T/=V)*T*((U+1)*T-U)+S;},backOut:function(T,S,W,V,U){if(typeof U==="undefined"){U=1.70158;}return W*((T=T/V-1)*T*((U+1)*T+U)+1)+S;},backBoth:function(T,S,W,V,U){if(typeof U==="undefined"){U=1.70158;}if((T/=V/2)<1){return W/2*(T*T*(((U*=(1.525))+1)*T-U))+S;}return W/2*((T-=2)*T*(((U*=(1.525))+1)*T+U)+2)+S;},bounceIn:function(T,S,V,U){return V-B.Easing.bounceOut(U-T,0,V,U)+S;
},bounceOut:function(T,S,V,U){if((T/=U)<(1/2.75)){return V*(7.5625*T*T)+S;}else{if(T<(2/2.75)){return V*(7.5625*(T-=(1.5/2.75))*T+0.75)+S;}else{if(T<(2.5/2.75)){return V*(7.5625*(T-=(2.25/2.75))*T+0.9375)+S;}}}return V*(7.5625*(T-=(2.625/2.75))*T+0.984375)+S;},bounceBoth:function(T,S,V,U){if(T<U/2){return B.Easing.bounceIn(T*2,0,V,U)*0.5+S;}return B.Easing.bounceOut(T*2-U,0,V,U)*0.5+V*0.5+S;}};B.Anim.behaviors.xy={set:function(V,T,Y,X,S,W,U){V.setXY([U(S,H(Y[0]),H(X[0])-H(Y[0]),W),U(S,H(Y[1]),H(X[1])-H(Y[1]),W)]);},get:function(S){return S.getXY();}};B.Anim.behaviors.color={set:function(V,T,Y,X,S,W,U){Y=B.Color.re_RGB.exec(B.Color.toRGB(Y));X=B.Color.re_RGB.exec(B.Color.toRGB(X));V.setStyle(T,"rgb("+[Math.floor(U(S,H(Y[1]),H(X[1])-H(Y[1]),W)),Math.floor(U(S,H(Y[2]),H(X[2])-H(Y[2]),W)),Math.floor(U(S,H(Y[3]),H(X[3])-H(Y[3]),W))].join(", ")+")");},get:function(T,S){var U=T.getComputedStyle(S);U=(U==="transparent")?"rgb(255, 255, 255)":U;return U;}};B.each(["backgroundColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],function(S,T){B.Anim.behaviors[S]=B.Anim.behaviors.color;});B.Anim.behaviors.scroll={set:function(V,T,Z,Y,S,W,U){var X=([U(S,H(Z[0]),H(Y[0])-H(Z[0]),W),U(S,H(Z[1]),H(Y[1])-H(Z[1]),W)]);V.set("scrollLeft",X[0]);V.set("scrollTop",X[1]);},get:function(S){return[S.get("scrollLeft"),S.get("scrollTop")];}};B.Anim.behaviors.curve={set:function(W,T,Z,Y,S,X,V){Z=Z.slice.call(Z);Y=Y.slice.call(Y);var U=V(S,0,100,X)/100;Y.unshift(Z);W.setXY(B.Anim.getBezier(Y,U));},get:function(T,S){return T.getXY();},reverse:function(S){S.to.reverse();S.to.push(S.from);S.from=S.to.shift();return S;}};B.Anim.getBezier=function(W,V){var X=W.length;var U=[];for(var T=0;T<X;++T){U[T]=[W[T][0],W[T][1]];}for(var S=1;S<X;++S){for(T=0;T<X-S;++T){U[T][0]=(1-V)*U[T][0]+V*U[parseInt(T+1,10)][0];U[T][1]=(1-V)*U[T][1]+V*U[parseInt(T+1,10)][1];}}return[U[0][0],U[0][1]];};B.namespace("Plugin");B.Plugin.NodeFX=function(S){S.node=S.owner;B.Plugin.NodeFX.superclass.constructor.apply(this,arguments);};B.Plugin.NodeFX.NAME="nodefxplugin";B.Plugin.NodeFX.NS="fx";B.extend(B.Plugin.NodeFX,B.Anim);},"@VERSION@",{requires:["base","node"]});