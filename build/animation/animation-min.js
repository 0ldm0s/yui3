YUI.add("animation",function(B){var E="running",I="startTime",Q="elapsedTime",P="start",O="tween",F="end",R="node",G="paused",D="reversed",M="iterationCount",H=Number;var L={},J={},A;var C=function(S,U,T){if(typeof U=="string"){S._conf.add(U,{value:T});}else{B.each(U,function(V,W){C(S,W,V);});}};B.Anim=function(){B.Anim.superclass.constructor.apply(this,arguments);J[B.stamp(this)]=this;};B.Anim.NAME="anim";B.Anim.RE_DEFAULT_UNIT=/^width|height|top|right|bottom|left|margin.*|padding.*|border.*$/i;B.Anim.DEFAULT_UNIT="px";var K=function(V,T){var W=V.getComputedStyle(T),U=(T==="left")?"getX":"getY",X=(T==="left")?"setX":"setY";if(W==="auto"){var S=V.getStyle("position");if(S==="absolute"||S==="fixed"){W=V[U]();V[X](W);}else{W=0;}}return W;};B.Anim.behaviors={left:{get:K},top:{get:K}};B.Anim.DEFAULT_SETTER=function(W,T,Z,Y,S,X,U,V){V=V||"";W.setStyle(T,U(S,H(Z),H(Y)-H(Z),X)+V);};B.Anim.DEFAULT_GETTER=function(S,T){return S.getComputedStyle(T);};B.Anim.ATTRS={node:{set:function(S){S=B.Node.get(S);if(!S){B.fail("Y.Anim: invalid node: "+S);}return S;}},duration:{value:1},easing:{value:function(T,S,V,U){return V*T/U+S;}},from:{},to:{},keyframes:{},startTime:{value:0,readOnly:true},elapsedTime:{value:0,readOnly:true},running:{get:function(){return !!L[B.stamp(this)];},value:false,readOnly:true},iterations:{value:1},iterationCount:{value:0,readOnly:true},direction:{value:"normal"},paused:{readOnly:true,value:false},reversed:{readOnly:true,value:false}};B.Anim.run=function(){for(var S in J){if(J[S].run){J[S].run();}}};B.Anim.pause=function(){for(var S in L){if(L[S].pause){L[S].pause();}}B.Anim._stopTimer();};B.Anim.stop=function(){for(var S in L){if(L[S].stop){L[S].stop();}}B.Anim._stopTimer();};B.Anim._startTimer=function(){if(!A){A=setInterval(B.Anim._runFrame,1);}};B.Anim._stopTimer=function(){clearInterval(A);A=0;};B.Anim._runFrame=function(){var S=true;for(var T in L){if(L[T]._runFrame){S=false;L[T]._runFrame(new Date()-L[T].get(I));}}if(S){B.Anim._stopTimer();}};B.Anim.RE_UNITS=/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/;var N={run:function(){if(!this.get(E)){this._start();}else{if(this.get(G)){this._resume();}}},pause:function(){if(this.get(E)){this._pause();}},stop:function(S){if(this.get(E)||this.get(G)){this._end(S);}},_added:false,_start:function(){C(this,I,new Date()-this.get(Q));this._actualFrames=0;if(!this.get(G)){this._initAttr();}L[B.stamp(this)]=this;B.Anim._startTimer();this.fire(P);},_pause:function(){C(this,I,null);C(this,G,true);delete L[B.stamp(this)];this.fire("pause");},_resume:function(){C(this,G,false);L[B.stamp(this)]=this;this.fire("resume");},_end:function(S){C(this,I,null);C(this,Q,0);C(this,G,false);C(this,D,false);delete L[B.stamp(this)];this.fire(F,{elapsed:this.get(Q)});},_runFrame:function(V){var S=this._runtimeAttr,T=B.Anim.behaviors,X=this.get(R),W,Z,Y;for(var U in S){if(S.hasOwnProperty(U)){W=S[U][0];Y=W.duration;Z=(U in T&&"set" in T[U])?T[U].set:B.Anim.DEFAULT_SETTER;if(V<Y){Z(X,U,W.from,W.to,V,Y,W.easing,W.unit);}else{Z(X,U,W.from,W.to,Y,Y,W.easing,W.unit);}}}this._actualFrames+=1;C(this,Q,V);this.fire(O);if(V>=Y){this._lastFrame();}},_lastFrame:function(){var S=this.get("iterations"),T=this.get(M);T+=1;if(S=="infinite"||T<S){if(this.get("direction")=="alternate"){this._flip();}this.fire("iteration",{frames:this._actualFrames});}else{T=0;this._end();}C(this,I,new Date());C(this,M,T);},_flip:function(){var V=this.get("to")||{},U=this.get("keyframes")||{},S=B.merge(this._attr,{}),T=B.Anim.behaviors;if(V){U[100]=V;}B.each(S,function(X,W){B.each(X,function(Z,c){if(W in T&&T[W].reverse){X[c]=T[W].reverse(X[c]);}else{var Y=X[c].to;var a=X[c].from;S[W][c].from=Y;S[W][c].to=a;}});});this._runtimeAttr=B.merge(S,{});C(this,D,!this.get(D));},_initAttr:function(){var c=this.get("from")||{},d=this.get("to")||{},X=this.get("duration"),U=this.get(R),a=this.get("easing")||{},Y=this.get("keyframes")||{},Z={},S=B.Anim.behaviors,b,T,W;if(d){Y[100]=d;}var V={};B.each(Y,function(e,f){B.each(e,function(n,i){if(B.Lang.isFunction(n)){n=n.call(this,U);}var l=X*(parseInt(f,10)/100)*1000;var k=V[i]?V[i].to:c[i];if(k===undefined){k=(i in S&&"get" in S[i])?S[i].get(U,i):B.Anim.DEFAULT_GETTER(U,i);}else{if(B.Lang.isFunction(k)){k=k.call(this,U);}}var h=B.Anim.RE_UNITS.exec(k);var j=B.Anim.RE_UNITS.exec(n);k=h?h[1]:k;var g=j?j[1]:n,m=j?j[2]:h?h[2]:"";if(!m&&B.Anim.RE_DEFAULT_UNIT.test(i)){m=B.Anim.DEFAULT_UNIT;}Z[i]=Z[i]||[];Z[i].push({easing:e.easing||a,to:g,duration:l,unit:m,from:k});V[i]=Z[i];});});this._attr=Z;this._runtimeAttr=B.merge(Z,{});}};B.extend(B.Anim,B.Base,N);YUI.add("easing",function(S){S.Easing={easeNone:function(U,T,W,V){return W*U/V+T;},easeIn:function(U,T,W,V){return W*(U/=V)*U+T;},easeOut:function(U,T,W,V){return -W*(U/=V)*(U-2)+T;},easeBoth:function(U,T,W,V){if((U/=V/2)<1){return W/2*U*U+T;}return -W/2*((--U)*(U-2)-1)+T;},easeInStrong:function(U,T,W,V){return W*(U/=V)*U*U*U+T;},easeOutStrong:function(U,T,W,V){return -W*((U=U/V-1)*U*U*U-1)+T;},easeBothStrong:function(U,T,W,V){if((U/=V/2)<1){return W/2*U*U*U*U+T;}return -W/2*((U-=2)*U*U*U-2)+T;},elasticIn:function(V,T,Z,Y,U,X){var W;if(V===0){return T;}if((V/=Y)===1){return T+Z;}if(!X){X=Y*0.3;}if(!U||U<Math.abs(Z)){U=Z;W=X/4;}else{W=X/(2*Math.PI)*Math.asin(Z/U);}return -(U*Math.pow(2,10*(V-=1))*Math.sin((V*Y-W)*(2*Math.PI)/X))+T;},elasticOut:function(V,T,Z,Y,U,X){var W;if(V===0){return T;}if((V/=Y)===1){return T+Z;}if(!X){X=Y*0.3;}if(!U||U<Math.abs(Z)){U=Z;W=X/4;}else{W=X/(2*Math.PI)*Math.asin(Z/U);}return U*Math.pow(2,-10*V)*Math.sin((V*Y-W)*(2*Math.PI)/X)+Z+T;},elasticBoth:function(V,T,Z,Y,U,X){var W;if(V===0){return T;}if((V/=Y/2)===2){return T+Z;}if(!X){X=Y*(0.3*1.5);}if(!U||U<Math.abs(Z)){U=Z;W=X/4;}else{W=X/(2*Math.PI)*Math.asin(Z/U);}if(V<1){return -0.5*(U*Math.pow(2,10*(V-=1))*Math.sin((V*Y-W)*(2*Math.PI)/X))+T;}return U*Math.pow(2,-10*(V-=1))*Math.sin((V*Y-W)*(2*Math.PI)/X)*0.5+Z+T;},backIn:function(U,T,X,W,V){if(typeof V==="undefined"){V=1.70158;}return X*(U/=W)*U*((V+1)*U-V)+T;},backOut:function(U,T,X,W,V){if(typeof V==="undefined"){V=1.70158;
}return X*((U=U/W-1)*U*((V+1)*U+V)+1)+T;},backBoth:function(U,T,X,W,V){if(typeof V==="undefined"){V=1.70158;}if((U/=W/2)<1){return X/2*(U*U*(((V*=(1.525))+1)*U-V))+T;}return X/2*((U-=2)*U*(((V*=(1.525))+1)*U+V)+2)+T;},bounceIn:function(U,T,W,V){return W-S.Easing.bounceOut(V-U,0,W,V)+T;},bounceOut:function(U,T,W,V){if((U/=V)<(1/2.75)){return W*(7.5625*U*U)+T;}else{if(U<(2/2.75)){return W*(7.5625*(U-=(1.5/2.75))*U+0.75)+T;}else{if(U<(2.5/2.75)){return W*(7.5625*(U-=(2.25/2.75))*U+0.9375)+T;}}}return W*(7.5625*(U-=(2.625/2.75))*U+0.984375)+T;},bounceBoth:function(U,T,W,V){if(U<V/2){return S.Easing.bounceIn(U*2,0,W,V)*0.5+T;}return S.Easing.bounceOut(U*2-V,0,W,V)*0.5+W*0.5+T;}};},"3.0.0");B.Anim.behaviors.xy={set:function(V,T,Y,X,S,W,U){V.setXY([U(S,H(Y[0]),H(X[0])-H(Y[0]),W),U(S,H(Y[1]),H(X[1])-H(Y[1]),W)]);},get:function(S){return S.getXY();}};B.Anim.behaviors.color={set:function(V,T,Y,X,S,W,U){Y=B.Color.re_RGB.exec(B.Color.toRGB(Y));X=B.Color.re_RGB.exec(B.Color.toRGB(X));V.setStyle(T,"rgb("+[Math.floor(U(S,H(Y[1]),H(X[1])-H(Y[1]),W)),Math.floor(U(S,H(Y[2]),H(X[2])-H(Y[2]),W)),Math.floor(U(S,H(Y[3]),H(X[3])-H(Y[3]),W))].join(", ")+")");},get:function(T,S){var U=T.getComputedStyle(S);U=(U==="transparent")?"rgb(255, 255, 255)":U;return U;}};B.each(["backgroundColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],function(S,T){B.Anim.behaviors[S]=B.Anim.behaviors.color;});B.Anim.behaviors.scroll={set:function(V,T,Z,Y,S,W,U){var X=([U(S,H(Z[0]),H(Y[0])-H(Z[0]),W),U(S,H(Z[1]),H(Y[1])-H(Z[1]),W)]);V.set("scrollLeft",X[0]);V.set("scrollTop",X[1]);},get:function(S){return[S.get("scrollLeft"),S.get("scrollTop")];}};B.Anim.behaviors.curve={set:function(W,T,Z,Y,S,X,V){var U=V(S,0,100,X)/100;W.setXY(B.Anim.getBezier(Y,U));},get:function(T,S){return T.getXY();},reverse:function(U){var W=[],V=U.from;for(var T=0,S=U.to.length;T<S;++T){W.unshift(U.to[T]);}U.from=U.to.pop();U.to=W;return U;}};B.Anim.getBezier=function(W,V){var X=W.length;var U=[];for(var T=0;T<X;++T){U[T]=[W[T][0],W[T][1]];}for(var S=1;S<X;++S){for(T=0;T<X-S;++T){U[T][0]=(1-V)*U[T][0]+V*U[parseInt(T+1,10)][0];U[T][1]=(1-V)*U[T][1]+V*U[parseInt(T+1,10)][1];}}return[U[0][0],U[0][1]];};B.namespace("Plugin");B.Plugin.NodeFX=function(S){S.node=S.owner;B.Plugin.NodeFX.superclass.constructor.apply(this,arguments);};B.Plugin.NodeFX.NAME="nodefxplugin";B.Plugin.NodeFX.NS="fx";B.extend(B.Plugin.NodeFX,B.Anim);},"@VERSION@",{requires:["base","node"]});