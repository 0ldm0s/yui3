YUI.add("base",function(A){var I=A.Lang,G=A.Object,H=".",E="destroy",M="init",K="initialized",F="destroyed",C="initializer",B=Object.prototype.constructor,J="destructor";function D(){A.Attribute.call(this);this.init.apply(this,arguments);}D.NAME="base";D.ATTRS={initialized:{readOnly:true,value:false},destroyed:{readOnly:true,value:false}};D._buildCfg={aggregates:["ATTRS"]};D.build=function(L,Q,U,T){var W=D.build,N=W._getClass(Q,T),S=W._getAggregates(Q,T),R,P,O,V;if(S){for(R=0,P=S.length;R<P;++R){O=S[R];if(Q.hasOwnProperty(O)){N[O]=I.isArray(Q[O])?[]:{};}}A.aggregate(N,Q,true,S);}for(R=0,P=U.length;R<P;R++){V=U[R];if(S){A.aggregate(N,V,true,S);}A.mix(N,V,true,null,1);N._yuibuild.exts.push(V);}N.prototype.hasImpl=W._hasImpl;N.NAME=L;N.prototype.constructor=N;return N;};A.mix(D.build,{_template:function(L){function N(){N.superclass.constructor.apply(this,arguments);var Q=N._yuibuild.exts,O=Q.length,P;for(P=0;P<O;P++){Q[P].apply(this,arguments);}return this;}A.extend(N,L);return N;},_hasImpl:function(N){if(this.constructor._yuibuild){var P=this.constructor._yuibuild.exts,L=P.length,O;for(O=0;O<L;O++){if(P[O]===N){return true;}}}return false;},_getClass:function(L,N){var O=D.build._template(L);O._yuibuild={id:null,exts:[]};return O;},_getAggregates:function(L,N){var O=[],Q=(N&&N.aggregates),R=L,P;while(R&&R.prototype){P=R._buildCfg&&R._buildCfg.aggregates;if(P){O=O.concat(P);}R=R.superclass?R.superclass.constructor:null;}if(Q){O=O.concat(Q);}return O;}});D.prototype={init:function(L){this.name=this.constructor.NAME;this._yuievt.config.prefix=this.name;this.publish(M,{queuable:false,defaultFn:this._defInitFn});this.fire(M,null,L);return this;},destroy:function(){this.publish(E,{queuable:false,defaultFn:this._defDestroyFn});this.fire(E);return this;},_defInitFn:function(N,L){this._initHierarchy(L);this._set(K,true);},_defDestroyFn:function(L){this._destroyHierarchy();this._set(F,true);},_getClasses:function(){if(!this._classes){this._initHierarchyData();}return this._classes;},_getAttrCfgs:function(){if(!this._attrs){this._initHierarchyData();}return this._attrs;},_filterAttrCfgs:function(O,L){var N={};if(O.ATTRS){A.each(O.ATTRS,function(Q,P){if(L[P]){N[P]=L[P];delete L[P];}});}return N;},_initHierarchyData:function(){var O=this.constructor,N=[],L=[];while(O&&O.prototype){N[N.length]=O;if(O.ATTRS){L[L.length]=O.ATTRS;}O=O.superclass?O.superclass.constructor:null;}this._classes=N;this._attrs=this._aggregateAttrs(L);},_aggregateAttrs:function(Q){var L,O,N,T,S,P,R={};if(Q){for(P=Q.length-1;P>=0;--P){O=Q[P];for(L in O){if(O.hasOwnProperty(L)){N=A.merge(O[L]);T=N.value;if(T&&!N.useRef&&(B===T.constructor||I.isArray(T))){N.value=A.clone(T);}if(L.indexOf(H)!==-1){S=L.split(H);L=S.shift();}else{S=null;}if(S&&R[L]&&R[L].value){G.setValue(R[L].value,S,T);}else{if(!S){if(!R[L]){R[L]=N;}else{R[L]=A.mix(R[L],N,true);}}}}}}}return R;},_initHierarchy:function(Q){var P,L,O,N=this._getClasses(),R=this._getAttrCfgs();for(O=N.length-1;O>=0;O--){P=N[O];L=P.prototype;this.addAttrs(this._filterAttrCfgs(P,R),Q);if(L.hasOwnProperty(C)){L[C].apply(this,arguments);}}},_destroyHierarchy:function(){var Q,N,P,L,O=this._getClasses();for(P=0,L=O.length;P<L;P++){Q=O[P];N=Q.prototype;if(N.hasOwnProperty(J)){N[J].apply(this,arguments);}}},toString:function(){return this.constructor.NAME+"["+A.stamp(this)+"]";}};A.mix(D,A.Attribute,false,null,1);D.prototype.constructor=D;A.Base=D;},"@VERSION@",{requires:["attribute"]});