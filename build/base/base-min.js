YUI.add("base",function(A){var I=A.Lang,G=A.Object,H=":",E="destroy",M="init",K="initialized",F="destroyed",B="initializer",J="destructor";var C=A.Event.Target.prototype;var D=function(){A.Attribute.call(this);return this.init.apply(this,arguments);};D.NAME="base";D.ATTRS={initialized:{readOnly:true,value:false},destroyed:{readOnly:true,value:false}};D._buildCfg={aggregates:["ATTRS"]};var N={};D.build=function(R,V,U){var X=D.build,L=X._getClass(R,U),T=X._getAggregates(R,U),P=L._yuibuild.dynamic,Y=R.NAME,S,Q;if(P){if(T){for(S=0,Q=T.length;S<Q;++S){var O=T[S];if(R.hasOwnProperty(O)){L[O]=I.isArray(R[O])?[]:{};}}A.aggregate(L,R,true,T);}}for(S=0,Q=V.length;S<Q;S++){var W=V[S];if(T){A.aggregate(L,W,true,T);}A.mix(L,W,true,null,1);L._yuibuild.exts.push(W);Y=Y+":"+A.stamp(W);}L._yuibuild.id=Y;L.prototype.hasImpl=X._hasImpl;if(P){L.NAME=R.NAME;L.prototype.constructor=L;}return L;};A.mix(D.build,{_template:function(L){function O(){O.superclass.constructor.apply(this,arguments);var R=O._yuibuild.exts,P=R.length;for(var Q=0;Q<P;Q++){R[Q].apply(this,arguments);}return this;}A.extend(O,L);return O;},_hasImpl:function(O){if(this.constructor._yuibuild){var Q=this.constructor._yuibuild.exts,L=Q.length,P;for(P=0;P<L;P++){if(Q[P]===O){return true;}}}return false;},_getClass:function(L,O){var P=(O&&false===O.dynamic)?false:true,Q=(P)?D.build._template(L):L;Q._yuibuild={id:null,exts:[],dynamic:P};return Q;},_getAggregates:function(L,O){var P=[],R=(O&&O.aggregates),S=L;while(S&&S.prototype){var Q=S._buildCfg&&S._buildCfg.aggregates;if(Q){P=P.concat(Q);}S=S.superclass?S.superclass.constructor:null;}if(R){P=P.concat(R);}return P;}});D.prototype={init:function(L){this.name=this.constructor.NAME;this.publish(M,{queuable:false,defaultFn:this._defInitFn});this.fire(M,null,L);return this;},destroy:function(){this.publish(E,{queuable:false,defaultFn:this._defDestroyFn});this.fire(E);return this;},_defInitFn:function(O,L){N[A.stamp(this)]=this;this._initHierarchy(L);this._set(K,true);},_defDestroyFn:function(L){this._destroyHierarchy();delete N[this._yuid];this._set(F,true);},_getClasses:function(){if(!this._classes){this._initHierarchyData();}return this._classes.concat();},_getAttrCfgs:function(){if(!this._attrs){this._initHierarchyData();}return A.merge(this._attrs);},_filterAttrCfgs:function(P,L){var O={};if(P.ATTRS){A.each(P.ATTRS,function(R,Q){if(L[Q]){O[Q]=L[Q];delete L[Q];}});}return O;},_initHierarchyData:function(){var P=this.constructor,O=[],L={};while(P&&P.prototype){O.unshift(P);if(P.ATTRS){this._aggregateAttrs(L,P.ATTRS,false);}P=P.superclass?P.superclass.constructor:null;}this._classes=O;this._attrs=L;},_aggregateAttrs:function(P,O,L){A.each(O,function(R,Q){if(!P[Q]){P[Q]=R;}else{P[Q]=A.mix(P[Q],R,L);}});},_initHierarchy:function(R){var Q,P=this._getClasses(),S=this._getAttrCfgs();for(var O=0,L=P.length;O<L;O++){Q=P[O];this._initAttrs(this._filterAttrCfgs(Q,S),R);if(G.owns(Q.prototype,B)){Q.prototype[B].apply(this,arguments);}}},_destroyHierarchy:function(){var P,O=this._getClasses();for(var L=O.length-1;L>=0;L--){P=O[L];if(G.owns(P.prototype,J)){P.prototype[J].apply(this,arguments);}}},toString:function(){return this.constructor.NAME+"["+A.stamp(this)+"]";},subscribe:function(){var L=arguments;L[0]=this._prefixEvtType(L[0]);return C.subscribe.apply(this,L);},fire:function(){var L=arguments;if(I.isString(L[0])){L[0]=this._prefixEvtType(L[0]);}else{if(L[0].type){L[0].type=this._prefixEvtType(L[0].type);}}return C.fire.apply(this,L);},publish:function(){var L=arguments;L[0]=this._prefixEvtType(L[0]);return C.publish.apply(this,L);},after:function(){var L=arguments;L[0]=this._prefixEvtType(L[0]);return C.after.apply(this,L);},unsubscribe:function(Q,P,O){var L=arguments;if(I.isString(L[0])){L[0]=this._prefixEvtType(L[0]);}return C.unsubscribe.apply(this,L);},unsubscribeAll:function(O){var L=arguments;L[0]=this._prefixEvtType(L[0]);return C.unsubscribeAll.apply(this,L);},_prefixEvtType:function(L){if(L.indexOf(H)===-1&&this.name){L=this.name+":"+L;}return L;}};A.mix(D,A.Attribute,false,null,1);D.prototype.constructor=D;A.Base=D;},"@VERSION@",{requires:["attribute"]});