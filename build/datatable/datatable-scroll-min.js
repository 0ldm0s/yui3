YUI.add("datatable-scroll",function(B){var L=B.Do,M=B.Node,J=B.Lang,G=B.ClassNameManager.getClassName,N="datatable",A=G(N,"hd"),E=G(N,"bd"),K=G(N,"liner"),I=G(N,"scrollable"),H='<div class="'+A+'"></div>',D='<div class="'+E+'"></div>',C='<th id="{id}" rowspan="{rowspan}" colspan="{colspan}"><div class="'+K+'" style="width:100px">{value}</div></th>',F='<td headers="{headers}"><div class="'+K+'" style="width:100px">{value}</div></td>';function O(){O.superclass.constructor.apply(this,arguments);}B.mix(O,{NS:"scroll",NAME:"dataTableScroll",ATTRS:{width:{value:undefined},height:{value:undefined},scroll:{value:"y"},columnWidth:{value:undefined},COLOR_COLUMNFILLER:{value:"#f2f2f2",validator:J.isString,setter:function(P){if(this._headerContainerNode){this._headerContainerNode.setStyle("backgroundColor",P);}}}}});B.extend(O,B.Plugin.Base,{tdTemplate:F,thTemplate:C,_parentTableNode:null,_parentTheadNode:null,_parentTbodyNode:null,_parentMsgNode:null,_parentContainer:null,_bodyContainerNode:null,_headerContainerNode:null,initializer:function(P){var Q=this.get("host");this._parentContainer=Q.get("contentBox");this._parentContainer.addClass(I);this._setUpNodes();},_setUpNodes:function(){var P=this.get("host");this.afterHostMethod("_addTableNode",this._setUpParentTableNode);this.afterHostMethod("_addTheadNode",this._setUpParentTheadNode);this.afterHostMethod("_addTbodyNode",this._setUpParentTbodyNode);this.afterHostMethod("_addMessageNode",this._setUpParentMessageNode);this.afterHostMethod("renderUI",this.renderUI);this.afterHostMethod("syncUI",this.syncUI);this.beforeHostMethod("_attachTheadThNode",this._attachTheadThNode);this.beforeHostMethod("_attachTbodyTdNode",this._attachTbodyTdNode);},_setUpParentTableNode:function(){this._parentTableNode=this.get("host")._tableNode;console.log(this._parentTableNode);},_setUpParentTheadNode:function(){this._parentTheadNode=this.get("host")._theadNode;console.log(this._parentTheadNode);},_setUpParentTbodyNode:function(){this._parentTbodyNode=this.get("host")._tbodyNode;console.log(this._parentTbodyNode);},_setUpParentMessageNode:function(){this._parentMsgNode=this.get("host")._msgNode;console.log(this._parentMsgNode);},renderUI:function(){this._createHeaderContainer();this._createBodyContainer();},syncUI:function(){this._syncScroll();},_attachTheadThNode:function(Q){var P=this.get("columnWidth");Q.th.get("firstChild").setStyle("width",P);return Q;},_attachTbodyTdNode:function(Q){var P=this.get("columnWidth");Q.td.get("firstChild").setStyle("width",P);return Q;},_createBodyContainer:function(){var Q=M.create(D),P=B.bind("_onScroll",this);this._bodyContainerNode=Q;this._setOverflowForTbody();Q.appendChild(this._parentTableNode);this._parentContainer.appendChild(Q);Q.on("scroll",P);},_createHeaderContainer:function(){var P=M.create(H);this._headerContainerNode=P;P.setStyle("backgroundColor",this.get("COLOR_COLUMNFILLER"));this._setOverflowForThead();P.appendChild(this._parentTheadNode);this._parentContainer.appendChild(P);},_setOverflowForTbody:function(){var Q=this.get("scroll"),P=this.get("width")||"",S=this.get("height")||"",R=this._bodyContainerNode;R.setStyles({"width":P,"height":S});if(Q==="x"){R.setStyles({"overflow-y":"hidden"});}else{if(Q==="y"){R.setStyles({"overflow-x":"hidden"});}}return R;},_setOverflowForThead:function(){var Q=this.get("scroll"),P=this.get("width"),R=this._headerContainerNode;if(Q==="y"){R.setStyle("width","auto");}else{R.setStyle("width",P);}},_onScroll:function(){this._headerContainerNode.set("scrollLeft",this._bodyContainerNode.get("scrollLeft"));},_syncScroll:function(){this._syncScrollX();this._syncScrollY();this._syncScrollOverhang();},_syncScrollY:function(){var P=this._parentTbodyNode,R=this._bodyContainerNode,Q;if(!this.get("width")){Q=(R.get("scrollHeight")>R.get("clientHeight"))?(P.get("parentNode").get("clientWidth")+19)+"px":(P.get("parentNode").get("clientWidth")+2)+"px";R.setStyle("width",Q);}},_syncScrollX:function(){var P=this._parentTbodyNode,R=this._bodyContainerNode,Q;this._headerContainerNode.set("scrollLeft",this._bodyContainerNode.get("scrollLeft"));if(P.get("rows").length===0){this._parentMsgNode.get("parentNode").setStyle("width",this._parentTheadNode.get("parentNode").get("offsetWidth")+"px");}else{this._parentMsgNode.get("parentNode").setStyle("width","");}},_syncScrollOverhang:function(){var P=this._bodyContainerNode,Q=1;if((P.get("scrollHeight")>P.get("clientHeight"))&&(P.get("scrollWidth")>P.get("clientWidth"))){Q=18;}this._setOverhangValue(Q);},_setOverhangValue:function(Q){var T=this.get("host"),V=T.get("columnset").get("columns"),S=V[V.length-1]||[],P=V.length,U=Q+"px solid "+this.get("COLOR_COLUMNFILLER"),R=this._parentTheadNode.get("children").get("children")[0]._nodes;M.one("#"+R[P-1].id).setStyle("borderRight",U);}});B.namespace("Plugin").DataTableScroll=O;},"@VERSION@",{requires:["plugin","datatable-base"]});