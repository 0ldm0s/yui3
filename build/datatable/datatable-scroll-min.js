YUI.add("datatable-scroll",function(B){var L=B.Do,M=B.Node,J=B.Lang,G=B.ClassNameManager.getClassName,N="datatable",A=G(N,"hd"),E=G(N,"bd"),K=G(N,"liner"),I=G(N,"scrollable"),H='<div class="'+A+'"></div>',D='<div class="'+E+'"></div>',C='<th id="{id}" rowspan="{rowspan}" colspan="{colspan}"><div class="'+K+'" style="width:100px">{value}</div></th>',F='<td headers="{headers}"><div class="'+K+'" style="width:100px">{value}</div></td>';function O(){O.superclass.constructor.apply(this,arguments);}B.mix(O,{NS:"scroll",NAME:"dataTableScroll",ATTRS:{width:{value:undefined},height:{value:undefined},scroll:{value:"y"},columnWidth:{value:undefined}}});B.extend(O,B.Plugin.Base,{tdTemplate:F,thTemplate:C,_parentTableNode:null,_parentTheadNode:null,_parentTbodyNode:null,_parentMsgNode:null,_parentContainer:null,_bodyContainerNode:null,_headerContainerNode:null,initializer:function(P){var Q=this.get("host");this._parentContainer=Q.get("contentBox");this._parentContainer.addClass(I);this._setUpNodes();},_setUpNodes:function(){var P=this.get("host");this.afterHostMethod("_addTableNode",this._setUpParentTableNode);this.afterHostMethod("_addTheadNode",this._setUpParentTheadNode);this.afterHostMethod("_addTbodyNode",this._setUpParentTbodyNode);this.afterHostMethod("_addMessageNode",this._setUpParentMessageNode);this.afterHostMethod("renderUI",this.renderUI);this.beforeHostMethod("_attachTheadThNode",this._attachTheadThNode);this.beforeHostMethod("_attachTbodyTdNode",this._attachTbodyTdNode);},_setUpParentTableNode:function(){this._parentTableNode=this.get("host")._tableNode;console.log(this._parentTableNode);},_setUpParentTheadNode:function(){this._parentTheadNode=this.get("host")._theadNode;console.log(this._parentTheadNode);},_setUpParentTbodyNode:function(){this._parentTbodyNode=this.get("host")._tbodyNode;console.log(this._parentTbodyNode);},_setUpParentMessageNode:function(){this._parentMsgNode=this.get("host")._msgNode;console.log(this._parentMsgNode);},renderUI:function(){this._createHeaderContainer();this._createBodyContainer();},_attachTheadThNode:function(Q){var P=this.get("columnWidth");Q.th.get("firstChild").setStyle("width",P);return Q;},_attachTbodyTdNode:function(Q){var P=this.get("columnWidth");Q.td.get("firstChild").setStyle("width",P);return Q;},_createBodyContainer:function(){var Q=M.create(D),P=B.bind("_onScroll",this);Q.setStyle("width",this.get("width"));Q.setStyle("height",this.get("height"));Q.appendChild(this._parentTableNode);this._parentContainer.appendChild(Q);this._bodyContainerNode=Q;Q.on("scroll",P);},_createHeaderContainer:function(){var P=M.create(H);P.setStyle("width",this.get("width"));P.appendChild(this._parentTheadNode);console.log(this._parentTheadNode);this._parentContainer.appendChild(P);this._headerContainerNode=P;},_onScroll:function(){this._headerContainerNode.set("scrollLeft",this._bodyContainerNode.get("scrollLeft"));},_syncScroll:function(){this._syncScrollX();this._syncScrollY();},_syncScrollY:function(){var P=this._parentTbodyNode,R=this._bodyContainerNode,Q;if(!this.get("width")){Q=(R.get("scrollHeight")>R.get("clientHeight"))?(P.get("parentNode").get("clientWidth")+19)+"px":(P.get("parentNode").get("clientWidth")+2)+"px";R.setStyle("width",Q);}},_syncScrollX:function(){var P=this._parentTbodyNode,R=this._bodyContainerNode,Q;this._headerContainerNode.set("scrollLeft",this._bodyContainerNode.get("scrollLeft"));if(P.get("rows").length===0){this._parentMsgNode.get("parentNode").setStyle("width",this._parentTheadNode.get("parentNode").get("offsetWidth")+"px");}else{this._parentMsgNode.get("parentNode").setStyle("width","");}}});B.namespace("Plugin").DataTableScroll=O;},"@VERSION@",{requires:["plugin","datatable-base"]});