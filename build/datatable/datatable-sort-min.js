YUI.add("datatable-sort",function(A){var H=A.ClassNameManager.getClassName,J="datatable",B="asc",D="desc",C=H(J,"asc"),E=H(J,"desc"),F=H(J,"sortable"),I='<a class="{link_class}" title="{link_title}" href="{link_href}">{value}</a>';function G(){G.superclass.constructor.apply(this,arguments);}A.mix(G,{NS:"sort",NAME:"dataTableSort",ATTRS:{trigger:{value:"theadCellClick",writeOnce:"initOnly"},sortedBy:{value:null}}});A.extend(G,A.Plugin.Base,{thLinkTemplate:I,initializer:function(K){var L=this.get("host");L.get("recordset").plug(A.Plugin.RecordsetSort,{dt:L});L.get("recordset").sort.addTarget(L);this.doBefore("_createTheadThNode",this._beforeCreateTheadThNode);this.doBefore("_attachTheadThNode",function(M){if(M.column.get("sortable")){M.th.addClass(F);}});L.on(this.get("trigger"),this._onEventSortColumn);L.after("recordsetSort:sort",function(){L._uiSetRecordset(L.get("recordset"));});L.after("sortedByChangeEvent",function(){});if(L.get("rendered")){L._uiSetColumnset(L.get("columnset"));}},_beforeCreateTheadThNode:function(K){if(K.column.get("sortable")){K.value=A.substitute(this.thLinkTemplate,{link_class:"foo",link_title:"bar",link_href:"bat",value:K.value});}},_onEventSortColumn:function(O){O.halt();var M=this.get("columnset").get("hash")[O.currentTarget.get("id")],N=M.get("field"),L=this.get("sortedBy"),K=(L&&L.field===N&&L.dir===B)?D:B,P=M.get("sortFn");if(M.get("sortable")){this.get("recordset").sort.sort(N,K===D,P);this.set("sortedBy",{field:N,dir:K});}}});A.namespace("Plugin").DataTableSort=G;},"@VERSION@",{requires:["plugin","datatable-base","recordset-sort"],lang:["en"]});