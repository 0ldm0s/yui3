YUI.add("infographics",function(B){function N(W){this._createId();this._keys={};this._data=[];N.superclass.constructor.apply(this,arguments);}N.NAME="baseAxis";N.ATTRS={parent:{lazyAdd:false,value:null},roundingUnit:{getter:function(){return this._roundingUnit;},setter:function(W){this._roundingUnit=W;if(this._roundMinAndMax){this._updateMinAndMax();}return W;}},roundMinAndMax:{getter:function(){return this._roundMinAndMax;},setter:function(W){if(this._roundMinAndMax==W){return W;}this._roundMinAndMax=W;this._updateMinAndMax();}},dataType:{getter:function(){return this._dataType;}},dataProvider:{getter:function(){return this._dataProvider;},setter:function(W){if(W===this._dataProvider){return;}if(this._dataProvider){}W=B.merge(W);this._dataProvider={data:W.data.concat()};this._dataClone=this._dataProvider.data.concat();return W;},lazyAdd:false},dataMaximum:{getter:function(){return this._dataMaximum;}},maximum:{getter:function(){if(this._autoMax||!this._setMaximum){return this._dataMaximum;}return this._setMaximum;},setter:function(W){this._setMaximum=W;}},dataMinimum:{getter:function(){return this._dataMinimum;}},minimum:{getter:function(){if(this._autoMin||!this._setMinimum){return this._dataMinimum;}return this._setMinimum;},setter:function(W){this._setMinimum=W;return W;}},autoMax:{getter:function(){return this._autoMax;},setter:function(W){this._autoMax=W;}},autoMin:{getter:function(){return this._autoMin;},setter:function(W){this._autoMin=W;}},data:{getter:function(){return this._data;}},keys:{getter:function(){return this._keys;}}};B.extend(N,B.Base,{GUID:"yuibaseaxis",_createId:function(){this._id=B.guid(this.GUID);},_roundingUnit:NaN,_roundMinAndMax:true,_dataType:null,_dataProvider:null,_dataClone:null,_setMaximum:null,_dataMaximum:null,_autoMax:true,_setMinimum:null,_dataMinimum:null,_autoMin:true,_data:null,_keys:null,_axisReady:false,addKey:function(Z){if(this._keys.hasOwnProperty(Z)){return;}this._dataClone=this._dataProvider.data.concat();var Y=this._keys,W={},X={axis:this};this._setDataByKey(Z);W[Z]=Y[Z].concat();this._updateMinAndMax();X.keysAdded=W;if(!this._dataReady){this._dataReady=true;this.publish("axisReady",{fireOnce:true});this.fire("axisReady",X);}else{this.fire("axisUpdate",X);}},_setDataByKey:function(a){var Z,b,X=[],Y=this._dataClone.concat(),W=Y.length;for(Z=0;Z<W;++Z){b=Y[Z];X[Z]=b[a];}this._keys[a]=X;this._data=this._data.concat(X);},removeKey:function(c){if(!this._keys.hasOwnProperty(c)){return;}var X,d,W={},Z=[],Y={},b=this._keys,a={};Y[c]=b[c].concat();for(X in b){if(b.hasOwnProperty(X)){if(X==c){continue;}d=b[X];Z=Z.concat(d);W[X]=d;}}b=W;this._data=Z;this._updateMinAndMax();a.keysRemoved=Y;this.fire("axisUpdate",a);},getKeyValueAt:function(X,W){var Z=NaN,Y=this.keys;if(Y[X]&&Y[X][W]){Z=Y[X][W];}return Z;},getDataByKey:function(X){var W=this._keys;if(W[X]){return W[X];}return null;},_updateMinAndMax:function(){var b=this.get("data"),X=0,a=0,W,Y,Z;if(b&&b.length&&b.length>0){W=b.length;X=a=b[0];if(W>1){for(Z=1;Z<W;Z++){Y=b[Z];if(isNaN(Y)){continue;}X=Math.max(Y,X);a=Math.min(Y,a);}}}this._dataMaximum=X;this._dataMinimum=a;},newDataUpdateHandler:function(){var W,Y=this._keys,X={};this._data=[];this._dataClone=this._dataProvider.data.concat();for(W in Y){if(Y.hasOwnProperty(W)){Y[W]=this._setDataByKey(W);this._data=this._data.concat(Y[W]);}}this._updateMinAndMax();X.keysAdded=Y;this.fire("axisUpdate",X);},_keyDataUpdateHandler:function(){var W=false,Z={},a=Z.keysAdded,b=Z.keysRemoved,Y=this._keys,X;for(X in Y){if(Y.hasOwnProperty(X)){if(a.hasOwnProperty(X)){W=true;Y[X]=Y[X];}if(b.hasOwnProperty(X)){W=true;Y[X]=[];}}}if(!W){return;}this._data=[];for(X in Y){if(Y.hasOwnProperty(X)){this._data=this._data.concat(Y[X]);}}this._updateMinAndMax();Z.keysAdded=a;Z.keysRemoved=b;this.fire("axisUpdate",Z);},getTotalMajorUnits:function(Y,W){var X;if(Y.determinant==="count"){X=Y.count;}else{if(Y.determinant==="distance"){X=(W/Y.distance)+1;}}return Math.min(X,this._data.length);},getLabelAtPosition:function(b,X,Z){var Y=this.get("minimum"),W=this.get("maximum"),a=(b/X*(W-Y))+Y;return this.getFormattedLabel(a,Z);},getFormattedLabel:function(X,W){return X;}});B.BaseAxis=N;function J(W){J.superclass.constructor.apply(this,arguments);}J.NAME="numericAxis";J.ATTRS={alwaysShowZero:{getter:function(){return this._alwaysShowZero;},setter:function(W){if(W==this._alwaysShowZero){return;}this._alwaysShowZero=W;this._updateMinAndMax();return W;}}};B.extend(J,B.BaseAxis,{_dataType:"numeric",_alwaysShowZero:true,_updateMinAndMax:function(){var c=this.get("data"),X=0,b=0,W,Y,a,Z;if(c&&c.length&&c.length>0){W=c.length;X=b=c[0];if(W>1){for(a=1;a<W;a++){Y=c[a];if(isNaN(Y)){if(B.Lang.isObject(Y)){for(Z in Y){if(Y.hasOwnProperty(Z)){X=Math.max(Y[Z],X);b=Math.min(Y[Z],b);}}}continue;}X=Math.max(Y,X);b=Math.min(Y,b);}}}if(this._roundMinAndMax&&!isNaN(this._roundingUnit)){this._dataMaximum=this._roundUpToNearest(X,this._roundingUnit);this._dataMinimum=this._roundDownToNearest(b,this._roundingUnit);}else{this._dataMaximum=X;this._dataMinimum=b;}if(this._alwaysShowZero){this._dataMinimum=Math.min(0,this._dataMinimum);}},_roundToNearest:function(Y,X){X=X||1;if(X===0){return Y;}var W=Math.round(this._roundToPrecision(Y/X,10))*X;return this._roundToPrecision(W,10);},_roundUpToNearest:function(X,W){W=W||1;if(W===0){return X;}return Math.ceil(this._roundToPrecision(X/W,10))*W;},_roundDownToNearest:function(X,W){W=W||1;if(W===0){return X;}return Math.floor(this._roundToPrecision(X/W,10))*W;},_roundToPrecision:function(Y,W){W=W||0;var X=Math.pow(10,W);return Math.round(X*Y)/X;},getFormattedLabel:function(X,W){return B.DataType.Number.format(X,W);}});B.NumericAxis=J;function E(W){E.superclass.constructor.apply(this,arguments);}E.NAME="stackedAxis";B.extend(E,B.NumericAxis,{_updateMinAndMax:function(){var c=0,X=0,b=0,W=0,a=0,Y=0,d,Z,e=this.get("keys");for(d in e){if(e.hasOwnProperty(d)){a=Math.max(a,e[d].length);}}for(;Y<a;++Y){b=0;W=0;for(d in e){if(e.hasOwnProperty(d)){Z=e[d][Y];if(isNaN(Z)){continue;
}if(Z>=0){b+=Z;}else{W+=Z;}}}if(b>0){c=Math.max(c,b);}else{c=Math.max(c,W);}if(W<0){X=Math.min(X,W);}else{X=Math.min(X,b);}}if(this._roundMinAndMax&&!isNaN(this._roundingUnit)){this._dataMaximum=this._roundUpToNearest(c,this._roundingUnit);this._dataMinimum=this._roundDownToNearest(X,this._roundingUnit);}else{this._dataMaximum=c;this._dataMinimum=X;}if(this._alwaysShowZero&&X>0){this._dataMinimum=Math.min(0,this._dataMinimum);}}});B.StackedAxis=E;function D(W){D.superclass.constructor.apply(this,arguments);}D.NAME="timeAxis";D.ATTRS={maximum:{getter:function(){if(this._autoMax||this._setMaximum===null){return this._getNumber(this._dataMaximum);}return this._setMaximum;},setter:function(W){this._setMaximum=this._getNumber(W);this.fire("dataChange");}},minimum:{getter:function(){if(this._autoMin||this._setMinimum===null){return this._dataMinimum;}return this._setMinimum;},setter:function(W){this._setMinimum=this._getNumber(W);this.fire("dataChange");}}};B.extend(D,B.BaseAxis,{GUID:"yuitimeaxis",_dataType:"time",_setDataByKey:function(a){var b,X=[],Z=this._dataClone.concat(),Y,c,W=Z.length;for(Y=0;Y<W;++Y){b=Z[Y][a];if(B.Lang.isDate(b)){c=b.valueOf();}else{if(!B.Lang.isNumber(b)){c=new Date(b.toString()).valueOf();}else{c=b;}}X[Y]=c;}this._keys[a]=X;this._data=this._data.concat(X);},_getNumber:function(W){if(B.Lang.isDate(W)){W=W.valueOf();}else{if(!B.Lang.isNumber(W)){W=new Date(W.toString()).valueOf();}}return W;},updateMaxByPosition:function(X){var W=this._dataMaximum-this._dataMinimum;X=Math.round(X*100)/100;X=X*W;X+=this._dataMinimum;this.set("maximum",X);},updateMinByPosition:function(X){var W=this._dataMaximum-this._dataMinimum;X=Math.round(X*100)/100;X=X*W;X+=this._dataMinimum;this.set("minimum",X);},updateMinAndMaxByPosition:function(Y,a,X){var Z=Y/X,W=a/X;Z+=this._dataMinimum;W+=this._dataMaximum;this._setMaximum=this._getNumber(W);this._setMinimum=this._getNumber(Z);this.fire("dataChange");},getFormattedLabel:function(X,W){return B.DataType.Date.format(B.DataType.Date.parse(X),{format:W});}});B.TimeAxis=D;function F(W){F.superclass.constructor.apply(this,arguments);}F.NAME="categoryAxis";B.extend(F,B.BaseAxis,{GUID:"yuicategoryaxis",_dataType:"category",_getKeyValueAt:function(X,W){var Y=NaN;if(this.keys[X]){Y=W;}return Y;},_updateMinAndMax:function(){this._dataMaximum=Math.max(this._data.length-1,0);this._dataMinimum=0;},_setDataByKey:function(a){var Z,b,X=[],c=[],Y=this._dataClone.concat(),W=Y.length;for(Z=0;Z<W;++Z){b=Y[Z];X[Z]=Z;c[Z]=b[a];}this._keys[a]=X;this._data=this._data.concat(c);},getTotalMajorUnits:function(X,W){return this._data.length;},getLabelAtPosition:function(a,W,Z){var Y=this._data.length-1,X=Math.round(a/(W/Y));return this._data[X];}});B.CategoryAxis=F;function R(W){}R.NAME="renderer";R.ATTRS={styles:{value:{},getter:function(){this._styles=this._styles||this._getDefaultStyles();return this._styles;},setter:function(W){this._styles=this._setStyles(W);return this._styles;},validator:function(W){return B.Lang.isObject(W);}}};R.prototype={_newStyles:null,_styles:null,_setStyles:function(X){var W=this.get("styles");return this._mergeStyles(X,W);},_mergeStyles:function(X,W){this._newStyles={};B.Object.each(X,function(b,Z,Y){if(W.hasOwnProperty(Z)&&B.Lang.isObject(b)){W[Z]=this._mergeStyles(b,W[Z]);}else{W[Z]=b;this._newStyles[Z]=b;}},this);return W;},_getDefaultStyles:function(){return{};}};B.Renderer=R;B.CartesianSeries=B.Base.create("cartesianSeries",B.Widget,[B.Renderer],{_leftOrigin:null,_bottomOrigin:null,renderUI:function(){this._setCanvas();},bindUI:function(){var X=this.get("xAxis"),W=this.get("yAxis");if(X){X.after("axisReady",B.bind(this._xAxisChangeHandler,this));X.after("axisUpdate",B.bind(this._xAxisChangeHandler,this));}if(W){W.after("axisReady",B.bind(this._yAxisChangeHandler,this));W.after("axisUpdate",B.bind(this._yAxisChangeHandler,this));}this.after("xAxisChange",B.bind(this.xAxisChangeHandler,this));this.after("yAxisChange",B.bind(this.yAxisChangeHandler,this));this.after("stylesChange",B.bind(this._updateHandler,this));},syncUI:function(){this.draw();},_updateHandler:function(W){if(this.get("rendered")){this.draw();}},GUID:"yuicartesianseries",_setCanvas:function(){var W=this.get("contentBox"),Y=document.createElement("div"),X=Y.style;W.appendChild(Y);X.position="absolute";X.display="block";X.top="0px";X.left="0px";X.width="100%";X.height="100%";this.set("node",Y);this.set("graphic",new B.Graphic());this.get("graphic").render(this.get("node"));},_xAxisChangeHandler:function(W){if(this.get("rendered")&&this.get("xKey")&&this.get("yKey")){this.draw();}},_yAxisChangeHandler:function(W){if(this.get("rendered")&&this.get("xKey")&&this.get("yKey")){this.draw();}},setAreaData:function(){var x,u,n=B.Node.one(this._parentNode).get("parentNode"),g=n.get("offsetWidth"),q=n.get("offsetHeight"),k=this.get("styles").padding,m=k.left,t=k.top,d=g-(m+k.right),p=q-(t+k.bottom),l=[],z=[],f=this.get("xAxis"),X=this.get("yAxis"),y=f.get("maximum"),s=f.get("minimum"),Y=X.get("maximum"),W=X.get("minimum"),Z=this.get("xKey"),c=this.get("yKey"),b=d/(y-s),j=p/(Y-W),a=f.getDataByKey(Z).concat(),r=X.getDataByKey(c).concat(),e=a.length,v=this.get("direction"),o=0;if(v==="vertical"){r=r.reverse();}this.get("graphic").setSize(g,q);this._leftOrigin=Math.round(((0-s)*b)+m);this._bottomOrigin=Math.round((p+t)-(0-W)*j);for(;o<e;++o){x=Math.round((((a[o]-s)*b)+m));u=Math.round(((p+t)-(r[o]-W)*j));l.push(x);z.push(u);}this.set("xcoords",l);this.set("ycoords",z);},drawGraph:function(){this.drawMarkers();},draw:function(){var Y=B.Node.one(this._parentNode).get("parentNode"),W=Y.get("offsetWidth"),X=Y.get("offsetHeight");if(!isNaN(W)&&!isNaN(X)&&W>0&&X>0){this.setAreaData();this.drawGraph();}},drawMarkers:function(){if(!this.get("xcoords")||this.get("xcoords").length<1){return;}var f=this.get("graphic"),q=this.get("styles").marker,d=q.width,p=q.height,a=q.fillColor,Z=q.fillAlpha,e=q.fillType||"solid",s=q.borderWidth,W=q.borderColor,k=q.borderAlpha||1,c=q.colors,b=q.alpha||[],j=q.ratios||[],m=q.rotation||0,g=this.get("xcoords"),r=this.get("ycoords"),Y=q.func||"drawCircle",n=0,o=g.length,l=r[0],X;
for(;n<o;++n){l=r[n];X=g[n];if(s>0){f.lineStyle(s,W,k);}if(e==="solid"){f.beginFill(a,Z);}else{f.beginGradientFill(e,c,b,j,{rotation:m,width:d,height:p});}this.drawMarker(f,Y,X,l,d,p);f.end();}},drawMarker:function(b,Y,a,Z,W,X){if(Y==="drawCircle"){b.drawCircle(a,Z,W/2);}else{a-=W/2;Z-=X/2;b[Y].call(b,a,Z,W,X);}},_getDefaultStyles:function(){return{padding:{top:0,left:0,right:0,bottom:0}};}},{ATTRS:{type:{value:"cartesian"},order:{value:NaN},xcoords:{value:null},ycoords:{value:null},graph:{value:null},xAxis:{value:null,validator:function(W){return W!==this.get("xAxis");},lazyAdd:false},yAxis:{value:null,validator:function(W){return W!==this.get("yAxis");},lazyAdd:false},xKey:{value:null,validator:function(W){return W!==this.get("xKey");}},yKey:{value:null,validator:function(W){return W!==this.get("yKey");}},node:{value:null},graphic:{value:null},direction:{value:"horizontal"}}});function H(W){H.superclass.constructor.apply(this,arguments);}H.NAME="lineSeries";H.ATTRS={type:{value:"line"}};B.extend(H,B.CartesianSeries,{drawGraph:function(){var W=this.get("styles");if(W.showLines){this.drawLines();}if(W.showMarkers){this.drawMarkers();}},drawLines:function(){if(this.get("xcoords").length<1){return;}var e=this.get("xcoords"),p=this.get("ycoords"),h=e.length,Y=e[0],X=p[0],o=Y,m=X,l,j,g,a=this.get("styles"),k=a.lineType,n=a.dashLength,c=a.gapSpace,b=a.connectDiscontinuousPoints,W=a.discontinuousType,Z=a.discontinuousDashLength,f=a.discontinuousGapSpace,d=this.get("graphic");d.clear();d.lineStyle(a.weight,a.color);d.moveTo(Y,X);for(g=1;g<h;g=++g){l=e[g];j=p[g];if(isNaN(j)){o=l;m=j;continue;}if(o==Y){if(k!="dashed"){d.lineTo(l,j);}else{this.drawDashedLine(o,m,l,j,n,c);}}else{if(!b){d.moveTo(l,j);}else{if(W!="solid"){this.drawDashedLine(o,m,l,j,Z,f);}else{d.lineTo(l,j);}}}Y=o=l;X=m=j;}d.end();},drawDashedLine:function(h,m,X,k,Z,Y){Z=Z||10;Y=Y||10;var b=Z+Y,e=X-h,j=k-m,l=Math.sqrt(Math.pow(e,2)+Math.pow(j,2)),c=Math.floor(Math.abs(l/b)),a=Math.atan2(j,e),g=h,f=m,d,W=this.get("graphic");e=Math.cos(a)*b;j=Math.sin(a)*b;for(d=0;d<c;++d){W.moveTo(g,f);W.lineTo(g+Math.cos(a)*Z,f+Math.sin(a)*Z);g+=e;f+=j;}W.moveTo(g,f);l=Math.sqrt((X-g)*(X-g)+(k-f)*(k-f));if(l>Z){W.lineTo(g+Math.cos(a)*Z,f+Math.sin(a)*Z);}else{if(l>0){W.lineTo(g+Math.cos(a)*l,f+Math.sin(a)*l);}}W.moveTo(X,k);},_getDefaultStyles:function(){return{color:"#000000",alpha:1,weight:1,marker:{fillColor:"#000000",alpha:1,weight:1,width:6,height:6},showMarkers:false,showLines:true,lineType:"solid",dashLength:10,gapSpace:10,connectDiscontinuousPoint:true,discontinuousType:"dashed",discontinuousDashLength:10,discontinuousGapSpace:10,padding:{top:0,left:0,right:0,bottom:0}};}});B.LineSeries=H;function C(W){C.superclass.constructor.apply(this,arguments);}C.NAME="columnSeries";C.ATTRS={type:{value:"column"}};B.extend(C,B.CartesianSeries,{drawMarkers:function(){if(this.get("xcoords").length<1){return;}var o=this.get("graphic"),AC=this.get("styles").marker,m=AC.width,AB=AC.height,e=AC.fillColor,d=AC.fillAlpha,n=AC.fillType||"solid",AE=AC.borderWidth,W=AC.borderColor,r=AC.borderAlpha||1,l=AC.colors,f=AC.alpha||[],q=AC.ratios||[],v=AC.rotation||0,p=this.get("xcoords"),AD=this.get("ycoords"),c=AC.func||"drawRect",y=0,AA=p.length,s=AD[0],a=this.get("type"),Y=this.get("graph"),k=Y.seriesTypes[a],z=k.length,X=0,Z=0,g=0,j,u,x=this.get("order"),t=B.Node.one(this._parentNode).get("parentNode"),b;for(;y<z;++y){u=k[y];X+=u.get("styles").marker.width;if(x>y){g=X;}}Z=AA*X;if(Z>t.offsetWidth){j=this.width/Z;X*=j;g*=j;m*=j;m=Math.max(m,1);}g-=X/2;for(y=0;y<AA;++y){s=AD[y];AB=this._bottomOrigin-s;b=p[y]+g;if(AE>0){o.lineStyle(AE,W,r);}if(n==="solid"){o.beginFill(e,d);}else{o.beginGradientFill(n,l,f,q,{rotation:v,width:m,height:AB});}this.drawMarker(o,c,b,s,m,AB);o.end();}},drawMarker:function(b,Y,a,Z,W,X){b.drawRect(a,Z,W,X);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.ColumnSeries=C;function Q(W){Q.superclass.constructor.apply(this,arguments);}Q.NAME="barSeries";Q.ATTRS={type:{value:"bar"},direction:{value:"vertical"}};B.extend(Q,B.CartesianSeries,{drawMarkers:function(){if(this.get("xcoords").length<1){return;}var n=this.get("graphic"),AB=this.get("styles").marker,l=AB.width,AA=AB.height,c=AB.fillColor,b=AB.fillAlpha,m=AB.fillType||"solid",AE=AB.borderWidth,W=AB.borderColor,q=AB.borderAlpha||1,k=AB.colors,d=AB.alpha||[],p=AB.ratios||[],u=AB.rotation||0,o=this.get("xcoords"),AD=this.get("ycoords"),a=AB.func||"drawRect",x=0,z=o.length,r=AD[0],Y=this.get("type"),X=this.get("graph"),j=X.seriesTypes[Y],y=j.length,g=0,AC=0,e=0,f,t,v=this.get("order"),s=B.Node.one(this._parentNode).get("parentNode"),Z;for(;x<y;++x){t=j[x];g+=t.get("styles").marker.height;if(v>x){e=g;}}AC=z*g;if(AC>s.offsetHeight){f=this.height/AC;g*=f;e*=f;AA*=f;AA=Math.max(AA,1);}e-=g/2;for(x=0;x<z;++x){r=AD[x]+e;Z=o[x];l=Z-this._leftOrigin;if(AE>0){n.lineStyle(AE,W,q);}if(m==="solid"){n.beginFill(c,b);}else{n.beginGradientFill(m,k,d,p,{rotation:u,width:l,height:AA});}this.drawMarker(n,a,Z,r,l,AA);n.end();}},drawMarker:function(b,Y,a,Z,W,X){b.drawRect(this._leftOrigin,Z,W,X);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.BarSeries=Q;function L(W){L.superclass.constructor.apply(this,arguments);}L.NAME="areaSeries";L.ATTRS={type:{value:"area"},direction:{value:"horizontal"}};B.extend(L,B.CartesianSeries,{drawGraph:function(){this.drawArea();},drawArea:function(){if(this.get("xcoords").length<1){return;}var g=this.get("xcoords"),d=this.get("ycoords"),f=g.length,a=g[0],Z=d[0],Y=a,X=Z,e=Y,c=X,k,j,b,h=this.get("styles"),W=this.get("graphic");W.clear();W.beginFill(h.color,h.alpha);W.moveTo(Y,X);for(b=1;b<f;b=++b){k=g[b];j=d[b];if(isNaN(j)){e=k;c=j;
continue;}W.lineTo(k,j);Y=e=k;X=c=j;}if(this.get("direction")==="vertical"){W.lineTo(this._leftOrigin,X);W.lineTo(this._leftOrigin,Z);}else{W.lineTo(Y,this._bottomOrigin);W.lineTo(a,this._bottomOrigin);}W.lineTo(a,Z);W.end();},_getDefaultStyles:function(){return{color:"#000000",alpha:1,padding:{top:0,left:0,right:0,bottom:0}};}});B.AreaSeries=L;function T(W){T.superclass.constructor.apply(this,arguments);}T.NAME="rangeSeries";T.ATTRS={type:{value:"range"}};B.extend(T,B.CartesianSeries,{setAreaData:function(){var x,v,o=B.Node.one(this._parentNode).get("parentNode"),j=o.get("offsetWidth"),r=o.get("offsetHeight"),l=this.get("styles").padding,n=l.left,u=l.top,e=j-(n+l.right),q=r-(u+l.bottom),m=[],z=[],g=this.get("xAxis"),X=this.get("yAxis"),y=g.get("maximum"),t=g.get("minimum"),Y=X.get("maximum"),W=X.get("minimum"),Z=this.get("xKey"),d=this.get("yKey"),c=e/(y-t),k=q/(Y-W),b=g.getDataByKey(Z),s=X.getDataByKey(d),f=b.length,p,a;this.get("graphic").setSize(j,r);this._leftOrigin=Math.round(((0-t)*c)+n);this._bottomOrigin=Math.round((q+u)-(0-W)*k);for(p=0;p<f;++p){a=s[p];x=Math.round((((b[p]-t)*c)+n));v={h:Math.round(((q+u)-(a.high-W)*k)),l:Math.round(((q+u)-(a.low-W)*k)),o:Math.round(((q+u)-(a.open-W)*k)),c:Math.round(((q+u)-(a.close-W)*k))};m.push(x);z.push(v);}this.set("xcoords",m);this.set("ycoords",z);},drawMarkers:function(){if(this.get("xcoords").length<1){return;}var f=this.get("graphic"),o=this.get("styles").marker,e=o.width,g=this.get("xcoords"),q=this.get("ycoords"),l=0,m=g.length,Z=this.get("type"),X=this.get("graph"),d=X.seriesTypes[Z],n=d.length,W=0,Y=0,b=0,c,j,k=this.get("order"),h=B.Node.one(this._parentNode).get("parentNode"),a,p;for(;l<n;++l){j=d[l];W+=j.get("styles").marker.width;if(k>l){b=W;}}Y=m*W;if(Y>h.offsetWidth){c=this.width/Y;W*=c;b*=c;e*=c;e=Math.max(e,1);}b-=W/2;for(l=0;l<m;++l){p=q[l];a=g[l]+b;this.drawMarker(f,p,a,o);}}});B.RangeSeries=T;function K(W){K.superclass.constructor.apply(this,arguments);}K.NAME="ohlcSeries";K.ATTRS={type:{value:"ohlc"}};B.extend(K,B.RangeSeries,{drawMarker:function(e,r,Y,m){var k=r.h,f=r.o,i=r.l,p=r.c,d=m.width,j,X=m.upColor,a=m.downColor,Z,g=m.upAlpha,n=m.downAlpha,b=p<f,W=m.thickness,q=Y+d*0.5;j=b?X:a;Z=b?g:n;e.lineStyle(W,j,Z);e.moveTo(Y,f);e.lineTo(q,f);e.moveTo(q,k);e.lineTo(q,i);e.moveTo(q,p);e.lineTo(Y+d,p);e.end();},_getDefaultStyles:function(){return{marker:{upColor:"#aaaaaa",upAlpha:1,thickness:1,borderAlpha:1,downColor:"#000000",downAlpha:1,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.OHLCSeries=K;function P(W){P.superclass.constructor.apply(this,arguments);}P.NAME="candlestickSeries";P.ATTRS={type:{value:"candlestick"}};B.extend(P,B.RangeSeries,{drawMarker:function(f,AI,d,AB){var AG=AI.h,AC=AI.o,AE=AI.l,AJ=AI.c,AD=Math.abs(AJ-AC),y=AB.width,AM,x=AB.upFillColor,Z=AB.downFillColor,AF,s=AB.upFillAlpha,AL=AB.downFillAlpha,q=AJ<AC,z=AB.upFillType||"solid",u=AB.downFillType||"solid",a=AB.borderWidth,r=AB.borderColor,AK=AB.borderAlpha||1,AA,v=AB.upColors,AH=AB.downColors,n,m=AB.upAlphas||[],t=AB.downAlphas||[],j,g=AB.upRatios||[],k=AB.downRatios||[],p,b=AB.upRotation||0,Y=AB.downRotation||0,i=q?z:u,e=AJ<AC?AJ:AC,X=AJ<AC?AC:AJ,W=d+y*0.5;if(a>0){f.lineStyle(a,r,AK);}if(i==="solid"){AM=q?x:Z;AF=q?s:AL;f.beginFill(AM,AF);}else{AA=q?v:AH;p=q?b:Y;j=q?g:k;n=q?m:t;f.beginGradientFill(i,AA,n,j,{rotation:p,width:y,height:AD});}if(e>AG){f.moveTo(W,AG);f.lineTo(W,e);}f.drawRect(d,e,y,AD);if(AE>AJ&&AE>AC){f.moveTo(W,X);f.lineTo(W,AE);}f.end();},_getDefaultStyles:function(){return{marker:{upFillColor:"#ffffff",upFillAlpha:1,borderColor:"#000000",borderWidth:1,borderAlpha:1,upColors:[],upAlphas:[],upRatios:[],upRotation:0,downFillColor:"#000000",downFillAlpha:1,downBorderColor:"#000000",downBorderWidth:0,downBorderAlpha:1,downColors:[],downAlphas:[],downRatios:[],downRotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.CandlestickSeries=P;function G(W){G.superclass.constructor.apply(this,arguments);}G.NAME="stackedLineSeries";G.ATTRS={type:{value:"stackedLine"}};B.extend(G,B.CartesianSeries,{drawGraph:function(){var W=this.get("styles");if(W.showLines){this.drawLines();}if(W.showMarkers){this.drawMarkers();}},drawLines:function(){if(this.get("xcoords").length<1){return;}var k=this.get("xcoords"),z=this.get("ycoords"),w=this.get("direction"),m=B.Node.one(this._parentNode).get("parentNode"),r=m.get("offsetHeight"),o=this.get("order"),Y=this.get("type"),W=this.get("graph"),d=W.seriesTypes[Y],X,l,q=k.length,b=k[0],a=z[0],y=b,x=a,v,t,p=0,e=this.get("styles"),s=e.lineType,u=e.dashLength,g=e.gapSpace,f=e.connectDiscontinuousPoints,Z=e.discontinuousType,c=e.discontinuousDashLength,n=e.discontinuousGapSpace,j=this.get("graphic");if(o>0){X=d[o-1].get("xcoords").concat();l=d[o-1].get("ycoords").concat();if(w==="vertical"){q=X.length;for(;p<q;++p){if(!isNaN(X[p])&&!isNaN(k[p])){k[p]+=X[p];}}b=y=k[0];q=k.length;}else{q=l.length;for(;p<q;++p){if(!isNaN(l[p])&&!isNaN(z[p])){z[p]=l[p]-(r-z[p]);}}a=x=z[0];q=z.length;}}j.clear();j.lineStyle(e.weight,e.color);j.moveTo(b,a);for(p=1;p<q;p=++p){v=k[p];t=z[p];if(isNaN(t)){y=v;x=t;continue;}if(y==b){if(s!="dashed"){j.lineTo(v,t);}else{this.drawDashedLine(y,x,v,t,u,g);}}else{if(!f){j.moveTo(v,t);}else{if(Z!="solid"){this.drawDashedLine(y,x,v,t,c,n);}else{j.lineTo(v,t);}}}b=y=v;a=x=t;}j.end();},drawDashedLine:function(h,m,X,k,Z,Y){Z=Z||10;Y=Y||10;var b=Z+Y,e=X-h,j=k-m,l=Math.sqrt(Math.pow(e,2)+Math.pow(j,2)),c=Math.floor(Math.abs(l/b)),a=Math.atan2(j,e),g=h,f=m,d,W=this.get("graphic");e=Math.cos(a)*b;j=Math.sin(a)*b;for(d=0;d<c;++d){W.moveTo(g,f);W.lineTo(g+Math.cos(a)*Z,f+Math.sin(a)*Z);g+=e;f+=j;}W.moveTo(g,f);l=Math.sqrt((X-g)*(X-g)+(k-f)*(k-f));if(l>Z){W.lineTo(g+Math.cos(a)*Z,f+Math.sin(a)*Z);}else{if(l>0){W.lineTo(g+Math.cos(a)*l,f+Math.sin(a)*l);}}W.moveTo(X,k);},_getDefaultStyles:function(){return{color:"#000000",alpha:1,weight:1,marker:{fillColor:"#000000",alpha:1,weight:1,width:6,height:6},showMarkers:false,showLines:true,lineType:"solid",dashLength:10,gapSpace:10,connectDiscontinuousPoint:true,discontinuousType:"dashed",discontinuousDashLength:10,discontinuousGapSpace:10,padding:{top:0,left:0,right:0,bottom:0}};
}});B.StackedLineSeries=G;function V(W){V.superclass.constructor.apply(this,arguments);}V.NAME="stackedSeries";V.ATTRS={type:{value:"stacked"},direction:{value:"horizontal"}};B.extend(V,B.CartesianSeries,{drawGraph:function(){this.drawArea();},drawArea:function(){if(this.get("xcoords").length<1){return;}var s=this.get("direction"),k=B.Node.one(this._parentNode).get("parentNode"),o=k.get("offsetHeight"),l=this.get("order"),Y=this.get("type"),W=this.get("graph"),Z=W.seriesTypes[Y],f=this.get("xcoords"),u=this.get("ycoords"),X,j,g,e,n=f.length,c=f[0],b=u[0],t=c,r=b,q,p,m=0,a=this.get("styles"),d=this.get("graphic");if(l>0){X=Z[l-1].get("xcoords").concat();j=Z[l-1].get("ycoords").concat();if(s==="vertical"){n=X.length;for(;m<n;++m){if(!isNaN(X[m])&&!isNaN(f[m])){f[m]+=X[m];}}}else{n=j.length;for(;m<n;++m){if(!isNaN(j[m])&&!isNaN(u[m])){u[m]=j[m]-(o-u[m]);}}}e=u.concat();g=f.concat();g=g.concat(X.concat().reverse());e=e.concat(j.concat().reverse());c=g[0];b=e[0];g.push(c);e.push(b);}else{e=u.concat();g=f.concat();if(s==="vertical"){g.push(this._leftOrigin);g.push(this._leftOrigin);e.push(e[e.length-1]);e.push(b);}else{g.push(g[g.length-1]);g.push(c);e.push(this._bottomOrigin);e.push(this._bottomOrigin);}g.push(c);e.push(b);}n=g.length;d.clear();d.beginFill(a.color,a.alpha);d.moveTo(c,b);for(m=1;m<n;m=++m){q=g[m];p=e[m];if(isNaN(p)){t=q;r=p;continue;}d.lineTo(q,p);t=q;r=p;}d.end();},_getDefaultStyles:function(){return{color:"#000000",alpha:1,padding:{top:0,left:0,right:0,bottom:0}};}});B.StackedAreaSeries=V;function O(W){O.superclass.constructor.apply(this,arguments);}O.NAME="stackedColumnSeries";O.ATTRS={type:{value:"stackedColumn"},negativeBaseValues:{value:null},positiveBaseValues:{value:null}};B.extend(O,B.CartesianSeries,{drawMarkers:function(){if(this.get("xcoords").length<1){return;}var p=this.get("graphic"),AC=this.get("styles").marker,n=AC.width,AB=AC.height,e=AC.fillColor,d=AC.fillAlpha,o=AC.fillType||"solid",AE=AC.borderWidth,W=AC.borderColor,s=AC.borderAlpha||1,m=AC.colors,f=AC.alpha||[],r=AC.ratios||[],x=AC.rotation||0,q=this.get("xcoords"),AD=this.get("ycoords"),c=AC.func||"drawRect",z=0,AA=q.length,t=AD[0],a=this.get("type"),Y=this.get("graph"),k=Y.seriesTypes[a],g,y=this.get("order"),v=B.Node.one(this._parentNode).get("parentNode"),l,u,X=y===0,b,j,Z=AA*n;if(Z>v.offsetWidth){j=this.width/Z;n*=j;n=Math.max(n,1);}if(!X){g=k[y-1];l=g.get("negativeBaseValues");u=g.get("positiveBaseValues");}else{l=[];u=[];}this.set("negativeBaseValues",l);this.set("positiveBaseValues",u);for(z=0;z<AA;++z){t=AD[z];if(X){AB=this._bottomOrigin-t;if(t<this._bottomOrigin){u[z]=t;l[z]=this._bottomOrigin;}else{if(t>this._bottomOrigin){u[z]=this._bottomOrigin;l[z]=t;}else{u[z]=t;l[z]=t;}}}else{if(t>this._bottomOrigin){t+=(l[z]-this._bottomOrigin);AB=l[z]-t;l[z]=t;}else{if(t<this._bottomOrigin){t=u[z]-(this._bottomOrigin-AD[z]);AB=u[z]-t;u[z]=t;}}}b=q[z]-n/2;if(AE>0){p.lineStyle(AE,W,s);}if(o==="solid"){p.beginFill(e,d);}else{p.beginGradientFill(o,m,f,r,{rotation:x,width:n,height:AB});}this.drawMarker(p,c,b,t,n,AB);p.end();}},drawMarker:function(b,Y,a,Z,W,X){b.drawRect(a,Z,W,X);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.StackedColumnSeries=O;function U(W){U.superclass.constructor.apply(this,arguments);}U.NAME="graphstack";U.ATTRS={seriesCollection:{lazyAdd:false,getter:function(){return this._seriesCollection;},setter:function(W){this._parseSeriesCollection(W);return this._seriesCollection;}},parent:{value:null}};B.extend(U,B.Base,{_seriesCollection:null,seriesTypes:null,_parseSeriesCollection:function(Z){var W=Z.length,Y=0,X;if(!Z){return;}if(!this._seriesCollection){this._seriesCollection=[];}if(!this.seriesTypes){this.seriesTypes=[];}for(;Y<W;++Y){X=Z[Y];if(!(X instanceof B.CartesianSeries)){this._createSeries(X);continue;}this._addSeries(X);}W=this._seriesCollection.length;for(Y=0;Y<W;++Y){this._seriesCollection[Y].render(this.get("parent"));}},_addSeries:function(Y){var Z=Y.get("type"),b=this._seriesCollection,a=b.length,X=this.seriesTypes,W;if(!Y.get("graph")){Y.set("graph",this);}Y.graphOrder=a;b.push(Y);if(!X.hasOwnProperty(Z)){this.seriesTypes[Z]=[];}W=this.seriesTypes[Z];Y.set("order",W.length);W.push(Y);this.fire("seriesAdded",Y);},_createSeries:function(a){var b=a.type,c=this._seriesCollection,Y=this.seriesTypes,X,W,Z;a.graph=this;if(!Y.hasOwnProperty(b)){Y[b]=[];}X=Y[b];a.graph=this;a.order=X.length;W=this._getSeries(a.type);Z=new W(a);X.push(Z);c.push(Z);},_getSeries:function(W){var X;switch(W){case"line":X=B.LineSeries;break;case"column":X=B.ColumnSeries;break;case"bar":X=B.BarSeries;break;case"area":X=B.AreaSeries;break;case"candlestick":X=B.CandlestickSeries;break;case"ohlc":X=B.OHLCSeries;break;case"stackedarea":X=B.StackedAreaSeries;break;case"stackedline":X=B.StackedLineSeries;break;case"stackedcolumn":X=B.StackedColumnSeries;break;default:X=B.CartesianSeries;break;}return X;}});B.GraphStack=U;B.AxisRenderer=B.Base.create("axisrenderer",B.Widget,[B.Renderer],{axisChangeHandler:function(Y){var W=Y.newVal,X=Y.prevVal;if(X){X.detach("axisReady",this._axisDataChangeHandler);X.detach("axisUpdate",this._axisDataChangeHandler);}W.after("axisReady",B.bind(this._axisDataChangeHandler,this));W.after("axisUpdate",B.bind(this._axisDataChangeHandler,this));},_axisDataChangeHandler:function(W){if(this.get("rendered")){this._drawAxis();}},_updateHandler:function(W){if(this.get("rendered")){this._drawAxis();}},_positionChangeHandler:function(W){this._ui=this.getLayout(this.get("position"));if(this.get("rendered")){this._drawAxis();}},renderUI:function(){this._ui=this.getLayout(this.get("position"));this._setCanvas();},bindUI:function(){var W=this.get("axis");if(W){W.after("axisReady",B.bind(this._axisDataChangeHandler,this));W.after("axisUpdate",B.bind(this._axisDataChangeHandler,this));}this.after("axisChange",this.axisChangeHandler);
this.after("stylesChange",this._updateHandler);this.after("positionChange",this._positionChangeHandler);this.after("overlapGraphChange",this._updateHandler);},syncUI:function(){this._drawAxis();},_setCanvas:function(){var W=this.get("contentBox"),Z=this.get("position"),a=document.createElement("div"),Y=a.style,X=this._parentNode;W.appendChild(a);Y.position="absolute";Y.display="block";Y.top="0px";Y.left="0px";Y.border="1px";if(Z==="top"||Z==="bottom"){W.setStyle("width",X.getStyle("width"));}else{W.setStyle("height",X.getStyle("height"));}Y.width=W.getStyle("width");Y.height=W.getStyle("height");this.set("node",a);this.set("graphic",new B.Graphic());this.get("graphic").render(this.get("node"));},_getDefaultStyles:function(){return{majorTicks:{display:"inside",length:4,color:"#000000",weight:1,alpha:1},minorTicks:{display:"none",length:2,color:"#000000",weight:1},line:{weight:1,color:"#000000",alpha:1},majorUnit:{determinant:"count",count:5,distance:75},padding:{top:0,left:0,right:0,bottom:0},top:"0px",left:"0px",width:"100px",height:"100px",hideOverlappingLabelTicks:false};}},{NAME:"axisRenderer",ATTRS:{graphic:{value:null},axis:{value:null,validator:function(W){return W!==this.get("axis");}},node:{value:null},position:{value:"bottom",validator:function(W){return((W!==this.get("position"))&&(W==="bottom"||W==="top"||W==="left"||W==="right"));}},topTickOffset:{value:0},bottomTickOffset:{value:0},leftTickOffset:{value:0},rightTickOffset:{value:0},overlapGraph:{value:true,validator:function(W){return B.Lang.isBoolean(W);}}}});function I(W){I.superclass.constructor.apply(this,arguments);}I.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};B.extend(I,B.Base,{setTickOffsets:function(){var W=this.get("axisRenderer"),a=W.get("styles").majorTicks,Y=a.length,X=Y*0.5,Z=a.display;W.set("topTickOffset",0);W.set("bottomTickOffset",0);switch(Z){case"inside":W.set("rightTickOffset",Y);break;case"outside":W.set("leftTickOffset",Y);break;case"cross":W.set("rightTickOffset",X);W.set("leftTickOffset",X);break;}},getLineStart:function(){var W=this.get("axisRenderer"),X=W.get("styles"),b=X.padding,c=X.majorTicks,Y=c.length,a=c.display,Z={x:b.left,y:0};if(a==="outside"){Z.x+=Y;}else{if(a==="cross"){Z.x+=Y/2;}}return Z;},drawTick:function(c,a){var X=this.get("axisRenderer"),Y=X.get("styles"),b=Y.padding,Z=a.length,d={x:b.left,y:c.y},W={x:Z+b.left,y:c.y};X.drawLine(d,W,a);},getLabelPoint:function(W){var X=this.get("axisRenderer");return{x:W.x-X.get("leftTickOffset"),y:W.y};},positionLabel:function(k,m){var d=this.get("axisRenderer"),X=d.get("styles").label,a=m.x,g=m.y,b=Math.min(90,Math.max(-90,X.rotation)),e=Math.abs(b),i=Math.PI/180,l=parseFloat(parseFloat(Math.sin(e*i)).toFixed(8)),Z=parseFloat(parseFloat(Math.cos(e*i)).toFixed(8)),h=Z,f=b>0?-l:l,c=-f,Y=h,j=0,W=this.get("maxLabelSize");if(B.UA.ie){k.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(b===0){a-=k.offsetWidth;g-=k.offsetHeight*0.5;}else{if(e===90){a-=k.offsetHeight;g-=k.offsetWidth*0.5;}else{if(b===-90){a-=k.offsetHeight;g-=k.offsetWidth*0.5;}else{if(b>0){a-=(Z*k.offsetWidth)+(k.offsetHeight*b/90);g-=(l*k.offsetWidth)+(Z*(k.offsetHeight*0.5));}else{a-=(Z*k.offsetWidth)+(e/90*k.offsetHeight);g-=Z*(k.offsetHeight*0.5);}}}}k.style.left=a+"px";k.style.top=g+"px";k.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+h+" M12="+f+" M21="+c+" M22="+Y+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(W,k.offsetWidth));return;}if(b===0){j=k.offsetWidth;a-=j;g-=k.offsetHeight*0.5;}else{if(b===90){j=k.offsetHeight;g-=k.offsetWidth*0.5;}else{if(b===-90){j=k.offsetHeight;a-=j;g+=k.offsetWidth*0.5;}else{j=(Z*k.offsetWidth)+(l*k.offsetHeight);if(b<0){a-=j;g+=(l*k.offsetWidth)-(Z*(k.offsetHeight*0.6));}else{a-=(Z*k.offsetWidth);g-=(l*k.offsetWidth)+(Z*(k.offsetHeight*0.6));}}}}k.style.left=a+"px";k.style.top=g+"px";k.style.MozTransformOrigin="0 0";k.style.MozTransform="rotate("+b+"deg)";k.style.webkitTransformOrigin="0 0";k.style.webkitTransform="rotate("+b+"deg)";this.set("maxLabelSize",Math.max(j,W));},setSizeAndPosition:function(){var W=this.get("maxLabelSize"),X=this.get("axisRenderer"),Y=X.get("styles"),a=Y.line.weight,b=Y.majorTicks,Z=b.display,c=b.length;if(Z==="outside"){a+=c;}else{if(Z==="cross"){a+=c*0.5;}}a+=W;X.get("node").style.left=W+"px";X.set("width",a);},offsetNodeForTick:function(Y){var W=this.get("axisRenderer"),a=W.get("styles").majorTicks,X=a.length,Z=a.display;if(Z==="inside"){Y.style.marginRight=(0-X)+"px";}else{if(Z==="cross"){Y.style.marginRight=(0-(X*0.5))+"px";}}}});B.LeftAxisLayout=I;function M(W){M.superclass.constructor.apply(this,arguments);}M.ATTRS={axisRenderer:{value:null}};B.extend(M,B.Base,{setTickOffsets:function(){var W=this.get("axisRenderer"),a=W.get("styles").majorTicks,Y=a.length,X=Y*0.5,Z=a.display;W.set("topTickOffset",0);W.set("bottomTickOffset",0);switch(Z){case"inside":W.set("leftTickOffset",Y);break;case"outside":W.set("rightTickOffset",Y);break;case"cross":W.set("rightTickOffset",X);W.set("leftTickOffset",X);break;}},drawTick:function(c,a){var X=this.get("axisRenderer"),Y=X.get("styles"),b=Y.padding,Z=a.length,d={x:b.left,y:c.y},W={x:b.left+Z,y:c.y};X.drawLine(d,W,a);},getLineStart:function(){var W=this.get("axisRenderer"),X=W.get("styles"),b=X.padding,c=X.majorTicks,Y=c.length,a=c.display,Z={x:b.left,y:b.top};if(a==="inside"){Z.x+=Y;}else{if(a==="cross"){Z.x+=Y/2;}}return Z;},getLabelPoint:function(W){var X=this.get("axisRenderer");return{x:W.x+X.get("rightTickOffset"),y:W.y};},positionLabel:function(i,k){var c=this.get("axisRenderer"),W=c.get("styles").label,Z=k.x,f=k.y,a=Math.min(Math.max(W.rotation,-90),90),d=Math.abs(a),h=Math.PI/180,j=parseFloat(parseFloat(Math.sin(d*h)).toFixed(8)),Y=parseFloat(parseFloat(Math.cos(d*h)).toFixed(8)),g=Y,e=a>0?-j:j,b=-e,X=g;if(B.UA.ie){i.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(a===0){f-=i.offsetHeight*0.5;}else{if(d===90){f-=i.offsetWidth*0.5;}else{if(a>0){f-=(Y*(i.offsetHeight*0.5));}else{f-=(j*i.offsetWidth)+(Y*(i.offsetHeight*0.5));
}}}i.style.left=Z+"px";i.style.top=f+"px";i.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+g+" M12="+e+" M21="+b+" M22="+X+' sizingMethod="auto expand")';return;}if(a===0){f-=i.offsetHeight*0.5;}else{if(a===90){Z+=i.offsetHeight;f-=i.offsetWidth*0.5;}else{if(a===-90){f+=i.offsetWidth*0.5;}else{if(a<0){f-=(Y*(i.offsetHeight*0.6));}else{f-=Y*(i.offsetHeight*0.6);Z+=j*i.offsetHeight;}}}}i.style.left=Z+"px";i.style.top=f+"px";i.style.MozTransformOrigin="0 0";i.style.MozTransform="rotate("+a+"deg)";i.style.webkitTransformOrigin="0 0";i.style.webkitTransform="rotate("+a+"deg)";},setSizeAndPosition:function(W){var X=this.get("axisRenderer"),Y=X.get("styles"),a=Y.line.weight,b=Y.majorTicks,Z=b.display,c=b.length;if(Z==="outside"){a+=c;}else{if(Z==="cross"){a+=c*0.5;}}a+=W;X.set("width",a);},offsetNodeForTick:function(Y){var W=this.get("axisRenderer"),a=W.get("styles").majorTicks,X=a.length,Z=a.display;if(Z==="inside"){Y.style.marginLeft=(0-X)+"px";}else{if(Z==="cross"){Y.style.marginLeft=(0-(X*0.5))+"px";}}}});B.RightAxisLayout=M;function S(W){S.superclass.constructor.apply(this,arguments);}S.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};B.extend(S,B.Base,{setTickOffsets:function(){var W=this.get("axisRenderer"),a=W.get("styles").majorTicks,Y=a.length,X=Y*0.5,Z=a.display;W.set("leftTickOffset",0);W.set("rightTickOffset",0);switch(Z){case"inside":W.set("topTickOffset",Y);break;case"outside":W.set("bottomTickOffset",Y);break;case"cross":W.set("topTickOffset",X);W.set("bottomTickOffset",X);break;}},setSizeAndPosition:function(){var W=this.get("maxLabelSize"),X=this.get("axisRenderer"),Y=X.get("styles"),a=Y.line.weight,b=Y.majorTicks,Z=b.display,c=b.length;if(Z==="outside"){a+=c;}else{if(Z==="cross"){a+=c*0.5;}}a+=W;X.set("height",a);},getLineStart:function(){var W=this.get("axisRenderer"),X=W.get("styles"),b=X.padding,c=X.majorTicks,Y=c.length,a=c.display,Z={x:0,y:b.top};if(a==="inside"){Z.y+=Y;}else{if(a==="cross"){Z.y+=Y/2;}}return Z;},drawTick:function(c,a){var X=this.get("axisRenderer"),Y=X.get("styles"),b=Y.padding,Z=a.length,d={x:c.x,y:b.top},W={x:c.x,y:Z+b.top};X.drawLine(d,W,a);},getLabelPoint:function(W){var X=this.get("axisRenderer");return{x:W.x,y:W.y+X.get("bottomTickOffset")};},positionLabel:function(k,m){var d=this.get("axisRenderer"),X=d.get("styles").label,a=m.x,g=m.y,b=Math.min(90,Math.max(-90,X.rotation)),e=Math.abs(b),i=Math.PI/180,l=parseFloat(parseFloat(Math.sin(e*i)).toFixed(8)),Z=parseFloat(parseFloat(Math.cos(e*i)).toFixed(8)),h=Z,f=b>0?-l:l,c=-f,Y=h,j=0,W=this.get("maxLabelSize");if(B.UA.ie){h=Z;f=b>0?-l:l;c=-f;Y=h;k.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(e===90){a-=k.offsetHeight*0.5;}else{if(b<0){a-=Z*k.offsetWidth;a-=l*(k.offsetHeight*0.5);}else{if(b>0){a-=l*(k.offsetHeight*0.5);}else{a-=k.offsetWidth*0.5;}}}k.style.left=a+"px";k.style.top=g+"px";k.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+h+" M12="+f+" M21="+c+" M22="+Y+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(k.offsetHeight,W));return;}if(b===0){a-=k.offsetWidth*0.5;j=k.offsetHeight;}else{if(e===90){j=k.offsetWidth;if(b===90){a+=k.offsetHeight*0.5;}else{g+=j;a-=k.offsetHeight*0.5;}}else{j=(l*k.offsetWidth)+(Z*k.offsetHeight);if(b<0){a-=(Z*k.offsetWidth)+(l*(k.offsetHeight*0.6));g+=l*k.offsetWidth;}else{a+=l*(k.offsetHeight*0.6);}}}k.style.left=a+"px";k.style.top=g+"px";k.style.MozTransformOrigin="0 0";k.style.MozTransform="rotate("+b+"deg)";k.style.webkitTransformOrigin="0 0";k.style.webkitTransform="rotate("+b+"deg)";this.set("maxLabelSize",Math.max(j,W));},offsetNodeForTick:function(Y){var W=this.get("axisRenderer"),a=W.get("styles").majorTicks,X=a.length,Z=a.display;if(Z==="inside"){Y.style.marginTop=(0-X)+"px";}else{if(Z==="cross"){Y.style.marginTop=(0-(X*0.5))+"px";}}}});B.BottomAxisLayout=S;function A(W){A.superclass.constructor.apply(this,arguments);}A.ATTRS={axisRenderer:{value:null}};B.extend(A,B.Base,{setTickOffsets:function(){var W=this.get("axisRenderer"),a=W.get("styles").majorTicks,Y=a.length,X=Y*0.5,Z=a.display;W.set("leftTickOffset",0);W.set("rightTickOffset",0);switch(Z){case"inside":W.set("bottomTickOffset",Y);break;case"outside":W.set("topTickOffset",Y);break;case"cross":W.set("topTickOffset",X);W.set("bottomTickOffset",X);break;}},getLineStart:function(){var W=this.get("axisRenderer"),X=W.get("styles"),b=X.padding,c=X.majorTicks,Y=c.length,a=c.display,Z={x:0,y:b.top};if(a==="outside"){Z.y+=Y;}else{if(a==="cross"){Z.y+=Y/2;}}return Z;},drawTick:function(c,a){var X=this.get("axisRenderer"),Y=X.get("styles"),b=Y.padding,Z=a.length,d={x:c.x,y:b.top},W={x:c.x,y:Z+b.top};X.drawLine(d,W,a);},getLabelPoint:function(X){var W=this.get("axisRenderer");return{x:X.x,y:X.y-W.get("topTickOffset")};},positionLabel:function(i,k){var c=this.get("axisRenderer"),W=c.get("styles").label,Z=k.x,f=k.y,a=Math.max(-90,Math.min(90,W.rotation)),d=Math.abs(a),h=Math.PI/180,j=parseFloat(parseFloat(Math.sin(d*h)).toFixed(8)),Y=parseFloat(parseFloat(Math.cos(d*h)).toFixed(8)),g,e,b,X;a=Math.min(90,a);a=Math.max(-90,a);if(B.UA.ie){i.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";g=Y;e=a>0?-j:j;b=-e;X=g;if(a===0){Z-=i.offsetWidth*0.5;f-=i.offsetHeight;}else{if(d===90){Z-=i.offsetHeight*0.5;f-=i.offsetWidth;}else{if(a>0){Z-=(Y*i.offsetWidth)+Math.min((j*i.offsetHeight),(a/180*i.offsetHeight));f-=(j*i.offsetWidth)+(Y*(i.offsetHeight));}else{Z-=j*(i.offsetHeight*0.5);f-=(j*i.offsetWidth)+(Y*(i.offsetHeight));}}}i.style.left=Z;i.style.top=f;i.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+g+" M12="+e+" M21="+b+" M22="+X+' sizingMethod="auto expand")';return;}if(a===0){Z-=i.offsetWidth*0.5;f-=i.offsetHeight;}else{if(a===90){Z+=i.offsetHeight*0.5;f-=i.offsetWidth;}else{if(a===-90){Z-=i.offsetHeight*0.5;f-=0;}else{if(a<0){Z-=(j*(i.offsetHeight*0.6));f-=(Y*i.offsetHeight);}else{Z-=(Y*i.offsetWidth)-(j*(i.offsetHeight*0.6));f-=(j*i.offsetWidth)+(Y*i.offsetHeight);}}}}i.style.left=Z+"px";i.style.top=f+"px";
i.style.MozTransformOrigin="0 0";i.style.MozTransform="rotate("+a+"deg)";i.style.webkitTransformOrigin="0 0";i.style.webkitTransform="rotate("+a+"deg)";},setSizeAndPosition:function(W){var X=this.get("axisRenderer"),Y=X.get("styles"),a=Y.line.weight,b=Y.majorTicks,Z=b.display,c=b.length;if(Z==="outside"){a+=c;}else{if(Z==="cross"){a+=c*0.5;}}a+=W;X.get("node").style.top=W+"px";X.set("height",a);},offsetNodeForTick:function(Y){var W=this.get("axisRenderer"),a=W.get("styles").majorTicks,X=a.length,Z=a.display;if(Z==="inside"){Y.style.marginBottom=(0-X)+"px";}else{if(Z==="cross"){Y.style.marginBottom=(0-(X*0.5))+"px";}}}});B.TopAxisLayout=A;B.mix(B.AxisRenderer.prototype,{_ui:null,getLayout:function(X){var W;switch(X){case"top":W=new B.TopAxisLayout({axisRenderer:this});break;case"bottom":W=new B.BottomAxisLayout({axisRenderer:this});break;case"left":W=new B.LeftAxisLayout({axisRenderer:this});break;case"right":W=new B.RightAxisLayout({axisRenderer:this});break;}return W;},drawLine:function(Y,X,W){var Z=this.get("graphic");Z.lineStyle(W.weight,W.color,W.alpha);Z.moveTo(Y.x,Y.y);Z.lineTo(X.x,X.y);Z.end();},_drawAxis:function(){var X=this.get("styles"),g=X.majorTicks,h=g.display!="none",a,f=X.majorUnit,Y=this.get("axis"),e,k,b=0,Z,c,d,l,j=this._ui,W=this.get("graphic");W.clear();j.setTickOffsets();Z=this.getLength();d=j.getLineStart();a=this.getFirstPoint(d);this.drawLine(d,this.getLineEnd(a),this.get("styles").line);if(h){j.drawTick(a,g);}e=Y.getTotalMajorUnits(f,Z);if(e<1){return;}k=Z/(e-1);this._createLabelCache();j.set("maxLabelSize",0);for(;b<e;++b){if(h){j.drawTick(a,g);}c=this.getPosition(a);l=this.getLabel(a,Y.getLabelAtPosition(c,Z));j.positionLabel(l,j.getLabelPoint(a));a=this.getNextPoint(a,k);}j.setSizeAndPosition();this._clearLabelCache();if(this.get("overlapGraph")){j.offsetNodeForTick(this.get("node"));}},_labels:null,_labelCache:null,getLabel:function(Z,W,a){var Y,X=this._labelCache;if(X.length>0){Y=X.shift();}else{Y=document.createElement("span");}Y.innerHTML=W;Y.style.display="block";Y.style.position="absolute";this.get("node").appendChild(Y);this._labels.push(Y);return Y;},_createLabelCache:function(){if(this._labels){this._labelCache=this._labels.concat();}else{this._labelCache=[];}this._labels=[];},_clearLabelCache:function(){var W=this._labelCache.length,Y=0,X,Z;for(;Y<W;++Y){X=Z[Y];X.parentNode.removeChild(X);}this._labelCache=[];},_calculateSizeByTickLength:true,getLineEnd:function(Y){var W=this.get("node").offsetWidth,X=this.get("node").offsetHeight,Z=this.get("position");if(Z==="top"||Z==="bottom"){return{x:W,y:Y.y};}else{return{x:Y.x,y:X};}},getLength:function(){var X,Z=this.get("styles"),a=Z.padding,W=this.get("node").offsetWidth,Y=this.get("node").offsetHeight,b=this.get("position");if(b==="top"||b==="bottom"){X=W-(a.left+a.right);}else{X=Y-(a.top+a.bottom);}return X;},getFirstPoint:function(Z){var W=this.get("styles"),a=this.get("position"),Y=W.padding,X={x:Z.x,y:Z.y};if(a==="top"||a==="bottom"){X.x+=Y.left;}else{X.y+=Y.top;}return X;},getNextPoint:function(W,X){var Y=this.get("position");if(Y==="top"||Y==="bottom"){W.x=W.x+X;}else{W.y=W.y+X;}return W;},getLastPoint:function(){var X=this.get("styles"),Y=X.padding,W=this.get("node").offsetWidth,Z=this.get("position");if(Z==="top"||Z==="bottom"){return{x:W-Y.right,y:Y.top};}else{return{x:Y.left,y:Y.top};}},getPosition:function(W){var b,Z=this.get("node").offsetHeight,Y=this.get("styles"),a=Y.padding,c=this.get("position"),X=this.get("axis").get("dataType");if(c==="left"||c==="right"){if(X==="numeric"){b=(Z-(a.top+a.bottom))-(W.y-a.top);}else{b=W.y-a.top;}}else{b=W.x-a.left;}return b;}});},"@VERSION@");