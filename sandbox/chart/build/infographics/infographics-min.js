YUI.add("infographics",function(B){function O(X){this._createId();this._keys={};this._data=[];O.superclass.constructor.apply(this,arguments);}O.NAME="baseAxis";O.ATTRS={parent:{lazyAdd:false,value:null},roundingUnit:{getter:function(){return this._roundingUnit;},setter:function(X){this._roundingUnit=X;if(this._roundMinAndMax){this._updateMinAndMax();}return X;}},roundMinAndMax:{getter:function(){return this._roundMinAndMax;},setter:function(X){if(this._roundMinAndMax==X){return X;}this._roundMinAndMax=X;this._updateMinAndMax();}},dataType:{getter:function(){return this._dataType;}},dataProvider:{getter:function(){return this._dataProvider;},setter:function(X){if(X===this._dataProvider){return;}if(this._dataProvider){}X=B.merge(X);this._dataProvider={data:X.data.concat()};this._dataClone=this._dataProvider.data.concat();return X;},lazyAdd:false},dataMaximum:{getter:function(){return this._dataMaximum;}},maximum:{getter:function(){if(this._autoMax||!this._setMaximum){return this._dataMaximum;}return this._setMaximum;},setter:function(X){this._setMaximum=X;}},dataMinimum:{getter:function(){return this._dataMinimum;}},minimum:{getter:function(){if(this._autoMin||!this._setMinimum){return this._dataMinimum;}return this._setMinimum;},setter:function(X){this._setMinimum=X;return X;}},autoMax:{getter:function(){return this._autoMax;},setter:function(X){this._autoMax=X;}},autoMin:{getter:function(){return this._autoMin;},setter:function(X){this._autoMin=X;}},data:{getter:function(){return this._data;}},keys:{getter:function(){return this._keys;}}};B.extend(O,B.Base,{GUID:"yuibaseaxis",_createId:function(){this._id=B.guid(this.GUID);},_roundingUnit:NaN,_roundMinAndMax:true,_dataType:null,_dataProvider:null,_dataClone:null,_setMaximum:null,_dataMaximum:null,_autoMax:true,_setMinimum:null,_dataMinimum:null,_autoMin:true,_data:null,_keys:null,_axisReady:false,addKey:function(a){if(this._keys.hasOwnProperty(a)){return;}this._dataClone=this._dataProvider.data.concat();var Z=this._keys,X={},Y={axis:this};this._setDataByKey(a);X[a]=Z[a].concat();this._updateMinAndMax();Y.keysAdded=X;if(!this._dataReady){this._dataReady=true;this.publish("axisReady",{fireOnce:true});this.fire("axisReady",Y);}else{this.fire("axisUpdate",Y);}},_setDataByKey:function(b){var a,c,Y=[],Z=this._dataClone.concat(),X=Z.length;for(a=0;a<X;++a){c=Z[a];Y[a]=c[b];}this._keys[b]=Y;this._data=this._data.concat(Y);},removeKey:function(d){if(!this._keys.hasOwnProperty(d)){return;}var Y,e,X={},a=[],Z={},c=this._keys,b={};Z[d]=c[d].concat();for(Y in c){if(c.hasOwnProperty(Y)){if(Y==d){continue;}e=c[Y];a=a.concat(e);X[Y]=e;}}c=X;this._data=a;this._updateMinAndMax();b.keysRemoved=Z;this.fire("axisUpdate",b);},getKeyValueAt:function(Y,X){var a=NaN,Z=this.keys;if(Z[Y]&&Z[Y][X]){a=Z[Y][X];}return a;},getDataByKey:function(Y){var X=this._keys;if(X[Y]){return X[Y];}return null;},_updateMinAndMax:function(){var c=this.get("data"),Y=0,b=0,X,Z,a;if(c&&c.length&&c.length>0){X=c.length;Y=b=c[0];if(X>1){for(a=1;a<X;a++){Z=c[a];if(isNaN(Z)){continue;}Y=Math.max(Z,Y);b=Math.min(Z,b);}}}this._dataMaximum=Y;this._dataMinimum=b;},newDataUpdateHandler:function(){var X,Z=this._keys,Y={};this._data=[];this._dataClone=this._dataProvider.data.concat();for(X in Z){if(Z.hasOwnProperty(X)){Z[X]=this._setDataByKey(X);this._data=this._data.concat(Z[X]);}}this._updateMinAndMax();Y.keysAdded=Z;this.fire("axisUpdate",Y);},_keyDataUpdateHandler:function(){var X=false,a={},b=a.keysAdded,c=a.keysRemoved,Z=this._keys,Y;for(Y in Z){if(Z.hasOwnProperty(Y)){if(b.hasOwnProperty(Y)){X=true;Z[Y]=Z[Y];}if(c.hasOwnProperty(Y)){X=true;Z[Y]=[];}}}if(!X){return;}this._data=[];for(Y in Z){if(Z.hasOwnProperty(Y)){this._data=this._data.concat(Z[Y]);}}this._updateMinAndMax();a.keysAdded=b;a.keysRemoved=c;this.fire("axisUpdate",a);},getTotalMajorUnits:function(Z,X){var Y;if(Z.determinant==="count"){Y=Z.count;}else{if(Z.determinant==="distance"){Y=(X/Z.distance)+1;}}return Math.min(Y,this._data.length);},getLabelAtPosition:function(c,Y,a){var Z=this.get("minimum"),X=this.get("maximum"),b=(c/Y*(X-Z))+Z;return this.getFormattedLabel(b,a);},getFormattedLabel:function(Y,X){return Y;}});B.BaseAxis=O;function K(X){K.superclass.constructor.apply(this,arguments);}K.NAME="numericAxis";K.ATTRS={alwaysShowZero:{getter:function(){return this._alwaysShowZero;},setter:function(X){if(X==this._alwaysShowZero){return;}this._alwaysShowZero=X;this._updateMinAndMax();return X;}}};B.extend(K,B.BaseAxis,{_dataType:"numeric",_alwaysShowZero:true,_updateMinAndMax:function(){var d=this.get("data"),Y=0,c=0,X,Z,b,a;if(d&&d.length&&d.length>0){X=d.length;Y=c=d[0];if(X>1){for(b=1;b<X;b++){Z=d[b];if(isNaN(Z)){if(B.Lang.isObject(Z)){for(a in Z){if(Z.hasOwnProperty(a)){Y=Math.max(Z[a],Y);c=Math.min(Z[a],c);}}}continue;}Y=Math.max(Z,Y);c=Math.min(Z,c);}}}if(this._roundMinAndMax&&!isNaN(this._roundingUnit)){this._dataMaximum=this._roundUpToNearest(Y,this._roundingUnit);this._dataMinimum=this._roundDownToNearest(c,this._roundingUnit);}else{this._dataMaximum=Y;this._dataMinimum=c;}if(this._alwaysShowZero){this._dataMinimum=Math.min(0,this._dataMinimum);}},_roundToNearest:function(Z,Y){Y=Y||1;if(Y===0){return Z;}var X=Math.round(this._roundToPrecision(Z/Y,10))*Y;return this._roundToPrecision(X,10);},_roundUpToNearest:function(Y,X){X=X||1;if(X===0){return Y;}return Math.ceil(this._roundToPrecision(Y/X,10))*X;},_roundDownToNearest:function(Y,X){X=X||1;if(X===0){return Y;}return Math.floor(this._roundToPrecision(Y/X,10))*X;},_roundToPrecision:function(Z,X){X=X||0;var Y=Math.pow(10,X);return Math.round(Y*Z)/Y;},getFormattedLabel:function(Y,X){return B.DataType.Number.format(Y,X);}});B.NumericAxis=K;function E(X){E.superclass.constructor.apply(this,arguments);}E.NAME="stackedAxis";B.extend(E,B.NumericAxis,{_updateMinAndMax:function(){var d=0,Y=0,c=0,X=0,b=0,Z=0,e,a,f=this.get("keys");for(e in f){if(f.hasOwnProperty(e)){b=Math.max(b,f[e].length);}}for(;Z<b;++Z){c=0;X=0;for(e in f){if(f.hasOwnProperty(e)){a=f[e][Z];if(isNaN(a)){continue;
}if(a>=0){c+=a;}else{X+=a;}}}if(c>0){d=Math.max(d,c);}else{d=Math.max(d,X);}if(X<0){Y=Math.min(Y,X);}else{Y=Math.min(Y,c);}}if(this._roundMinAndMax&&!isNaN(this._roundingUnit)){this._dataMaximum=this._roundUpToNearest(d,this._roundingUnit);this._dataMinimum=this._roundDownToNearest(Y,this._roundingUnit);}else{this._dataMaximum=d;this._dataMinimum=Y;}if(this._alwaysShowZero&&Y>0){this._dataMinimum=Math.min(0,this._dataMinimum);}}});B.StackedAxis=E;function D(X){D.superclass.constructor.apply(this,arguments);}D.NAME="timeAxis";D.ATTRS={maximum:{getter:function(){if(this._autoMax||this._setMaximum===null){return this._getNumber(this._dataMaximum);}return this._setMaximum;},setter:function(X){this._setMaximum=this._getNumber(X);this.fire("dataChange");}},minimum:{getter:function(){if(this._autoMin||this._setMinimum===null){return this._dataMinimum;}return this._setMinimum;},setter:function(X){this._setMinimum=this._getNumber(X);this.fire("dataChange");}}};B.extend(D,B.BaseAxis,{GUID:"yuitimeaxis",_dataType:"time",_setDataByKey:function(b){var c,Y=[],a=this._dataClone.concat(),Z,d,X=a.length;for(Z=0;Z<X;++Z){c=a[Z][b];if(B.Lang.isDate(c)){d=c.valueOf();}else{if(!B.Lang.isNumber(c)){d=new Date(c.toString()).valueOf();}else{d=c;}}Y[Z]=d;}this._keys[b]=Y;this._data=this._data.concat(Y);},_getNumber:function(X){if(B.Lang.isDate(X)){X=X.valueOf();}else{if(!B.Lang.isNumber(X)){X=new Date(X.toString()).valueOf();}}return X;},updateMaxByPosition:function(Y){var X=this._dataMaximum-this._dataMinimum;Y=Math.round(Y*100)/100;Y=Y*X;Y+=this._dataMinimum;this.set("maximum",Y);},updateMinByPosition:function(Y){var X=this._dataMaximum-this._dataMinimum;Y=Math.round(Y*100)/100;Y=Y*X;Y+=this._dataMinimum;this.set("minimum",Y);},updateMinAndMaxByPosition:function(Z,b,Y){var a=Z/Y,X=b/Y;a+=this._dataMinimum;X+=this._dataMaximum;this._setMaximum=this._getNumber(X);this._setMinimum=this._getNumber(a);this.fire("dataChange");},getFormattedLabel:function(Y,X){return B.DataType.Date.format(B.DataType.Date.parse(Y),{format:X});}});B.TimeAxis=D;function F(X){F.superclass.constructor.apply(this,arguments);}F.NAME="categoryAxis";B.extend(F,B.BaseAxis,{GUID:"yuicategoryaxis",_dataType:"category",_getKeyValueAt:function(Y,X){var Z=NaN;if(this.keys[Y]){Z=X;}return Z;},_updateMinAndMax:function(){this._dataMaximum=Math.max(this._data.length-1,0);this._dataMinimum=0;},_setDataByKey:function(b){var a,c,Y=[],d=[],Z=this._dataClone.concat(),X=Z.length;for(a=0;a<X;++a){c=Z[a];Y[a]=a;d[a]=c[b];}this._keys[b]=Y;this._data=this._data.concat(d);},getTotalMajorUnits:function(Y,X){return this._data.length;},getLabelAtPosition:function(b,X,a){var Z=this._data.length-1,Y=Math.round(b/(X/Z));return this._data[Y];}});B.CategoryAxis=F;function S(X){}S.NAME="renderer";S.ATTRS={styles:{value:{},getter:function(){this._styles=this._styles||this._getDefaultStyles();return this._styles;},setter:function(X){this._styles=this._setStyles(X);return this._styles;},validator:function(X){return B.Lang.isObject(X);}}};S.prototype={_newStyles:null,_styles:null,_setStyles:function(Y){var X=this.get("styles");return this._mergeStyles(Y,X);},_mergeStyles:function(Y,X){this._newStyles={};B.Object.each(Y,function(c,b,Z){if(X.hasOwnProperty(b)&&B.Lang.isObject(c)){X[b]=this._mergeStyles(c,X[b]);}else{X[b]=c;this._newStyles[b]=c;}},this);return X;},_getDefaultStyles:function(){return{};}};B.Renderer=S;B.CartesianSeries=B.Base.create("cartesianSeries",B.Widget,[B.Renderer],{_leftOrigin:null,_bottomOrigin:null,renderUI:function(){this._setCanvas();},bindUI:function(){var Y=this.get("xAxis"),X=this.get("yAxis");if(Y){Y.after("axisReady",B.bind(this._xAxisChangeHandler,this));Y.after("axisUpdate",B.bind(this._xAxisChangeHandler,this));}if(X){X.after("axisReady",B.bind(this._yAxisChangeHandler,this));X.after("axisUpdate",B.bind(this._yAxisChangeHandler,this));}this.after("xAxisChange",B.bind(this.xAxisChangeHandler,this));this.after("yAxisChange",B.bind(this.yAxisChangeHandler,this));this.after("stylesChange",B.bind(this._updateHandler,this));},syncUI:function(){this.draw();},_updateHandler:function(X){if(this.get("rendered")){this.draw();}},GUID:"yuicartesianseries",_setCanvas:function(){var X=this.get("contentBox"),Z=document.createElement("div"),Y=Z.style;X.appendChild(Z);Y.position="absolute";Y.display="block";Y.top="0px";Y.left="0px";Y.width="100%";Y.height="100%";this.set("node",Z);this.set("graphic",new B.Graphic());this.get("graphic").render(this.get("node"));},_xAxisChangeHandler:function(X){if(this.get("rendered")&&this.get("xKey")&&this.get("yKey")){this.draw();}},_yAxisChangeHandler:function(X){if(this.get("rendered")&&this.get("xKey")&&this.get("yKey")){this.draw();}},setAreaData:function(){var y,v,o=B.Node.one(this._parentNode).get("parentNode"),j=o.get("offsetWidth"),r=o.get("offsetHeight"),l=this.get("styles").padding,n=l.left,u=l.top,e=j-(n+l.right),q=r-(u+l.bottom),m=[],AA=[],g=this.get("xAxis"),Y=this.get("yAxis"),z=g.get("maximum"),t=g.get("minimum"),Z=Y.get("maximum"),X=Y.get("minimum"),a=this.get("xKey"),d=this.get("yKey"),c=e/(z-t),k=q/(Z-X),b=g.getDataByKey(a).concat(),s=Y.getDataByKey(d).concat(),f=b.length,x=this.get("direction"),p=0;if(x==="vertical"){s=s.reverse();}this.get("graphic").setSize(j,r);this._leftOrigin=Math.round(((0-t)*c)+n);this._bottomOrigin=Math.round((q+u)-(0-X)*k);for(;p<f;++p){y=Math.round((((b[p]-t)*c)+n));v=Math.round(((q+u)-(s[p]-X)*k));m.push(y);AA.push(v);}this.set("xcoords",m);this.set("ycoords",AA);},drawGraph:function(){this.drawMarkers();},draw:function(){var Z=B.Node.one(this._parentNode).get("parentNode"),X=Z.get("offsetWidth"),Y=Z.get("offsetHeight");if(!isNaN(X)&&!isNaN(Y)&&X>0&&Y>0){this.setAreaData();this.drawGraph();}},drawMarkers:function(){if(!this.get("xcoords")||this.get("xcoords").length<1){return;}var g=this.get("graphic"),r=this.get("styles").marker,e=r.width,q=r.height,b=r.fillColor,a=r.fillAlpha,f=r.fillType||"solid",t=r.borderWidth,X=r.borderColor,l=r.borderAlpha||1,d=r.colors,c=r.alpha||[],k=r.ratios||[],n=r.rotation||0,j=this.get("xcoords"),s=this.get("ycoords"),Z=r.func||"drawCircle",o=0,p=j.length,m=s[0],Y;
for(;o<p;++o){m=s[o];Y=j[o];if(t>0){g.lineStyle(t,X,l);}if(f==="solid"){g.beginFill(b,a);}else{g.beginGradientFill(f,d,c,k,{rotation:n,width:e,height:q});}this.drawMarker(g,Z,Y,m,e,q);g.end();}},drawMarker:function(c,Z,b,a,X,Y){if(Z==="drawCircle"){c.drawCircle(b,a,X/2);}else{b-=X/2;a-=Y/2;c[Z].call(c,b,a,X,Y);}},_getDefaultStyles:function(){return{padding:{top:0,left:0,right:0,bottom:0}};}},{ATTRS:{type:{value:"cartesian"},order:{value:NaN},xcoords:{value:null},ycoords:{value:null},graph:{value:null},xAxis:{value:null,validator:function(X){return X!==this.get("xAxis");},lazyAdd:false},yAxis:{value:null,validator:function(X){return X!==this.get("yAxis");},lazyAdd:false},xKey:{value:null,validator:function(X){return X!==this.get("xKey");}},yKey:{value:null,validator:function(X){return X!==this.get("yKey");}},node:{value:null},graphic:{value:null},direction:{value:"horizontal"}}});function I(X){I.superclass.constructor.apply(this,arguments);}I.NAME="lineSeries";I.ATTRS={type:{value:"line"}};B.extend(I,B.CartesianSeries,{drawGraph:function(){var X=this.get("styles");if(X.showLines){this.drawLines();}if(X.showMarkers){this.drawMarkers();}},drawLines:function(){if(this.get("xcoords").length<1){return;}var f=this.get("xcoords"),q=this.get("ycoords"),j=f.length,Z=f[0],Y=q[0],p=Z,n=Y,m,k,h,b=this.get("styles"),l=b.lineType,o=b.dashLength,d=b.gapSpace,c=b.connectDiscontinuousPoints,X=b.discontinuousType,a=b.discontinuousDashLength,g=b.discontinuousGapSpace,e=this.get("graphic");e.clear();e.lineStyle(b.weight,b.color);e.moveTo(Z,Y);for(h=1;h<j;h=++h){m=f[h];k=q[h];if(isNaN(k)){p=m;n=k;continue;}if(p==Z){if(l!="dashed"){e.lineTo(m,k);}else{this.drawDashedLine(p,n,m,k,o,d);}}else{if(!c){e.moveTo(m,k);}else{if(X!="solid"){this.drawDashedLine(p,n,m,k,a,g);}else{e.lineTo(m,k);}}}Z=p=m;Y=n=k;}e.end();},drawDashedLine:function(j,n,Y,l,a,Z){a=a||10;Z=Z||10;var c=a+Z,f=Y-j,k=l-n,m=Math.sqrt(Math.pow(f,2)+Math.pow(k,2)),d=Math.floor(Math.abs(m/c)),b=Math.atan2(k,f),h=j,g=n,e,X=this.get("graphic");f=Math.cos(b)*c;k=Math.sin(b)*c;for(e=0;e<d;++e){X.moveTo(h,g);X.lineTo(h+Math.cos(b)*a,g+Math.sin(b)*a);h+=f;g+=k;}X.moveTo(h,g);m=Math.sqrt((Y-h)*(Y-h)+(l-g)*(l-g));if(m>a){X.lineTo(h+Math.cos(b)*a,g+Math.sin(b)*a);}else{if(m>0){X.lineTo(h+Math.cos(b)*m,g+Math.sin(b)*m);}}X.moveTo(Y,l);},_getDefaultStyles:function(){return{color:"#000000",alpha:1,weight:1,marker:{fillColor:"#000000",alpha:1,weight:1,width:6,height:6},showMarkers:false,showLines:true,lineType:"solid",dashLength:10,gapSpace:10,connectDiscontinuousPoint:true,discontinuousType:"dashed",discontinuousDashLength:10,discontinuousGapSpace:10,padding:{top:0,left:0,right:0,bottom:0}};}});B.LineSeries=I;function C(X){C.superclass.constructor.apply(this,arguments);}C.NAME="columnSeries";C.ATTRS={type:{value:"column"}};B.extend(C,B.CartesianSeries,{drawMarkers:function(){if(this.get("xcoords").length<1){return;}var p=this.get("graphic"),AD=this.get("styles").marker,n=AD.width,AC=AD.height,f=AD.fillColor,e=AD.fillAlpha,o=AD.fillType||"solid",AF=AD.borderWidth,X=AD.borderColor,s=AD.borderAlpha||1,m=AD.colors,g=AD.alpha||[],r=AD.ratios||[],x=AD.rotation||0,q=this.get("xcoords"),AE=this.get("ycoords"),d=AD.func||"drawRect",z=0,AB=q.length,t=AE[0],b=this.get("type"),Z=this.get("graph"),l=Z.seriesTypes[b],AA=l.length,Y=0,a=0,j=0,k,v,y=this.get("order"),u=B.Node.one(this._parentNode).get("parentNode"),c;for(;z<AA;++z){v=l[z];Y+=v.get("styles").marker.width;if(y>z){j=Y;}}a=AB*Y;if(a>u.offsetWidth){k=this.width/a;Y*=k;j*=k;n*=k;n=Math.max(n,1);}j-=Y/2;for(z=0;z<AB;++z){t=AE[z];AC=this._bottomOrigin-t;c=q[z]+j;if(AF>0){p.lineStyle(AF,X,s);}if(o==="solid"){p.beginFill(f,e);}else{p.beginGradientFill(o,m,g,r,{rotation:x,width:n,height:AC});}this.drawMarker(p,d,c,t,n,AC);p.end();}},drawMarker:function(c,Z,b,a,X,Y){c.drawRect(b,a,X,Y);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.ColumnSeries=C;function R(X){R.superclass.constructor.apply(this,arguments);}R.NAME="barSeries";R.ATTRS={type:{value:"bar"},direction:{value:"vertical"}};B.extend(R,B.CartesianSeries,{drawMarkers:function(){if(this.get("xcoords").length<1){return;}var o=this.get("graphic"),AC=this.get("styles").marker,m=AC.width,AB=AC.height,d=AC.fillColor,c=AC.fillAlpha,n=AC.fillType||"solid",AF=AC.borderWidth,X=AC.borderColor,r=AC.borderAlpha||1,l=AC.colors,e=AC.alpha||[],q=AC.ratios||[],v=AC.rotation||0,p=this.get("xcoords"),AE=this.get("ycoords"),b=AC.func||"drawRect",y=0,AA=p.length,s=AE[0],Z=this.get("type"),Y=this.get("graph"),k=Y.seriesTypes[Z],z=k.length,j=0,AD=0,f=0,g,u,x=this.get("order"),t=B.Node.one(this._parentNode).get("parentNode"),a;for(;y<z;++y){u=k[y];j+=u.get("styles").marker.height;if(x>y){f=j;}}AD=AA*j;if(AD>t.offsetHeight){g=this.height/AD;j*=g;f*=g;AB*=g;AB=Math.max(AB,1);}f-=j/2;for(y=0;y<AA;++y){s=AE[y]+f;a=p[y];m=a-this._leftOrigin;if(AF>0){o.lineStyle(AF,X,r);}if(n==="solid"){o.beginFill(d,c);}else{o.beginGradientFill(n,l,e,q,{rotation:v,width:m,height:AB});}this.drawMarker(o,b,a,s,m,AB);o.end();}},drawMarker:function(c,Z,b,a,X,Y){c.drawRect(this._leftOrigin,a,X,Y);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.BarSeries=R;function M(X){M.superclass.constructor.apply(this,arguments);}M.NAME="areaSeries";M.ATTRS={type:{value:"area"},direction:{value:"horizontal"}};B.extend(M,B.CartesianSeries,{drawGraph:function(){this.drawArea();},drawArea:function(){if(this.get("xcoords").length<1){return;}var h=this.get("xcoords"),e=this.get("ycoords"),g=h.length,b=h[0],a=e[0],Z=b,Y=a,f=Z,d=Y,l,k,c,j=this.get("styles"),X=this.get("graphic");X.clear();X.beginFill(j.color,j.alpha);X.moveTo(Z,Y);for(c=1;c<g;c=++c){l=h[c];k=e[c];if(isNaN(k)){f=l;
d=k;continue;}X.lineTo(l,k);Z=f=l;Y=d=k;}if(this.get("direction")==="vertical"){X.lineTo(this._leftOrigin,Y);X.lineTo(this._leftOrigin,a);}else{X.lineTo(Z,this._bottomOrigin);X.lineTo(b,this._bottomOrigin);}X.lineTo(b,a);X.end();},_getDefaultStyles:function(){return{color:"#000000",alpha:1,padding:{top:0,left:0,right:0,bottom:0}};}});B.AreaSeries=M;function U(X){U.superclass.constructor.apply(this,arguments);}U.NAME="rangeSeries";U.ATTRS={type:{value:"range"}};B.extend(U,B.CartesianSeries,{setAreaData:function(){var y,x,p=B.Node.one(this._parentNode).get("parentNode"),k=p.get("offsetWidth"),s=p.get("offsetHeight"),m=this.get("styles").padding,o=m.left,v=m.top,f=k-(o+m.right),r=s-(v+m.bottom),n=[],AA=[],j=this.get("xAxis"),Y=this.get("yAxis"),z=j.get("maximum"),u=j.get("minimum"),Z=Y.get("maximum"),X=Y.get("minimum"),a=this.get("xKey"),e=this.get("yKey"),d=f/(z-u),l=r/(Z-X),c=j.getDataByKey(a),t=Y.getDataByKey(e),g=c.length,q,b;this.get("graphic").setSize(k,s);this._leftOrigin=Math.round(((0-u)*d)+o);this._bottomOrigin=Math.round((r+v)-(0-X)*l);for(q=0;q<g;++q){b=t[q];y=Math.round((((c[q]-u)*d)+o));x={h:Math.round(((r+v)-(b.high-X)*l)),l:Math.round(((r+v)-(b.low-X)*l)),o:Math.round(((r+v)-(b.open-X)*l)),c:Math.round(((r+v)-(b.close-X)*l))};n.push(y);AA.push(x);}this.set("xcoords",n);this.set("ycoords",AA);},drawMarkers:function(){if(this.get("xcoords").length<1){return;}var g=this.get("graphic"),p=this.get("styles").marker,f=p.width,h=this.get("xcoords"),r=this.get("ycoords"),m=0,n=h.length,a=this.get("type"),Y=this.get("graph"),e=Y.seriesTypes[a],o=e.length,X=0,Z=0,c=0,d,k,l=this.get("order"),j=B.Node.one(this._parentNode).get("parentNode"),b,q;for(;m<o;++m){k=e[m];X+=k.get("styles").marker.width;if(l>m){c=X;}}Z=n*X;if(Z>j.offsetWidth){d=this.width/Z;X*=d;c*=d;f*=d;f=Math.max(f,1);}c-=X/2;for(m=0;m<n;++m){q=r[m];b=h[m]+c;this.drawMarker(g,q,b,p);}}});B.RangeSeries=U;function L(X){L.superclass.constructor.apply(this,arguments);}L.NAME="ohlcSeries";L.ATTRS={type:{value:"ohlc"}};B.extend(L,B.RangeSeries,{drawMarker:function(f,s,Z,n){var m=s.h,g=s.o,j=s.l,q=s.c,e=n.width,k,Y=n.upColor,b=n.downColor,a,i=n.upAlpha,p=n.downAlpha,d=q<g,X=n.thickness,r=Z+e*0.5;k=d?Y:b;a=d?i:p;f.lineStyle(X,k,a);f.moveTo(Z,g);f.lineTo(r,g);f.moveTo(r,m);f.lineTo(r,j);f.moveTo(r,q);f.lineTo(Z+e,q);f.end();},_getDefaultStyles:function(){return{marker:{upColor:"#aaaaaa",upAlpha:1,thickness:1,borderAlpha:1,downColor:"#000000",downAlpha:1,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.OHLCSeries=L;function Q(X){Q.superclass.constructor.apply(this,arguments);}Q.NAME="candlestickSeries";Q.ATTRS={type:{value:"candlestick"}};B.extend(Q,B.RangeSeries,{drawMarker:function(g,AJ,e,AC){var AH=AJ.h,AD=AJ.o,AF=AJ.l,AK=AJ.c,AE=Math.abs(AK-AD),z=AC.width,AN,y=AC.upFillColor,a=AC.downFillColor,AG,t=AC.upFillAlpha,AM=AC.downFillAlpha,r=AK<AD,AA=AC.upFillType||"solid",v=AC.downFillType||"solid",b=AC.borderWidth,s=AC.borderColor,AL=AC.borderAlpha||1,AB,x=AC.upColors,AI=AC.downColors,p,n=AC.upAlphas||[],u=AC.downAlphas||[],k,i=AC.upRatios||[],m=AC.downRatios||[],q,d=AC.upRotation||0,Z=AC.downRotation||0,j=r?AA:v,f=AK<AD?AK:AD,Y=AK<AD?AD:AK,X=e+z*0.5;if(b>0){g.lineStyle(b,s,AL);}if(j==="solid"){AN=r?y:a;AG=r?t:AM;g.beginFill(AN,AG);}else{AB=r?x:AI;q=r?d:Z;k=r?i:m;p=r?n:u;g.beginGradientFill(j,AB,p,k,{rotation:q,width:z,height:AE});}if(f>AH){g.moveTo(X,AH);g.lineTo(X,f);}g.drawRect(e,f,z,AE);if(AF>AK&&AF>AD){g.moveTo(X,Y);g.lineTo(X,AF);}g.end();},_getDefaultStyles:function(){return{marker:{upFillColor:"#ffffff",upFillAlpha:1,borderColor:"#000000",borderWidth:1,borderAlpha:1,upColors:[],upAlphas:[],upRatios:[],upRotation:0,downFillColor:"#000000",downFillAlpha:1,downBorderColor:"#000000",downBorderWidth:0,downBorderAlpha:1,downColors:[],downAlphas:[],downRatios:[],downRotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.CandlestickSeries=Q;function H(X){H.superclass.constructor.apply(this,arguments);}H.NAME="stackedLineSeries";H.ATTRS={type:{value:"stackedLine"}};B.extend(H,B.CartesianSeries,{drawGraph:function(){var X=this.get("styles");if(X.showLines){this.drawLines();}if(X.showMarkers){this.drawMarkers();}},drawLines:function(){if(this.get("xcoords").length<1){return;}var l=this.get("xcoords"),AA=this.get("ycoords"),x=this.get("direction"),n=B.Node.one(this._parentNode).get("parentNode"),s=n.get("offsetHeight"),p=this.get("order"),Z=this.get("type"),X=this.get("graph"),e=X.seriesTypes[Z],Y,m,r=l.length,c=l[0],b=AA[0],z=c,y=b,w,u,q=0,f=this.get("styles"),t=f.lineType,v=f.dashLength,j=f.gapSpace,g=f.connectDiscontinuousPoints,a=f.discontinuousType,d=f.discontinuousDashLength,o=f.discontinuousGapSpace,k=this.get("graphic");if(p>0){Y=e[p-1].get("xcoords").concat();m=e[p-1].get("ycoords").concat();if(x==="vertical"){r=Y.length;for(;q<r;++q){if(!isNaN(Y[q])&&!isNaN(l[q])){l[q]+=Y[q];}}c=z=l[0];r=l.length;}else{r=m.length;for(;q<r;++q){if(!isNaN(m[q])&&!isNaN(AA[q])){AA[q]=m[q]-(s-AA[q]);}}b=y=AA[0];r=AA.length;}}k.clear();k.lineStyle(f.weight,f.color);k.moveTo(c,b);for(q=1;q<r;q=++q){w=l[q];u=AA[q];if(isNaN(u)){z=w;y=u;continue;}if(z==c){if(t!="dashed"){k.lineTo(w,u);}else{this.drawDashedLine(z,y,w,u,v,j);}}else{if(!g){k.moveTo(w,u);}else{if(a!="solid"){this.drawDashedLine(z,y,w,u,d,o);}else{k.lineTo(w,u);}}}c=z=w;b=y=u;}k.end();},drawDashedLine:function(j,n,Y,l,a,Z){a=a||10;Z=Z||10;var c=a+Z,f=Y-j,k=l-n,m=Math.sqrt(Math.pow(f,2)+Math.pow(k,2)),d=Math.floor(Math.abs(m/c)),b=Math.atan2(k,f),h=j,g=n,e,X=this.get("graphic");f=Math.cos(b)*c;k=Math.sin(b)*c;for(e=0;e<d;++e){X.moveTo(h,g);X.lineTo(h+Math.cos(b)*a,g+Math.sin(b)*a);h+=f;g+=k;}X.moveTo(h,g);m=Math.sqrt((Y-h)*(Y-h)+(l-g)*(l-g));if(m>a){X.lineTo(h+Math.cos(b)*a,g+Math.sin(b)*a);}else{if(m>0){X.lineTo(h+Math.cos(b)*m,g+Math.sin(b)*m);}}X.moveTo(Y,l);},_getDefaultStyles:function(){return{color:"#000000",alpha:1,weight:1,marker:{fillColor:"#000000",alpha:1,weight:1,width:6,height:6},showMarkers:false,showLines:true,lineType:"solid",dashLength:10,gapSpace:10,connectDiscontinuousPoint:true,discontinuousType:"dashed",discontinuousDashLength:10,discontinuousGapSpace:10,padding:{top:0,left:0,right:0,bottom:0}};
}});B.StackedLineSeries=H;function W(X){W.superclass.constructor.apply(this,arguments);}W.NAME="stackedSeries";W.ATTRS={type:{value:"stacked"},direction:{value:"horizontal"}};B.extend(W,B.CartesianSeries,{drawGraph:function(){this.drawArea();},drawArea:function(){if(this.get("xcoords").length<1){return;}var t=this.get("direction"),l=B.Node.one(this._parentNode).get("parentNode"),p=l.get("offsetHeight"),m=this.get("order"),Z=this.get("type"),X=this.get("graph"),a=X.seriesTypes[Z],g=this.get("xcoords"),v=this.get("ycoords"),Y,k,j,f,o=g.length,d=g[0],c=v[0],u=d,s=c,r,q,n=0,b=this.get("styles"),e=this.get("graphic");if(m>0){Y=a[m-1].get("xcoords").concat();k=a[m-1].get("ycoords").concat();if(t==="vertical"){o=Y.length;for(;n<o;++n){if(!isNaN(Y[n])&&!isNaN(g[n])){g[n]+=Y[n];}}}else{o=k.length;for(;n<o;++n){if(!isNaN(k[n])&&!isNaN(v[n])){v[n]=k[n]-(p-v[n]);}}}f=v.concat();j=g.concat();j=j.concat(Y.concat().reverse());f=f.concat(k.concat().reverse());d=j[0];c=f[0];j.push(d);f.push(c);}else{f=v.concat();j=g.concat();if(t==="vertical"){j.push(this._leftOrigin);j.push(this._leftOrigin);f.push(f[f.length-1]);f.push(c);}else{j.push(j[j.length-1]);j.push(d);f.push(this._bottomOrigin);f.push(this._bottomOrigin);}j.push(d);f.push(c);}o=j.length;e.clear();e.beginFill(b.color,b.alpha);e.moveTo(d,c);for(n=1;n<o;n=++n){r=j[n];q=f[n];if(isNaN(q)){u=r;s=q;continue;}e.lineTo(r,q);u=r;s=q;}e.end();},_getDefaultStyles:function(){return{color:"#000000",alpha:1,padding:{top:0,left:0,right:0,bottom:0}};}});B.StackedAreaSeries=W;function P(X){P.superclass.constructor.apply(this,arguments);}P.NAME="stackedColumnSeries";P.ATTRS={type:{value:"stackedColumn"},negativeBaseValues:{value:null},positiveBaseValues:{value:null}};B.extend(P,B.CartesianSeries,{drawMarkers:function(){if(this.get("xcoords").length<1){return;}var q=this.get("graphic"),AD=this.get("styles").marker,o=AD.width,AC=AD.height,f=AD.fillColor,e=AD.fillAlpha,p=AD.fillType||"solid",AF=AD.borderWidth,X=AD.borderColor,t=AD.borderAlpha||1,n=AD.colors,g=AD.alpha||[],s=AD.ratios||[],y=AD.rotation||0,r=this.get("xcoords"),AE=this.get("ycoords"),d=AD.func||"drawRect",AA=0,AB=r.length,u=AE[0],b=this.get("type"),Z=this.get("graph"),l=Z.seriesTypes[b],j,z=this.get("order"),x=B.Node.one(this._parentNode).get("parentNode"),m,v,Y=z===0,c,k,a=AB*o;if(a>x.offsetWidth){k=this.width/a;o*=k;o=Math.max(o,1);}if(!Y){j=l[z-1];m=j.get("negativeBaseValues");v=j.get("positiveBaseValues");}else{m=[];v=[];}this.set("negativeBaseValues",m);this.set("positiveBaseValues",v);for(AA=0;AA<AB;++AA){u=AE[AA];if(Y){AC=this._bottomOrigin-u;if(u<this._bottomOrigin){v[AA]=u;m[AA]=this._bottomOrigin;}else{if(u>this._bottomOrigin){v[AA]=this._bottomOrigin;m[AA]=u;}else{v[AA]=u;m[AA]=u;}}}else{if(u>this._bottomOrigin){u+=(m[AA]-this._bottomOrigin);AC=m[AA]-u;m[AA]=u;}else{if(u<this._bottomOrigin){u=v[AA]-(this._bottomOrigin-AE[AA]);AC=v[AA]-u;v[AA]=u;}}}c=r[AA]-o/2;if(AF>0){q.lineStyle(AF,X,t);}if(p==="solid"){q.beginFill(f,e);}else{q.beginGradientFill(p,n,g,s,{rotation:y,width:o,height:AC});}this.drawMarker(q,d,c,u,o,AC);q.end();}},drawMarker:function(c,Z,b,a,X,Y){c.drawRect(b,a,X,Y);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.StackedColumnSeries=P;function G(X){G.superclass.constructor.apply(this,arguments);}G.NAME="stackedBarSeries";G.ATTRS={type:{value:"stackedBar"},direction:{value:"vertical"},negativeBaseValues:{value:null},positiveBaseValues:{value:null}};B.extend(G,B.CartesianSeries,{drawMarkers:function(){if(this.get("xcoords").length<1){return;}var p=this.get("graphic"),AC=this.get("styles").marker,n=AC.width,AB=AC.height,e=AC.fillColor,d=AC.fillAlpha,o=AC.fillType||"solid",AF=AC.borderWidth,X=AC.borderColor,s=AC.borderAlpha||1,m=AC.colors,f=AC.alpha||[],r=AC.ratios||[],x=AC.rotation||0,q=this.get("xcoords"),AE=this.get("ycoords"),c=AC.func||"drawRect",z=0,AA=q.length,t=AE[0],a=this.get("type"),Z=this.get("graph"),k=Z.seriesTypes[a],AD=0,j,y=this.get("order"),g,l,u,Y=y===0,v=B.Node.one(this._parentNode).get("parentNode"),b;AD=AA*AB;if(AD>v.offsetHeight){j=this.height/AD;AB*=j;AB=Math.max(AB,1);}if(!Y){g=k[y-1];l=g.get("negativeBaseValues");u=g.get("positiveBaseValues");}else{l=[];u=[];}this.set("negativeBaseValues",l);this.set("positiveBaseValues",u);for(z=0;z<AA;++z){t=AE[z];b=q[z];if(Y){n=b-this._leftOrigin;if(b>this._leftOrigin){u[z]=b;l[z]=this._leftOrigin;}else{if(b<this._leftOrigin){u[z]=this._leftOrigin;l[z]=b;}else{u[z]=b;l[z]=this._leftOrigin;}}b-=n;}else{if(b<this._leftOrigin){b=l[z]-(this._leftOrigin-q[z]);n=l[z]-b;l[z]=b;}else{if(b>this._leftOrigin){b+=(u[z]-this._leftOrigin);n=b-u[z];u[z]=b;b-=n;}}}t-=AB/2;if(AF>0){p.lineStyle(AF,X,s);}if(o==="solid"){p.beginFill(e,d);}else{p.beginGradientFill(o,m,f,r,{rotation:x,width:n,height:AB});}this.drawMarker(p,c,b,t,n,AB);p.end();}},drawMarker:function(c,Z,b,a,X,Y){c.drawRect(b,a,X,Y);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.StackedBarSeries=G;function V(X){V.superclass.constructor.apply(this,arguments);}V.NAME="graphstack";V.ATTRS={seriesCollection:{lazyAdd:false,getter:function(){return this._seriesCollection;},setter:function(X){this._parseSeriesCollection(X);return this._seriesCollection;}},parent:{value:null}};B.extend(V,B.Base,{_seriesCollection:null,seriesTypes:null,_parseSeriesCollection:function(a){var X=a.length,Z=0,Y;if(!a){return;}if(!this._seriesCollection){this._seriesCollection=[];}if(!this.seriesTypes){this.seriesTypes=[];}for(;Z<X;++Z){Y=a[Z];if(!(Y instanceof B.CartesianSeries)){this._createSeries(Y);continue;}this._addSeries(Y);}X=this._seriesCollection.length;for(Z=0;Z<X;++Z){this._seriesCollection[Z].render(this.get("parent"));}},_addSeries:function(Z){var a=Z.get("type"),c=this._seriesCollection,b=c.length,Y=this.seriesTypes,X;
if(!Z.get("graph")){Z.set("graph",this);}Z.graphOrder=b;c.push(Z);if(!Y.hasOwnProperty(a)){this.seriesTypes[a]=[];}X=this.seriesTypes[a];Z.set("order",X.length);X.push(Z);this.fire("seriesAdded",Z);},_createSeries:function(b){var c=b.type,d=this._seriesCollection,Z=this.seriesTypes,Y,X,a;b.graph=this;if(!Z.hasOwnProperty(c)){Z[c]=[];}Y=Z[c];b.graph=this;b.order=Y.length;X=this._getSeries(b.type);a=new X(b);Y.push(a);d.push(a);},_getSeries:function(X){var Y;switch(X){case"line":Y=B.LineSeries;break;case"column":Y=B.ColumnSeries;break;case"bar":Y=B.BarSeries;break;case"area":Y=B.AreaSeries;break;case"candlestick":Y=B.CandlestickSeries;break;case"ohlc":Y=B.OHLCSeries;break;case"stackedarea":Y=B.StackedAreaSeries;break;case"stackedline":Y=B.StackedLineSeries;break;case"stackedcolumn":Y=B.StackedColumnSeries;break;case"stackedbar":Y=B.StackedBarSeries;break;default:Y=B.CartesianSeries;break;}return Y;}});B.GraphStack=V;B.AxisRenderer=B.Base.create("axisrenderer",B.Widget,[B.Renderer],{axisChangeHandler:function(Z){var X=Z.newVal,Y=Z.prevVal;if(Y){Y.detach("axisReady",this._axisDataChangeHandler);Y.detach("axisUpdate",this._axisDataChangeHandler);}X.after("axisReady",B.bind(this._axisDataChangeHandler,this));X.after("axisUpdate",B.bind(this._axisDataChangeHandler,this));},_axisDataChangeHandler:function(X){if(this.get("rendered")){this._drawAxis();}},_updateHandler:function(X){if(this.get("rendered")){this._drawAxis();}},_positionChangeHandler:function(X){this._ui=this.getLayout(this.get("position"));if(this.get("rendered")){this._drawAxis();}},renderUI:function(){this._ui=this.getLayout(this.get("position"));this._setCanvas();},bindUI:function(){var X=this.get("axis");if(X){X.after("axisReady",B.bind(this._axisDataChangeHandler,this));X.after("axisUpdate",B.bind(this._axisDataChangeHandler,this));}this.after("axisChange",this.axisChangeHandler);this.after("stylesChange",this._updateHandler);this.after("positionChange",this._positionChangeHandler);this.after("overlapGraphChange",this._updateHandler);},syncUI:function(){this._drawAxis();},_setCanvas:function(){var X=this.get("contentBox"),a=this.get("position"),b=document.createElement("div"),Z=b.style,Y=this._parentNode;X.appendChild(b);Z.position="absolute";Z.display="block";Z.top="0px";Z.left="0px";Z.border="1px";if(a==="top"||a==="bottom"){X.setStyle("width",Y.getStyle("width"));}else{X.setStyle("height",Y.getStyle("height"));}Z.width=X.getStyle("width");Z.height=X.getStyle("height");this.set("node",b);this.set("graphic",new B.Graphic());this.get("graphic").render(this.get("node"));},_getDefaultStyles:function(){return{majorTicks:{display:"inside",length:4,color:"#000000",weight:1,alpha:1},minorTicks:{display:"none",length:2,color:"#000000",weight:1},line:{weight:1,color:"#000000",alpha:1},majorUnit:{determinant:"count",count:5,distance:75},padding:{top:0,left:0,right:0,bottom:0},top:"0px",left:"0px",width:"100px",height:"100px",hideOverlappingLabelTicks:false};}},{NAME:"axisRenderer",ATTRS:{graphic:{value:null},axis:{value:null,validator:function(X){return X!==this.get("axis");}},node:{value:null},position:{value:"bottom",validator:function(X){return((X!==this.get("position"))&&(X==="bottom"||X==="top"||X==="left"||X==="right"));}},topTickOffset:{value:0},bottomTickOffset:{value:0},leftTickOffset:{value:0},rightTickOffset:{value:0},overlapGraph:{value:true,validator:function(X){return B.Lang.isBoolean(X);}}}});function J(X){J.superclass.constructor.apply(this,arguments);}J.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};B.extend(J,B.Base,{setTickOffsets:function(){var X=this.get("axisRenderer"),b=X.get("styles").majorTicks,Z=b.length,Y=Z*0.5,a=b.display;X.set("topTickOffset",0);X.set("bottomTickOffset",0);switch(a){case"inside":X.set("rightTickOffset",Z);break;case"outside":X.set("leftTickOffset",Z);break;case"cross":X.set("rightTickOffset",Y);X.set("leftTickOffset",Y);break;}},getLineStart:function(){var X=this.get("axisRenderer"),Y=X.get("styles"),c=Y.padding,d=Y.majorTicks,Z=d.length,b=d.display,a={x:c.left,y:0};if(b==="outside"){a.x+=Z;}else{if(b==="cross"){a.x+=Z/2;}}return a;},drawTick:function(d,b){var Y=this.get("axisRenderer"),Z=Y.get("styles"),c=Z.padding,a=b.length,e={x:c.left,y:d.y},X={x:a+c.left,y:d.y};Y.drawLine(e,X,b);},getLabelPoint:function(X){var Y=this.get("axisRenderer");return{x:X.x-Y.get("leftTickOffset"),y:X.y};},positionLabel:function(l,n){var e=this.get("axisRenderer"),Y=e.get("styles").label,b=n.x,h=n.y,c=Math.min(90,Math.max(-90,Y.rotation)),f=Math.abs(c),j=Math.PI/180,m=parseFloat(parseFloat(Math.sin(f*j)).toFixed(8)),a=parseFloat(parseFloat(Math.cos(f*j)).toFixed(8)),i=a,g=c>0?-m:m,d=-g,Z=i,k=0,X=this.get("maxLabelSize");if(B.UA.ie){l.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(c===0){b-=l.offsetWidth;h-=l.offsetHeight*0.5;}else{if(f===90){b-=l.offsetHeight;h-=l.offsetWidth*0.5;}else{if(c===-90){b-=l.offsetHeight;h-=l.offsetWidth*0.5;}else{if(c>0){b-=(a*l.offsetWidth)+(l.offsetHeight*c/90);h-=(m*l.offsetWidth)+(a*(l.offsetHeight*0.5));}else{b-=(a*l.offsetWidth)+(f/90*l.offsetHeight);h-=a*(l.offsetHeight*0.5);}}}}l.style.left=b+"px";l.style.top=h+"px";l.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+i+" M12="+g+" M21="+d+" M22="+Z+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(X,l.offsetWidth));return;}if(c===0){k=l.offsetWidth;b-=k;h-=l.offsetHeight*0.5;}else{if(c===90){k=l.offsetHeight;h-=l.offsetWidth*0.5;}else{if(c===-90){k=l.offsetHeight;b-=k;h+=l.offsetWidth*0.5;}else{k=(a*l.offsetWidth)+(m*l.offsetHeight);if(c<0){b-=k;h+=(m*l.offsetWidth)-(a*(l.offsetHeight*0.6));}else{b-=(a*l.offsetWidth);h-=(m*l.offsetWidth)+(a*(l.offsetHeight*0.6));}}}}l.style.left=b+"px";l.style.top=h+"px";l.style.MozTransformOrigin="0 0";l.style.MozTransform="rotate("+c+"deg)";l.style.webkitTransformOrigin="0 0";l.style.webkitTransform="rotate("+c+"deg)";this.set("maxLabelSize",Math.max(k,X));},setSizeAndPosition:function(){var X=this.get("maxLabelSize"),Y=this.get("axisRenderer"),Z=Y.get("styles"),b=Z.line.weight,c=Z.majorTicks,a=c.display,d=c.length;
if(a==="outside"){b+=d;}else{if(a==="cross"){b+=d*0.5;}}b+=X;Y.get("node").style.left=X+"px";Y.set("width",b);},offsetNodeForTick:function(Z){var X=this.get("axisRenderer"),b=X.get("styles").majorTicks,Y=b.length,a=b.display;if(a==="inside"){Z.style.marginRight=(0-Y)+"px";}else{if(a==="cross"){Z.style.marginRight=(0-(Y*0.5))+"px";}}}});B.LeftAxisLayout=J;function N(X){N.superclass.constructor.apply(this,arguments);}N.ATTRS={axisRenderer:{value:null}};B.extend(N,B.Base,{setTickOffsets:function(){var X=this.get("axisRenderer"),b=X.get("styles").majorTicks,Z=b.length,Y=Z*0.5,a=b.display;X.set("topTickOffset",0);X.set("bottomTickOffset",0);switch(a){case"inside":X.set("leftTickOffset",Z);break;case"outside":X.set("rightTickOffset",Z);break;case"cross":X.set("rightTickOffset",Y);X.set("leftTickOffset",Y);break;}},drawTick:function(d,b){var Y=this.get("axisRenderer"),Z=Y.get("styles"),c=Z.padding,a=b.length,e={x:c.left,y:d.y},X={x:c.left+a,y:d.y};Y.drawLine(e,X,b);},getLineStart:function(){var X=this.get("axisRenderer"),Y=X.get("styles"),c=Y.padding,d=Y.majorTicks,Z=d.length,b=d.display,a={x:c.left,y:c.top};if(b==="inside"){a.x+=Z;}else{if(b==="cross"){a.x+=Z/2;}}return a;},getLabelPoint:function(X){var Y=this.get("axisRenderer");return{x:X.x+Y.get("rightTickOffset"),y:X.y};},positionLabel:function(j,l){var d=this.get("axisRenderer"),X=d.get("styles").label,a=l.x,g=l.y,b=Math.min(Math.max(X.rotation,-90),90),e=Math.abs(b),i=Math.PI/180,k=parseFloat(parseFloat(Math.sin(e*i)).toFixed(8)),Z=parseFloat(parseFloat(Math.cos(e*i)).toFixed(8)),h=Z,f=b>0?-k:k,c=-f,Y=h;if(B.UA.ie){j.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(b===0){g-=j.offsetHeight*0.5;}else{if(e===90){g-=j.offsetWidth*0.5;}else{if(b>0){g-=(Z*(j.offsetHeight*0.5));}else{g-=(k*j.offsetWidth)+(Z*(j.offsetHeight*0.5));}}}j.style.left=a+"px";j.style.top=g+"px";j.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+h+" M12="+f+" M21="+c+" M22="+Y+' sizingMethod="auto expand")';return;}if(b===0){g-=j.offsetHeight*0.5;}else{if(b===90){a+=j.offsetHeight;g-=j.offsetWidth*0.5;}else{if(b===-90){g+=j.offsetWidth*0.5;}else{if(b<0){g-=(Z*(j.offsetHeight*0.6));}else{g-=Z*(j.offsetHeight*0.6);a+=k*j.offsetHeight;}}}}j.style.left=a+"px";j.style.top=g+"px";j.style.MozTransformOrigin="0 0";j.style.MozTransform="rotate("+b+"deg)";j.style.webkitTransformOrigin="0 0";j.style.webkitTransform="rotate("+b+"deg)";},setSizeAndPosition:function(X){var Y=this.get("axisRenderer"),Z=Y.get("styles"),b=Z.line.weight,c=Z.majorTicks,a=c.display,d=c.length;if(a==="outside"){b+=d;}else{if(a==="cross"){b+=d*0.5;}}b+=X;Y.set("width",b);},offsetNodeForTick:function(Z){var X=this.get("axisRenderer"),b=X.get("styles").majorTicks,Y=b.length,a=b.display;if(a==="inside"){Z.style.marginLeft=(0-Y)+"px";}else{if(a==="cross"){Z.style.marginLeft=(0-(Y*0.5))+"px";}}}});B.RightAxisLayout=N;function T(X){T.superclass.constructor.apply(this,arguments);}T.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};B.extend(T,B.Base,{setTickOffsets:function(){var X=this.get("axisRenderer"),b=X.get("styles").majorTicks,Z=b.length,Y=Z*0.5,a=b.display;X.set("leftTickOffset",0);X.set("rightTickOffset",0);switch(a){case"inside":X.set("topTickOffset",Z);break;case"outside":X.set("bottomTickOffset",Z);break;case"cross":X.set("topTickOffset",Y);X.set("bottomTickOffset",Y);break;}},setSizeAndPosition:function(){var X=this.get("maxLabelSize"),Y=this.get("axisRenderer"),Z=Y.get("styles"),b=Z.line.weight,c=Z.majorTicks,a=c.display,d=c.length;if(a==="outside"){b+=d;}else{if(a==="cross"){b+=d*0.5;}}b+=X;Y.set("height",b);},getLineStart:function(){var X=this.get("axisRenderer"),Y=X.get("styles"),c=Y.padding,d=Y.majorTicks,Z=d.length,b=d.display,a={x:0,y:c.top};if(b==="inside"){a.y+=Z;}else{if(b==="cross"){a.y+=Z/2;}}return a;},drawTick:function(d,b){var Y=this.get("axisRenderer"),Z=Y.get("styles"),c=Z.padding,a=b.length,e={x:d.x,y:c.top},X={x:d.x,y:a+c.top};Y.drawLine(e,X,b);},getLabelPoint:function(X){var Y=this.get("axisRenderer");return{x:X.x,y:X.y+Y.get("bottomTickOffset")};},positionLabel:function(l,n){var e=this.get("axisRenderer"),Y=e.get("styles").label,b=n.x,h=n.y,c=Math.min(90,Math.max(-90,Y.rotation)),f=Math.abs(c),j=Math.PI/180,m=parseFloat(parseFloat(Math.sin(f*j)).toFixed(8)),a=parseFloat(parseFloat(Math.cos(f*j)).toFixed(8)),i=a,g=c>0?-m:m,d=-g,Z=i,k=0,X=this.get("maxLabelSize");if(B.UA.ie){i=a;g=c>0?-m:m;d=-g;Z=i;l.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(f===90){b-=l.offsetHeight*0.5;}else{if(c<0){b-=a*l.offsetWidth;b-=m*(l.offsetHeight*0.5);}else{if(c>0){b-=m*(l.offsetHeight*0.5);}else{b-=l.offsetWidth*0.5;}}}l.style.left=b+"px";l.style.top=h+"px";l.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+i+" M12="+g+" M21="+d+" M22="+Z+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(l.offsetHeight,X));return;}if(c===0){b-=l.offsetWidth*0.5;k=l.offsetHeight;}else{if(f===90){k=l.offsetWidth;if(c===90){b+=l.offsetHeight*0.5;}else{h+=k;b-=l.offsetHeight*0.5;}}else{k=(m*l.offsetWidth)+(a*l.offsetHeight);if(c<0){b-=(a*l.offsetWidth)+(m*(l.offsetHeight*0.6));h+=m*l.offsetWidth;}else{b+=m*(l.offsetHeight*0.6);}}}l.style.left=b+"px";l.style.top=h+"px";l.style.MozTransformOrigin="0 0";l.style.MozTransform="rotate("+c+"deg)";l.style.webkitTransformOrigin="0 0";l.style.webkitTransform="rotate("+c+"deg)";this.set("maxLabelSize",Math.max(k,X));},offsetNodeForTick:function(Z){var X=this.get("axisRenderer"),b=X.get("styles").majorTicks,Y=b.length,a=b.display;if(a==="inside"){Z.style.marginTop=(0-Y)+"px";}else{if(a==="cross"){Z.style.marginTop=(0-(Y*0.5))+"px";}}}});B.BottomAxisLayout=T;function A(X){A.superclass.constructor.apply(this,arguments);}A.ATTRS={axisRenderer:{value:null}};B.extend(A,B.Base,{setTickOffsets:function(){var X=this.get("axisRenderer"),b=X.get("styles").majorTicks,Z=b.length,Y=Z*0.5,a=b.display;X.set("leftTickOffset",0);X.set("rightTickOffset",0);switch(a){case"inside":X.set("bottomTickOffset",Z);
break;case"outside":X.set("topTickOffset",Z);break;case"cross":X.set("topTickOffset",Y);X.set("bottomTickOffset",Y);break;}},getLineStart:function(){var X=this.get("axisRenderer"),Y=X.get("styles"),c=Y.padding,d=Y.majorTicks,Z=d.length,b=d.display,a={x:0,y:c.top};if(b==="outside"){a.y+=Z;}else{if(b==="cross"){a.y+=Z/2;}}return a;},drawTick:function(d,b){var Y=this.get("axisRenderer"),Z=Y.get("styles"),c=Z.padding,a=b.length,e={x:d.x,y:c.top},X={x:d.x,y:a+c.top};Y.drawLine(e,X,b);},getLabelPoint:function(Y){var X=this.get("axisRenderer");return{x:Y.x,y:Y.y-X.get("topTickOffset")};},positionLabel:function(j,l){var d=this.get("axisRenderer"),X=d.get("styles").label,a=l.x,g=l.y,b=Math.max(-90,Math.min(90,X.rotation)),e=Math.abs(b),i=Math.PI/180,k=parseFloat(parseFloat(Math.sin(e*i)).toFixed(8)),Z=parseFloat(parseFloat(Math.cos(e*i)).toFixed(8)),h,f,c,Y;b=Math.min(90,b);b=Math.max(-90,b);if(B.UA.ie){j.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";h=Z;f=b>0?-k:k;c=-f;Y=h;if(b===0){a-=j.offsetWidth*0.5;g-=j.offsetHeight;}else{if(e===90){a-=j.offsetHeight*0.5;g-=j.offsetWidth;}else{if(b>0){a-=(Z*j.offsetWidth)+Math.min((k*j.offsetHeight),(b/180*j.offsetHeight));g-=(k*j.offsetWidth)+(Z*(j.offsetHeight));}else{a-=k*(j.offsetHeight*0.5);g-=(k*j.offsetWidth)+(Z*(j.offsetHeight));}}}j.style.left=a;j.style.top=g;j.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+h+" M12="+f+" M21="+c+" M22="+Y+' sizingMethod="auto expand")';return;}if(b===0){a-=j.offsetWidth*0.5;g-=j.offsetHeight;}else{if(b===90){a+=j.offsetHeight*0.5;g-=j.offsetWidth;}else{if(b===-90){a-=j.offsetHeight*0.5;g-=0;}else{if(b<0){a-=(k*(j.offsetHeight*0.6));g-=(Z*j.offsetHeight);}else{a-=(Z*j.offsetWidth)-(k*(j.offsetHeight*0.6));g-=(k*j.offsetWidth)+(Z*j.offsetHeight);}}}}j.style.left=a+"px";j.style.top=g+"px";j.style.MozTransformOrigin="0 0";j.style.MozTransform="rotate("+b+"deg)";j.style.webkitTransformOrigin="0 0";j.style.webkitTransform="rotate("+b+"deg)";},setSizeAndPosition:function(X){var Y=this.get("axisRenderer"),Z=Y.get("styles"),b=Z.line.weight,c=Z.majorTicks,a=c.display,d=c.length;if(a==="outside"){b+=d;}else{if(a==="cross"){b+=d*0.5;}}b+=X;Y.get("node").style.top=X+"px";Y.set("height",b);},offsetNodeForTick:function(Z){var X=this.get("axisRenderer"),b=X.get("styles").majorTicks,Y=b.length,a=b.display;if(a==="inside"){Z.style.marginBottom=(0-Y)+"px";}else{if(a==="cross"){Z.style.marginBottom=(0-(Y*0.5))+"px";}}}});B.TopAxisLayout=A;B.mix(B.AxisRenderer.prototype,{_ui:null,getLayout:function(Y){var X;switch(Y){case"top":X=new B.TopAxisLayout({axisRenderer:this});break;case"bottom":X=new B.BottomAxisLayout({axisRenderer:this});break;case"left":X=new B.LeftAxisLayout({axisRenderer:this});break;case"right":X=new B.RightAxisLayout({axisRenderer:this});break;}return X;},drawLine:function(Z,Y,X){var a=this.get("graphic");a.lineStyle(X.weight,X.color,X.alpha);a.moveTo(Z.x,Z.y);a.lineTo(Y.x,Y.y);a.end();},_drawAxis:function(){var Y=this.get("styles"),h=Y.majorTicks,j=h.display!="none",b,g=Y.majorUnit,Z=this.get("axis"),f,l,c=0,a,d,e,m,k=this._ui,X=this.get("graphic");X.clear();k.setTickOffsets();a=this.getLength();e=k.getLineStart();b=this.getFirstPoint(e);this.drawLine(e,this.getLineEnd(b),this.get("styles").line);if(j){k.drawTick(b,h);}f=Z.getTotalMajorUnits(g,a);if(f<1){return;}l=a/(f-1);this._createLabelCache();k.set("maxLabelSize",0);for(;c<f;++c){if(j){k.drawTick(b,h);}d=this.getPosition(b);m=this.getLabel(b,Z.getLabelAtPosition(d,a));k.positionLabel(m,k.getLabelPoint(b));b=this.getNextPoint(b,l);}k.setSizeAndPosition();this._clearLabelCache();if(this.get("overlapGraph")){k.offsetNodeForTick(this.get("node"));}},_labels:null,_labelCache:null,getLabel:function(a,X,b){var Z,Y=this._labelCache;if(Y.length>0){Z=Y.shift();}else{Z=document.createElement("span");}Z.innerHTML=X;Z.style.display="block";Z.style.position="absolute";this.get("node").appendChild(Z);this._labels.push(Z);return Z;},_createLabelCache:function(){if(this._labels){this._labelCache=this._labels.concat();}else{this._labelCache=[];}this._labels=[];},_clearLabelCache:function(){var X=this._labelCache.length,Z=0,Y,a;for(;Z<X;++Z){Y=a[Z];Y.parentNode.removeChild(Y);}this._labelCache=[];},_calculateSizeByTickLength:true,getLineEnd:function(Z){var X=this.get("node").offsetWidth,Y=this.get("node").offsetHeight,a=this.get("position");if(a==="top"||a==="bottom"){return{x:X,y:Z.y};}else{return{x:Z.x,y:Y};}},getLength:function(){var Y,a=this.get("styles"),b=a.padding,X=this.get("node").offsetWidth,Z=this.get("node").offsetHeight,c=this.get("position");if(c==="top"||c==="bottom"){Y=X-(b.left+b.right);}else{Y=Z-(b.top+b.bottom);}return Y;},getFirstPoint:function(a){var X=this.get("styles"),b=this.get("position"),Z=X.padding,Y={x:a.x,y:a.y};if(b==="top"||b==="bottom"){Y.x+=Z.left;}else{Y.y+=Z.top;}return Y;},getNextPoint:function(X,Y){var Z=this.get("position");if(Z==="top"||Z==="bottom"){X.x=X.x+Y;}else{X.y=X.y+Y;}return X;},getLastPoint:function(){var Y=this.get("styles"),Z=Y.padding,X=this.get("node").offsetWidth,a=this.get("position");if(a==="top"||a==="bottom"){return{x:X-Z.right,y:Z.top};}else{return{x:Z.left,y:Z.top};}},getPosition:function(X){var c,a=this.get("node").offsetHeight,Z=this.get("styles"),b=Z.padding,d=this.get("position"),Y=this.get("axis").get("dataType");if(d==="left"||d==="right"){if(Y==="numeric"){c=(a-(b.top+b.bottom))-(X.y-b.top);}else{c=X.y-b.top;}}else{c=X.x-b.left;}return c;}});},"@VERSION@");