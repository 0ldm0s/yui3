YUI.add("infographics",function(B){function K(S){this._createId();this._keys={};this._data=[];K.superclass.constructor.apply(this,arguments);}K.NAME="baseAxis";K.ATTRS={parent:{lazyAdd:false,value:null},roundingUnit:{getter:function(){return this._roundingUnit;},setter:function(S){this._roundingUnit=S;if(this._roundMinAndMax){this._updateMinAndMax();}return S;}},roundMinAndMax:{getter:function(){return this._roundMinAndMax;},setter:function(S){if(this._roundMinAndMax==S){return S;}this._roundMinAndMax=S;this._updateMinAndMax();}},dataType:{getter:function(){return this._dataType;}},dataProvider:{getter:function(){return this._dataProvider;},setter:function(S){if(S===this._dataProvider){return;}if(this._dataProvider){}S=B.merge(S);this._dataProvider={data:S.data.concat()};this._dataClone=this._dataProvider.data.concat();return S;},lazyAdd:false},dataMaximum:{getter:function(){return this._dataMaximum;}},maximum:{getter:function(){if(this._autoMax||!this._setMaximum){return this._dataMaximum;}return this._setMaximum;},setter:function(S){this._setMaximum=S;}},dataMinimum:{getter:function(){return this._dataMinimum;}},minimum:{getter:function(){if(this._autoMin||!this._setMinimum){return this._dataMinimum;}return this._setMinimum;},setter:function(S){this._setMinimum=S;return S;}},autoMax:{getter:function(){return this._autoMax;},setter:function(S){this._autoMax=S;}},autoMin:{getter:function(){return this._autoMin;},setter:function(S){this._autoMin=S;}},data:{getter:function(){return this._data;}},keys:{getter:function(){return this._keys;}}};B.extend(K,B.Base,{GUID:"yuibaseaxis",_createId:function(){this._id=B.guid(this.GUID);},_roundingUnit:NaN,_roundMinAndMax:true,_dataType:null,_dataProvider:null,_dataClone:null,_setMaximum:null,_dataMaximum:null,_autoMax:true,_setMinimum:null,_dataMinimum:null,_autoMin:true,_data:null,_keys:null,_axisReady:false,addKey:function(V){if(this._keys.hasOwnProperty(V)){return;}this._dataClone=this._dataProvider.data.concat();var U=this._keys,S={},T={axis:this};this._setDataByKey(V);S[V]=U[V].concat();this._updateMinAndMax();T.keysAdded=S;if(!this._dataReady){this._dataReady=true;this.publish("axisReady",{fireOnce:true});this.fire("axisReady",T);}else{this.fire("axisUpdate",T);}},_setDataByKey:function(W){var V,X,T=[],U=this._dataClone.concat(),S=U.length;for(V=0;V<S;++V){X=U[V];T[V]=X[W];}this._keys[W]=T;this._data=this._data.concat(T);},removeKey:function(Y){if(!this._keys.hasOwnProperty(Y)){return;}var T,Z,S={},V=[],U={},X=this._keys,W={};U[Y]=X[Y].concat();for(T in X){if(X.hasOwnProperty(T)){if(T==Y){continue;}Z=X[T];V=V.concat(Z);S[T]=Z;}}X=S;this._data=V;this._updateMinAndMax();W.keysRemoved=U;this.fire("axisUpdate",W);},getKeyValueAt:function(T,S){var V=NaN,U=this.keys;if(U[T]&&U[T][S]){V=U[T][S];}return V;},getDataByKey:function(T){var S=this._keys;if(S[T]){return S[T];}return null;},_updateMinAndMax:function(){var X=this.get("data"),T=0,W=0,S,U,V;if(X&&X.length&&X.length>0){S=X.length;T=W=X[0];if(S>1){for(V=1;V<S;V++){U=X[V];if(isNaN(U)){continue;}T=Math.max(U,T);W=Math.min(U,W);}}}this._dataMaximum=T;this._dataMinimum=W;},newDataUpdateHandler:function(){var S,U=this._keys,T={};this._data=[];this._dataClone=this._dataProvider.data.concat();for(S in U){if(U.hasOwnProperty(S)){U[S]=this._setDataByKey(S);this._data=this._data.concat(U[S]);}}this._updateMinAndMax();T.keysAdded=U;this.fire("axisUpdate",T);},_keyDataUpdateHandler:function(){var S=false,V={},W=V.keysAdded,X=V.keysRemoved,U=this._keys,T;for(T in U){if(U.hasOwnProperty(T)){if(W.hasOwnProperty(T)){S=true;U[T]=U[T];}if(X.hasOwnProperty(T)){S=true;U[T]=[];}}}if(!S){return;}this._data=[];for(T in U){if(U.hasOwnProperty(T)){this._data=this._data.concat(U[T]);}}this._updateMinAndMax();V.keysAdded=W;V.keysRemoved=X;this.fire("axisUpdate",V);},getTotalMajorUnits:function(U,S){var T;if(U.determinant==="count"){T=U.count;}else{if(U.determinant==="distance"){T=(S/U.distance)+1;}}return Math.min(T,this._data.length);},getLabelAtPosition:function(X,T,V){var U=this.get("minimum"),S=this.get("maximum"),W=(X/T*(S-U))+U;return this.getFormattedLabel(W,V);},getFormattedLabel:function(T,S){return T;}});B.BaseAxis=K;function H(S){H.superclass.constructor.apply(this,arguments);}H.NAME="numericAxis";H.ATTRS={alwaysShowZero:{getter:function(){return this._alwaysShowZero;},setter:function(S){if(S==this._alwaysShowZero){return;}this._alwaysShowZero=S;this._updateMinAndMax();return S;}}};B.extend(H,B.BaseAxis,{_dataType:"numeric",_alwaysShowZero:true,_updateMinAndMax:function(){var Y=this.get("data"),T=0,X=0,S,U,W,V;if(Y&&Y.length&&Y.length>0){S=Y.length;T=X=Y[0];if(S>1){for(W=1;W<S;W++){U=Y[W];if(isNaN(U)){if(B.Lang.isObject(U)){for(V in U){if(U.hasOwnProperty(V)){T=Math.max(U[V],T);X=Math.min(U[V],X);}}}continue;}T=Math.max(U,T);X=Math.min(U,X);}}}if(this._roundMinAndMax&&!isNaN(this._roundingUnit)){this._dataMaximum=this._roundUpToNearest(T,this._roundingUnit);this._dataMinimum=this._roundDownToNearest(X,this._roundingUnit);}else{this._dataMaximum=T;this._dataMinimum=X;}if(this._alwaysShowZero){this._dataMinimum=Math.min(0,this._dataMinimum);}},_roundToNearest:function(U,T){T=T||1;if(T===0){return U;}var S=Math.round(this._roundToPrecision(U/T,10))*T;return this._roundToPrecision(S,10);},_roundUpToNearest:function(T,S){S=S||1;if(S===0){return T;}return Math.ceil(this._roundToPrecision(T/S,10))*S;},_roundDownToNearest:function(T,S){S=S||1;if(S===0){return T;}return Math.floor(this._roundToPrecision(T/S,10))*S;},_roundToPrecision:function(U,S){S=S||0;var T=Math.pow(10,S);return Math.round(T*U)/T;},getFormattedLabel:function(T,S){return B.DataType.Number.format(T,S);}});B.NumericAxis=H;function D(S){D.superclass.constructor.apply(this,arguments);}D.NAME="timeAxis";D.ATTRS={maximum:{getter:function(){if(this._autoMax||this._setMaximum===null){return this._getNumber(this._dataMaximum);}return this._setMaximum;},setter:function(S){this._setMaximum=this._getNumber(S);this.fire("dataChange");}},minimum:{getter:function(){if(this._autoMin||this._setMinimum===null){return this._dataMinimum;
}return this._setMinimum;},setter:function(S){this._setMinimum=this._getNumber(S);this.fire("dataChange");}}};B.extend(D,B.BaseAxis,{GUID:"yuitimeaxis",_dataType:"time",_setDataByKey:function(W){var X,T=[],V=this._dataClone.concat(),U,Y,S=V.length;for(U=0;U<S;++U){X=V[U][W];if(B.Lang.isDate(X)){Y=X.valueOf();}else{if(!B.Lang.isNumber(X)){Y=new Date(X.toString()).valueOf();}else{Y=X;}}T[U]=Y;}this._keys[W]=T;this._data=this._data.concat(T);},_getNumber:function(S){if(B.Lang.isDate(S)){S=S.valueOf();}else{if(!B.Lang.isNumber(S)){S=new Date(S.toString()).valueOf();}}return S;},updateMaxByPosition:function(T){var S=this._dataMaximum-this._dataMinimum;T=Math.round(T*100)/100;T=T*S;T+=this._dataMinimum;this.set("maximum",T);},updateMinByPosition:function(T){var S=this._dataMaximum-this._dataMinimum;T=Math.round(T*100)/100;T=T*S;T+=this._dataMinimum;this.set("minimum",T);},updateMinAndMaxByPosition:function(U,W,T){var V=U/T,S=W/T;V+=this._dataMinimum;S+=this._dataMaximum;this._setMaximum=this._getNumber(S);this._setMinimum=this._getNumber(V);this.fire("dataChange");},getFormattedLabel:function(T,S){return B.DataType.Date.format(B.DataType.Date.parse(T),{format:S});}});B.TimeAxis=D;function E(S){E.superclass.constructor.apply(this,arguments);}E.NAME="categoryAxis";B.extend(E,B.BaseAxis,{GUID:"yuicategoryaxis",_dataType:"category",_getKeyValueAt:function(T,S){var U=NaN;if(this.keys[T]){U=S;}return U;},_updateMinAndMax:function(){this._dataMaximum=Math.max(this._data.length-1,0);this._dataMinimum=0;},_setDataByKey:function(W){var V,X,T=[],Y=[],U=this._dataClone.concat(),S=U.length;for(V=0;V<S;++V){X=U[V];T[V]=V;Y[V]=X[W];}this._keys[W]=T;this._data=this._data.concat(Y);},getTotalMajorUnits:function(T,S){return this._data.length;},getLabelAtPosition:function(W,S,V){var U=this._data.length-1,T=Math.round(W/(S/U));return this._data[T];}});B.CategoryAxis=E;function O(S){}O.NAME="renderer";O.ATTRS={styles:{value:{},getter:function(){this._styles=this._styles||this._getDefaultStyles();return this._styles;},setter:function(S){this._styles=this._setStyles(S);return this._styles;},validator:function(S){return B.Lang.isObject(S);}}};O.prototype={_newStyles:null,_styles:null,_setStyles:function(T){var S=this.get("styles");return this._mergeStyles(T,S);},_mergeStyles:function(T,S){this._newStyles={};B.Object.each(T,function(W,V,U){if(S.hasOwnProperty(V)&&B.Lang.isObject(W)){S[V]=this._mergeStyles(W,S[V]);}else{S[V]=W;this._newStyles[V]=W;}},this);return S;},_getDefaultStyles:function(){return{};}};B.Renderer=O;B.CartesianSeries=B.Base.create("cartesianSeries",B.Widget,[B.Renderer],{_leftOrigin:null,_bottomOrigin:null,renderUI:function(){this._setCanvas();},bindUI:function(){var T=this.get("xAxis"),S=this.get("yAxis");if(T){T.after("axisReady",B.bind(this._xAxisChangeHandler,this));T.after("axisUpdate",B.bind(this._xAxisChangeHandler,this));}if(S){S.after("axisReady",B.bind(this._yAxisChangeHandler,this));S.after("axisUpdate",B.bind(this._yAxisChangeHandler,this));}this.after("xAxisChange",B.bind(this.xAxisChangeHandler,this));this.after("yAxisChange",B.bind(this.yAxisChangeHandler,this));this.after("stylesChange",B.bind(this._updateHandler,this));},syncUI:function(){this.draw();},_updateHandler:function(S){if(this.get("rendered")){this.draw();}},GUID:"yuicartesianseries",_setCanvas:function(){var S=this.get("contentBox"),U=document.createElement("div"),T=U.style;S.appendChild(U);T.position="absolute";T.display="block";T.top="0px";T.left="0px";T.width="100%";T.height="100%";this.set("node",U);this.set("graphic",new B.Graphic());this.get("graphic").render(this.get("node"));},_xAxisChangeHandler:function(S){if(this.get("rendered")&&this.get("xKey")&&this.get("yKey")){this.draw();}},_yAxisChangeHandler:function(S){if(this.get("rendered")&&this.get("xKey")&&this.get("yKey")){this.draw();}},setAreaData:function(){var r,q,j=B.Node.one(this._parentNode).get("parentNode"),c=j.get("offsetWidth"),m=j.get("offsetHeight"),e=this.get("styles").padding,g=e.left,p=e.top,Z=c-(g+e.right),l=m-(p+e.bottom),f=[],t=[],b=this.get("xAxis"),T=this.get("yAxis"),s=b.get("maximum"),o=b.get("minimum"),U=T.get("maximum"),S=T.get("minimum"),V=this.get("xKey"),Y=this.get("yKey"),X=Z/(s-o),d=l/(U-S),W=b.getDataByKey(V),n=T.getDataByKey(Y),a=W.length,k;this.get("graphic").setSize(c,m);this._leftOrigin=Math.round(((0-o)*X)+g);this._bottomOrigin=Math.round((l+p)-(0-S)*d);for(k=0;k<a;++k){r=Math.round((((W[k]-o)*X)+g));q=Math.round(((l+p)-(n[k]-S)*d));f.push(r);t.push(q);}this.set("xcoords",f);this.set("ycoords",t);},drawGraph:function(){this.drawMarkers();},draw:function(){var U=B.Node.one(this._parentNode).get("parentNode"),S=U.get("offsetWidth"),T=U.get("offsetHeight");if(!isNaN(S)&&!isNaN(T)&&S>0&&T>0){this.setAreaData();this.drawGraph();}},drawMarkers:function(){if(!this.get("xcoords")||this.get("xcoords").length<1){return;}var b=this.get("graphic"),m=this.get("styles").marker,Z=m.width,l=m.height,W=m.fillColor,V=m.fillAlpha,a=m.fillType||"solid",o=m.borderWidth,S=m.borderColor,e=m.borderAlpha||1,Y=m.colors,X=m.alpha||[],d=m.ratios||[],g=m.rotation||0,c=this.get("xcoords"),n=this.get("ycoords"),U=m.func||"drawCircle",j=0,k=c.length,f=n[0],T;for(;j<k;++j){f=n[j];T=c[j];if(o>0){b.lineStyle(o,S,e);}if(a==="solid"){b.beginFill(W,V);}else{b.beginGradientFill(a,Y,X,d,{rotation:g,width:Z,height:l});}this.drawMarker(b,U,T,f,Z,l);b.end();}},drawMarker:function(X,U,W,V,S,T){if(U==="drawCircle"){X.drawCircle(W,V,S/2);}else{W-=S/2;V-=T/2;X[U].call(X,W,V,S,T);}},_getDefaultStyles:function(){return{padding:{top:0,left:0,right:0,bottom:0}};}},{ATTRS:{type:{value:"cartesian"},order:{value:NaN},xcoords:{value:null},ycoords:{value:null},graph:{value:null},xAxis:{value:null,validator:function(S){return S!==this.get("xAxis");},lazyAdd:false},yAxis:{value:null,validator:function(S){return S!==this.get("yAxis");},lazyAdd:false},xKey:{value:null,validator:function(S){return S!==this.get("xKey");}},yKey:{value:null,validator:function(S){return S!==this.get("yKey");
}},node:{value:null},graphic:{value:null}}});function F(S){F.superclass.constructor.apply(this,arguments);}F.NAME="lineSeries";F.ATTRS={type:{value:"line"}};B.extend(F,B.CartesianSeries,{drawGraph:function(){var S=this.get("styles");if(S.showLines){this.drawLines();}if(S.showMarkers){this.drawMarkers();}},drawLines:function(){if(this.get("xcoords").length<1){return;}var a=this.get("xcoords"),l=this.get("ycoords"),d=a.length,U=a[0],T=l[0],k=U,h=T,g,e,c,W=this.get("styles"),f=W.lineType,j=W.dashLength,Y=W.gapSpace,X=W.connectDiscontinuousPoints,S=W.discontinuousType,V=W.discontinuousDashLength,b=W.discontinuousGapSpace,Z=this.get("graphic");Z.clear();Z.lineStyle(W.weight,W.color);Z.moveTo(U,T);for(c=1;c<d;c=++c){g=a[c];e=l[c];if(isNaN(e)){k=g;h=e;continue;}if(k==U){if(f!="dashed"){Z.lineTo(g,e);}else{this.drawDashedLine(k,h,g,e,j,Y);}}else{if(!X){Z.moveTo(g,e);}else{if(S!="solid"){this.drawDashedLine(k,h,g,e,V,b);}else{Z.lineTo(g,e);}}}U=k=g;T=h=e;}Z.end();},drawDashedLine:function(d,h,T,f,V,U){V=V||10;U=U||10;var X=V+U,a=T-d,e=f-h,g=Math.sqrt(Math.pow(a,2)+Math.pow(e,2)),Y=Math.floor(Math.abs(g/X)),W=Math.atan2(e,a),c=d,b=h,Z,S=this.get("graphic");a=Math.cos(W)*X;e=Math.sin(W)*X;for(Z=0;Z<Y;++Z){S.moveTo(c,b);S.lineTo(c+Math.cos(W)*V,b+Math.sin(W)*V);c+=a;b+=e;}S.moveTo(c,b);g=Math.sqrt((T-c)*(T-c)+(f-b)*(f-b));if(g>V){S.lineTo(c+Math.cos(W)*V,b+Math.sin(W)*V);}else{if(g>0){S.lineTo(c+Math.cos(W)*g,b+Math.sin(W)*g);}}S.moveTo(T,f);},_getDefaultStyles:function(){return{color:"#000000",alpha:1,weight:1,marker:{fillColor:"#000000",alpha:1,weight:1,width:6,height:6},showMarkers:false,showLines:true,lineType:"solid",dashLength:10,gapSpace:10,connectDiscontinuousPoint:true,discontinuousType:"dashed",discontinuousDashLength:10,discontinuousGapSpace:10,padding:{top:0,left:0,right:0,bottom:0}};}});B.LineSeries=F;function C(S){C.superclass.constructor.apply(this,arguments);}C.NAME="columnSeries";C.ATTRS={type:{value:"column"}};B.extend(C,B.CartesianSeries,{drawMarkers:function(){if(this.get("xcoords").length<1){return;}var k=this.get("graphic"),y=this.get("styles").marker,g=y.width,x=y.height,a=y.fillColor,Z=y.fillAlpha,j=y.fillType||"solid",AA=y.borderWidth,S=y.borderColor,n=y.borderAlpha||1,f=y.colors,b=y.alpha||[],m=y.ratios||[],r=y.rotation||0,l=this.get("xcoords"),z=this.get("ycoords"),Y=y.func||"drawRect",t=0,v=l.length,o=z[0],W=this.get("type"),U=this.get("graph"),e=U.seriesTypes[W],u=e.length,T=0,V=0,c=0,d,q,s=this.get("order"),p=B.Node.one(this._parentNode).get("parentNode"),X;for(;t<u;++t){q=e[t];T+=q.get("styles").marker.width;if(s>t){c=T;}}V=v*T;if(V>p.offsetWidth){d=this.width/V;T*=d;c*=d;g*=d;g=Math.max(g,1);}c-=T/2;for(t=0;t<v;++t){o=z[t];x=this._bottomOrigin-o;X=l[t]+c;if(AA>0){k.lineStyle(AA,S,n);}if(j==="solid"){k.beginFill(a,Z);}else{k.beginGradientFill(j,f,b,m,{rotation:r,width:g,height:x});}this.drawMarker(k,Y,X,o,g,x);k.end();}},drawMarker:function(X,U,W,V,S,T){X.drawRect(W,V,S,T);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.ColumnSeries=C;function N(S){N.superclass.constructor.apply(this,arguments);}N.NAME="barSeries";N.ATTRS={type:{value:"bar"}};B.extend(N,B.CartesianSeries,{drawMarkers:function(){if(this.get("xcoords").length<1){return;}var j=this.get("graphic"),x=this.get("styles").marker,f=x.width,v=x.height,Y=x.fillColor,X=x.fillAlpha,g=x.fillType||"solid",AA=x.borderWidth,S=x.borderColor,m=x.borderAlpha||1,e=x.colors,Z=x.alpha||[],l=x.ratios||[],q=x.rotation||0,k=this.get("xcoords"),z=this.get("ycoords"),W=x.func||"drawRect",s=0,u=k.length,n=z[0],U=this.get("type"),T=this.get("graph"),d=T.seriesTypes[U],t=d.length,c=0,y=0,a=0,b,p,r=this.get("order"),o=B.Node.one(this._parentNode).get("parentNode"),V;for(;s<t;++s){p=d[s];c+=p.get("styles").marker.height;if(r>s){a=c;}}y=u*c;if(y>o.offsetHeight){b=this.height/y;c*=b;a*=b;v*=b;v=Math.max(v,1);}a-=c/2;for(s=0;s<u;++s){n=z[s]+a;V=k[s];f=V-this._leftOrigin;if(AA>0){j.lineStyle(AA,S,m);}if(g==="solid"){j.beginFill(Y,X);}else{j.beginGradientFill(g,e,Z,l,{rotation:q,width:f,height:v});}this.drawMarker(j,W,V,n,f,v);j.end();}},drawMarker:function(X,U,W,V,S,T){X.drawRect(this._leftOrigin,V,S,T);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.BarSeries=N;function J(S){J.superclass.constructor.apply(this,arguments);}J.NAME="areaSeries";J.ATTRS={type:{value:"area"},direction:{value:"horizontal"}};B.extend(J,B.CartesianSeries,{drawGraph:function(){this.drawArea();},drawArea:function(){if(this.get("xcoords").length<1){return;}var c=this.get("xcoords"),Z=this.get("ycoords"),b=c.length,W=c[0],V=Z[0],U=W,T=V,a=U,Y=T,f,e,X,d=this.get("styles"),S=this.get("graphic");S.clear();S.beginFill(d.color,d.alpha);S.moveTo(U,T);for(X=1;X<b;X=++X){f=c[X];e=Z[X];if(isNaN(e)){a=f;Y=e;continue;}S.lineTo(f,e);U=a=f;T=Y=e;}if(this.get("direction")==="vertical"){S.lineTo(this._leftOrigin,T);S.lineTo(this._leftOrigin,V);}else{S.lineTo(U,this._bottomOrigin);S.lineTo(W,this._bottomOrigin);}S.lineTo(W,V);S.end();},_getDefaultStyles:function(){return{color:"#000000",alpha:1,padding:{top:0,left:0,right:0,bottom:0}};}});B.AreaSeries=J;function P(S){P.superclass.constructor.apply(this,arguments);}P.NAME="rangeSeries";P.ATTRS={type:{value:"range"}};B.extend(P,B.CartesianSeries,{setAreaData:function(){var s,r,k=B.Node.one(this._parentNode).get("parentNode"),d=k.get("offsetWidth"),n=k.get("offsetHeight"),f=this.get("styles").padding,j=f.left,q=f.top,a=d-(j+f.right),m=n-(q+f.bottom),g=[],u=[],c=this.get("xAxis"),T=this.get("yAxis"),t=c.get("maximum"),p=c.get("minimum"),U=T.get("maximum"),S=T.get("minimum"),V=this.get("xKey"),Z=this.get("yKey"),Y=a/(t-p),e=m/(U-S),X=c.getDataByKey(V),o=T.getDataByKey(Z),b=X.length,l,W;
this.get("graphic").setSize(d,n);this._leftOrigin=Math.round(((0-p)*Y)+j);this._bottomOrigin=Math.round((m+q)-(0-S)*e);for(l=0;l<b;++l){W=o[l];s=Math.round((((X[l]-p)*Y)+j));r={h:Math.round(((m+q)-(W.high-S)*e)),l:Math.round(((m+q)-(W.low-S)*e)),o:Math.round(((m+q)-(W.open-S)*e)),c:Math.round(((m+q)-(W.close-S)*e))};g.push(s);u.push(r);}this.set("xcoords",g);this.set("ycoords",u);},drawMarkers:function(){if(this.get("xcoords").length<1){return;}var b=this.get("graphic"),k=this.get("styles").marker,a=k.width,c=this.get("xcoords"),m=this.get("ycoords"),g=0,h=c.length,V=this.get("type"),T=this.get("graph"),Z=T.seriesTypes[V],j=Z.length,S=0,U=0,X=0,Y,e,f=this.get("order"),d=B.Node.one(this._parentNode).get("parentNode"),W,l;for(;g<j;++g){e=Z[g];S+=e.get("styles").marker.width;if(f>g){X=S;}}U=h*S;if(U>d.offsetWidth){Y=this.width/U;S*=Y;X*=Y;a*=Y;a=Math.max(a,1);}X-=S/2;for(g=0;g<h;++g){l=m[g];W=c[g]+X;this.drawMarker(b,l,W,k);}}});B.RangeSeries=P;function I(S){I.superclass.constructor.apply(this,arguments);}I.NAME="ohlcSeries";I.ATTRS={type:{value:"ohlc"}};B.extend(I,B.RangeSeries,{drawMarker:function(Z,m,U,g){var f=m.h,a=m.o,d=m.l,j=m.c,Y=g.width,e,T=g.upColor,W=g.downColor,V,b=g.upAlpha,i=g.downAlpha,X=j<a,S=g.thickness,k=U+Y*0.5;e=X?T:W;V=X?b:i;Z.lineStyle(S,e,V);Z.moveTo(U,a);Z.lineTo(k,a);Z.moveTo(k,f);Z.lineTo(k,d);Z.moveTo(k,j);Z.lineTo(U+Y,j);Z.end();},_getDefaultStyles:function(){return{marker:{upColor:"#aaaaaa",upAlpha:1,thickness:1,borderAlpha:1,downColor:"#000000",downAlpha:1,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.OHLCSeries=I;function M(S){M.superclass.constructor.apply(this,arguments);}M.NAME="candlestickSeries";M.ATTRS={type:{value:"candlestick"}};B.extend(M,B.RangeSeries,{drawMarker:function(a,AE,Y,x){var AC=AE.h,y=AE.o,AA=AE.l,AF=AE.c,z=Math.abs(AF-y),t=x.width,AI,s=x.upFillColor,V=x.downFillColor,AB,n=x.upFillAlpha,AH=x.downFillAlpha,k=AF<y,u=x.upFillType||"solid",q=x.downFillType||"solid",W=x.borderWidth,m=x.borderColor,AG=x.borderAlpha||1,v,r=x.upColors,AD=x.downColors,i,g=x.upAlphas||[],p=x.downAlphas||[],e,b=x.upRatios||[],f=x.downRatios||[],j,X=x.upRotation||0,U=x.downRotation||0,d=k?u:q,Z=AF<y?AF:y,T=AF<y?y:AF,S=Y+t*0.5;if(W>0){a.lineStyle(W,m,AG);}if(d==="solid"){AI=k?s:V;AB=k?n:AH;a.beginFill(AI,AB);}else{v=k?r:AD;j=k?X:U;e=k?b:f;i=k?g:p;a.beginGradientFill(d,v,i,e,{rotation:j,width:t,height:z});}if(Z>AC){a.moveTo(S,AC);a.lineTo(S,Z);}a.drawRect(Y,Z,t,z);if(AA>AF&&AA>y){a.moveTo(S,T);a.lineTo(S,AA);}a.end();},_getDefaultStyles:function(){return{marker:{upFillColor:"#ffffff",upFillAlpha:1,borderColor:"#000000",borderWidth:1,borderAlpha:1,upColors:[],upAlphas:[],upRatios:[],upRotation:0,downFillColor:"#000000",downFillAlpha:1,downBorderColor:"#000000",downBorderWidth:0,downBorderAlpha:1,downColors:[],downAlphas:[],downRatios:[],downRotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.CandlestickSeries=M;function R(S){R.superclass.constructor.apply(this,arguments);}R.NAME="graphstack";R.ATTRS={seriesCollection:{lazyAdd:false,getter:function(){return this._seriesCollection;},setter:function(S){this._parseSeriesCollection(S);return this._seriesCollection;}},parent:{value:null}};B.extend(R,B.Base,{_seriesCollection:null,seriesTypes:null,_parseSeriesCollection:function(V){var S=V.length,U=0,T;if(!V){return;}if(!this._seriesCollection){this._seriesCollection=[];}if(!this.seriesTypes){this.seriesTypes=[];}for(;U<S;++U){T=V[U];if(!(T instanceof B.CartesianSeries)){this._createSeries(T);continue;}this._addSeries(T);}S=this._seriesCollection.length;for(U=0;U<S;++U){this._seriesCollection[U].render(this.get("parent"));}},_addSeries:function(U){var V=U.get("type"),X=this._seriesCollection,W=X.length,T=this.seriesTypes,S;if(!U.get("graph")){U.set("graph",this);}U.graphOrder=W;X.push(U);if(!T.hasOwnProperty(V)){this.seriesTypes[V]=[];}S=this.seriesTypes[V];U.set("order",S.length);S.push(U);this.fire("seriesAdded",U);},_createSeries:function(W){var X=W.type,Y=this._seriesCollection,U=this.seriesTypes,T,S,V;W.graph=this;if(!U.hasOwnProperty(X)){U[X]=[];}T=U[X];W.graph=this;W.order=T.length;S=this._getSeries(W.type);V=new S(W);T.push(V);Y.push(V);},_getSeries:function(S){var T;switch(S){case"line":T=B.LineSeries;break;case"column":T=B.ColumnSeries;break;case"bar":T=B.BarSeries;break;case"area":T=B.AreaSeries;break;case"candlestick":T=B.CandlestickSeries;break;case"ohlc":T=B.OHLCSeries;break;default:T=B.CartesianSeries;break;}return T;}});B.GraphStack=R;B.AxisRenderer=B.Base.create("axisrenderer",B.Widget,[B.Renderer],{axisChangeHandler:function(U){var S=U.newVal,T=U.prevVal;if(T){T.detach("axisReady",this._axisDataChangeHandler);T.detach("axisUpdate",this._axisDataChangeHandler);}S.after("axisReady",B.bind(this._axisDataChangeHandler,this));S.after("axisUpdate",B.bind(this._axisDataChangeHandler,this));},_axisDataChangeHandler:function(S){if(this.get("rendered")){this._drawAxis();}},_updateHandler:function(S){if(this.get("rendered")){this._drawAxis();}},_positionChangeHandler:function(S){this._ui=this.getLayout(this.get("position"));if(this.get("rendered")){this._drawAxis();}},renderUI:function(){this._ui=this.getLayout(this.get("position"));this._setCanvas();},bindUI:function(){var S=this.get("axis");if(S){S.after("axisReady",B.bind(this._axisDataChangeHandler,this));S.after("axisUpdate",B.bind(this._axisDataChangeHandler,this));}this.after("axisChange",this.axisChangeHandler);this.after("stylesChange",this._updateHandler);this.after("positionChange",this._positionChangeHandler);this.after("overlapGraphChange",this._updateHandler);},syncUI:function(){this._drawAxis();},_setCanvas:function(){var S=this.get("contentBox"),V=this.get("position"),W=document.createElement("div"),U=W.style,T=this._parentNode;S.appendChild(W);U.position="absolute";U.display="block";U.top="0px";U.left="0px";U.border="1px";if(V==="top"||V==="bottom"){S.setStyle("width",T.getStyle("width"));}else{S.setStyle("height",T.getStyle("height"));}U.width=S.getStyle("width");
U.height=S.getStyle("height");this.set("node",W);this.set("graphic",new B.Graphic());this.get("graphic").render(this.get("node"));},_getDefaultStyles:function(){return{majorTicks:{display:"inside",length:4,color:"#000000",weight:1,alpha:1},minorTicks:{display:"none",length:2,color:"#000000",weight:1},line:{weight:1,color:"#000000",alpha:1},majorUnit:{determinant:"count",count:5,distance:75},padding:{top:0,left:0,right:0,bottom:0},top:"0px",left:"0px",width:"100px",height:"100px",hideOverlappingLabelTicks:false};}},{NAME:"axisRenderer",ATTRS:{graphic:{value:null},axis:{value:null,validator:function(S){return S!==this.get("axis");}},node:{value:null},position:{value:"bottom",validator:function(S){return((S!==this.get("position"))&&(S==="bottom"||S==="top"||S==="left"||S==="right"));}},topTickOffset:{value:0},bottomTickOffset:{value:0},leftTickOffset:{value:0},rightTickOffset:{value:0},overlapGraph:{value:true,validator:function(S){return B.Lang.isBoolean(S);}}}});function G(S){G.superclass.constructor.apply(this,arguments);}G.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};B.extend(G,B.Base,{setTickOffsets:function(){var S=this.get("axisRenderer"),W=S.get("styles").majorTicks,U=W.length,T=U*0.5,V=W.display;S.set("topTickOffset",0);S.set("bottomTickOffset",0);switch(V){case"inside":S.set("rightTickOffset",U);break;case"outside":S.set("leftTickOffset",U);break;case"cross":S.set("rightTickOffset",T);S.set("leftTickOffset",T);break;}},getLineStart:function(){var S=this.get("axisRenderer"),T=S.get("styles"),X=T.padding,Y=T.majorTicks,U=Y.length,W=Y.display,V={x:X.left,y:0};if(W==="outside"){V.x+=U;}else{if(W==="cross"){V.x+=U/2;}}return V;},drawTick:function(Y,W){var T=this.get("axisRenderer"),U=T.get("styles"),X=U.padding,V=W.length,Z={x:X.left,y:Y.y},S={x:V+X.left,y:Y.y};T.drawLine(Z,S,W);},getLabelPoint:function(S){var T=this.get("axisRenderer");return{x:S.x-T.get("leftTickOffset"),y:S.y};},positionLabel:function(g,i){var Z=this.get("axisRenderer"),T=Z.get("styles").label,W=i.x,c=i.y,X=Math.min(90,Math.max(-90,T.rotation)),a=Math.abs(X),e=Math.PI/180,h=parseFloat(parseFloat(Math.sin(a*e)).toFixed(8)),V=parseFloat(parseFloat(Math.cos(a*e)).toFixed(8)),d=V,b=X>0?-h:h,Y=-b,U=d,f=0,S=this.get("maxLabelSize");if(B.UA.ie){g.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(X===0){W-=g.offsetWidth;c-=g.offsetHeight*0.5;}else{if(a===90){W-=g.offsetHeight;c-=g.offsetWidth*0.5;}else{if(X===-90){W-=g.offsetHeight;c-=g.offsetWidth*0.5;}else{if(X>0){W-=(V*g.offsetWidth)+(g.offsetHeight*X/90);c-=(h*g.offsetWidth)+(V*(g.offsetHeight*0.5));}else{W-=(V*g.offsetWidth)+(a/90*g.offsetHeight);c-=V*(g.offsetHeight*0.5);}}}}g.style.left=W+"px";g.style.top=c+"px";g.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+d+" M12="+b+" M21="+Y+" M22="+U+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(S,g.offsetWidth));return;}if(X===0){f=g.offsetWidth;W-=f;c-=g.offsetHeight*0.5;}else{if(X===90){f=g.offsetHeight;c-=g.offsetWidth*0.5;}else{if(X===-90){f=g.offsetHeight;W-=f;c+=g.offsetWidth*0.5;}else{f=(V*g.offsetWidth)+(h*g.offsetHeight);if(X<0){W-=f;c+=(h*g.offsetWidth)-(V*(g.offsetHeight*0.6));}else{W-=(V*g.offsetWidth);c-=(h*g.offsetWidth)+(V*(g.offsetHeight*0.6));}}}}g.style.left=W+"px";g.style.top=c+"px";g.style.MozTransformOrigin="0 0";g.style.MozTransform="rotate("+X+"deg)";g.style.webkitTransformOrigin="0 0";g.style.webkitTransform="rotate("+X+"deg)";this.set("maxLabelSize",Math.max(f,S));},setSizeAndPosition:function(){var S=this.get("maxLabelSize"),T=this.get("axisRenderer"),U=T.get("styles"),W=U.line.weight,X=U.majorTicks,V=X.display,Y=X.length;if(V==="outside"){W+=Y;}else{if(V==="cross"){W+=Y*0.5;}}W+=S;T.get("node").style.left=S+"px";T.set("width",W);},offsetNodeForTick:function(U){var S=this.get("axisRenderer"),W=S.get("styles").majorTicks,T=W.length,V=W.display;if(V==="inside"){U.style.marginRight=(0-T)+"px";}else{if(V==="cross"){U.style.marginRight=(0-(T*0.5))+"px";}}}});B.LeftAxisLayout=G;function L(S){L.superclass.constructor.apply(this,arguments);}L.ATTRS={axisRenderer:{value:null}};B.extend(L,B.Base,{setTickOffsets:function(){var S=this.get("axisRenderer"),W=S.get("styles").majorTicks,U=W.length,T=U*0.5,V=W.display;S.set("topTickOffset",0);S.set("bottomTickOffset",0);switch(V){case"inside":S.set("leftTickOffset",U);break;case"outside":S.set("rightTickOffset",U);break;case"cross":S.set("rightTickOffset",T);S.set("leftTickOffset",T);break;}},drawTick:function(Y,W){var T=this.get("axisRenderer"),U=T.get("styles"),X=U.padding,V=W.length,Z={x:X.left,y:Y.y},S={x:X.left+V,y:Y.y};T.drawLine(Z,S,W);},getLineStart:function(){var S=this.get("axisRenderer"),T=S.get("styles"),X=T.padding,Y=T.majorTicks,U=Y.length,W=Y.display,V={x:X.left,y:X.top};if(W==="inside"){V.x+=U;}else{if(W==="cross"){V.x+=U/2;}}return V;},getLabelPoint:function(S){var T=this.get("axisRenderer");return{x:S.x+T.get("rightTickOffset"),y:S.y};},positionLabel:function(e,g){var Y=this.get("axisRenderer"),S=Y.get("styles").label,V=g.x,b=g.y,W=Math.min(Math.max(S.rotation,-90),90),Z=Math.abs(W),d=Math.PI/180,f=parseFloat(parseFloat(Math.sin(Z*d)).toFixed(8)),U=parseFloat(parseFloat(Math.cos(Z*d)).toFixed(8)),c=U,a=W>0?-f:f,X=-a,T=c;if(B.UA.ie){e.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(W===0){b-=e.offsetHeight*0.5;}else{if(Z===90){b-=e.offsetWidth*0.5;}else{if(W>0){b-=(U*(e.offsetHeight*0.5));}else{b-=(f*e.offsetWidth)+(U*(e.offsetHeight*0.5));}}}e.style.left=V+"px";e.style.top=b+"px";e.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+c+" M12="+a+" M21="+X+" M22="+T+' sizingMethod="auto expand")';return;}if(W===0){b-=e.offsetHeight*0.5;}else{if(W===90){V+=e.offsetHeight;b-=e.offsetWidth*0.5;}else{if(W===-90){b+=e.offsetWidth*0.5;}else{if(W<0){b-=(U*(e.offsetHeight*0.6));}else{b-=U*(e.offsetHeight*0.6);V+=f*e.offsetHeight;}}}}e.style.left=V+"px";e.style.top=b+"px";e.style.MozTransformOrigin="0 0";e.style.MozTransform="rotate("+W+"deg)";e.style.webkitTransformOrigin="0 0";
e.style.webkitTransform="rotate("+W+"deg)";},setSizeAndPosition:function(S){var T=this.get("axisRenderer"),U=T.get("styles"),W=U.line.weight,X=U.majorTicks,V=X.display,Y=X.length;if(V==="outside"){W+=Y;}else{if(V==="cross"){W+=Y*0.5;}}W+=S;T.set("width",W);},offsetNodeForTick:function(U){var S=this.get("axisRenderer"),W=S.get("styles").majorTicks,T=W.length,V=W.display;if(V==="inside"){U.style.marginLeft=(0-T)+"px";}else{if(V==="cross"){U.style.marginLeft=(0-(T*0.5))+"px";}}}});B.RightAxisLayout=L;function Q(S){Q.superclass.constructor.apply(this,arguments);}Q.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};B.extend(Q,B.Base,{setTickOffsets:function(){var S=this.get("axisRenderer"),W=S.get("styles").majorTicks,U=W.length,T=U*0.5,V=W.display;S.set("leftTickOffset",0);S.set("rightTickOffset",0);switch(V){case"inside":S.set("topTickOffset",U);break;case"outside":S.set("bottomTickOffset",U);break;case"cross":S.set("topTickOffset",T);S.set("bottomTickOffset",T);break;}},setSizeAndPosition:function(){var S=this.get("maxLabelSize"),T=this.get("axisRenderer"),U=T.get("styles"),W=U.line.weight,X=U.majorTicks,V=X.display,Y=X.length;if(V==="outside"){W+=Y;}else{if(V==="cross"){W+=Y*0.5;}}W+=S;T.set("height",W);},getLineStart:function(){var S=this.get("axisRenderer"),T=S.get("styles"),X=T.padding,Y=T.majorTicks,U=Y.length,W=Y.display,V={x:0,y:X.top};if(W==="inside"){V.y+=U;}else{if(W==="cross"){V.y+=U/2;}}return V;},drawTick:function(Y,W){var T=this.get("axisRenderer"),U=T.get("styles"),X=U.padding,V=W.length,Z={x:Y.x,y:X.top},S={x:Y.x,y:V+X.top};T.drawLine(Z,S,W);},getLabelPoint:function(S){var T=this.get("axisRenderer");return{x:S.x,y:S.y+T.get("bottomTickOffset")};},positionLabel:function(g,i){var Z=this.get("axisRenderer"),T=Z.get("styles").label,W=i.x,c=i.y,X=Math.min(90,Math.max(-90,T.rotation)),a=Math.abs(X),e=Math.PI/180,h=parseFloat(parseFloat(Math.sin(a*e)).toFixed(8)),V=parseFloat(parseFloat(Math.cos(a*e)).toFixed(8)),d=V,b=X>0?-h:h,Y=-b,U=d,f=0,S=this.get("maxLabelSize");if(B.UA.ie){d=V;b=X>0?-h:h;Y=-b;U=d;g.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(a===90){W-=g.offsetHeight*0.5;}else{if(X<0){W-=V*g.offsetWidth;W-=h*(g.offsetHeight*0.5);}else{if(X>0){W-=h*(g.offsetHeight*0.5);}else{W-=g.offsetWidth*0.5;}}}g.style.left=W+"px";g.style.top=c+"px";g.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+d+" M12="+b+" M21="+Y+" M22="+U+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(g.offsetHeight,S));return;}if(X===0){W-=g.offsetWidth*0.5;f=g.offsetHeight;}else{if(a===90){f=g.offsetWidth;if(X===90){W+=g.offsetHeight*0.5;}else{c+=f;W-=g.offsetHeight*0.5;}}else{f=(h*g.offsetWidth)+(V*g.offsetHeight);if(X<0){W-=(V*g.offsetWidth)+(h*(g.offsetHeight*0.6));c+=h*g.offsetWidth;}else{W+=h*(g.offsetHeight*0.6);}}}g.style.left=W+"px";g.style.top=c+"px";g.style.MozTransformOrigin="0 0";g.style.MozTransform="rotate("+X+"deg)";g.style.webkitTransformOrigin="0 0";g.style.webkitTransform="rotate("+X+"deg)";this.set("maxLabelSize",Math.max(f,S));},offsetNodeForTick:function(U){var S=this.get("axisRenderer"),W=S.get("styles").majorTicks,T=W.length,V=W.display;if(V==="inside"){U.style.marginTop=(0-T)+"px";}else{if(V==="cross"){U.style.marginTop=(0-(T*0.5))+"px";}}}});B.BottomAxisLayout=Q;function A(S){A.superclass.constructor.apply(this,arguments);}A.ATTRS={axisRenderer:{value:null}};B.extend(A,B.Base,{setTickOffsets:function(){var S=this.get("axisRenderer"),W=S.get("styles").majorTicks,U=W.length,T=U*0.5,V=W.display;S.set("leftTickOffset",0);S.set("rightTickOffset",0);switch(V){case"inside":S.set("bottomTickOffset",U);break;case"outside":S.set("topTickOffset",U);break;case"cross":S.set("topTickOffset",T);S.set("bottomTickOffset",T);break;}},getLineStart:function(){var S=this.get("axisRenderer"),T=S.get("styles"),X=T.padding,Y=T.majorTicks,U=Y.length,W=Y.display,V={x:0,y:X.top};if(W==="outside"){V.y+=U;}else{if(W==="cross"){V.y+=U/2;}}return V;},drawTick:function(Y,W){var T=this.get("axisRenderer"),U=T.get("styles"),X=U.padding,V=W.length,Z={x:Y.x,y:X.top},S={x:Y.x,y:V+X.top};T.drawLine(Z,S,W);},getLabelPoint:function(T){var S=this.get("axisRenderer");return{x:T.x,y:T.y-S.get("topTickOffset")};},positionLabel:function(e,g){var Y=this.get("axisRenderer"),S=Y.get("styles").label,V=g.x,b=g.y,W=Math.max(-90,Math.min(90,S.rotation)),Z=Math.abs(W),d=Math.PI/180,f=parseFloat(parseFloat(Math.sin(Z*d)).toFixed(8)),U=parseFloat(parseFloat(Math.cos(Z*d)).toFixed(8)),c,a,X,T;W=Math.min(90,W);W=Math.max(-90,W);if(B.UA.ie){e.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";c=U;a=W>0?-f:f;X=-a;T=c;if(W===0){V-=e.offsetWidth*0.5;b-=e.offsetHeight;}else{if(Z===90){V-=e.offsetHeight*0.5;b-=e.offsetWidth;}else{if(W>0){V-=(U*e.offsetWidth)+Math.min((f*e.offsetHeight),(W/180*e.offsetHeight));b-=(f*e.offsetWidth)+(U*(e.offsetHeight));}else{V-=f*(e.offsetHeight*0.5);b-=(f*e.offsetWidth)+(U*(e.offsetHeight));}}}e.style.left=V;e.style.top=b;e.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+c+" M12="+a+" M21="+X+" M22="+T+' sizingMethod="auto expand")';return;}if(W===0){V-=e.offsetWidth*0.5;b-=e.offsetHeight;}else{if(W===90){V+=e.offsetHeight*0.5;b-=e.offsetWidth;}else{if(W===-90){V-=e.offsetHeight*0.5;b-=0;}else{if(W<0){V-=(f*(e.offsetHeight*0.6));b-=(U*e.offsetHeight);}else{V-=(U*e.offsetWidth)-(f*(e.offsetHeight*0.6));b-=(f*e.offsetWidth)+(U*e.offsetHeight);}}}}e.style.left=V+"px";e.style.top=b+"px";e.style.MozTransformOrigin="0 0";e.style.MozTransform="rotate("+W+"deg)";e.style.webkitTransformOrigin="0 0";e.style.webkitTransform="rotate("+W+"deg)";},setSizeAndPosition:function(S){var T=this.get("axisRenderer"),U=T.get("styles"),W=U.line.weight,X=U.majorTicks,V=X.display,Y=X.length;if(V==="outside"){W+=Y;}else{if(V==="cross"){W+=Y*0.5;}}W+=S;T.get("node").style.top=S+"px";T.set("height",W);},offsetNodeForTick:function(U){var S=this.get("axisRenderer"),W=S.get("styles").majorTicks,T=W.length,V=W.display;if(V==="inside"){U.style.marginBottom=(0-T)+"px";
}else{if(V==="cross"){U.style.marginBottom=(0-(T*0.5))+"px";}}}});B.TopAxisLayout=A;B.mix(B.AxisRenderer.prototype,{_ui:null,getLayout:function(T){var S;switch(T){case"top":S=new B.TopAxisLayout({axisRenderer:this});break;case"bottom":S=new B.BottomAxisLayout({axisRenderer:this});break;case"left":S=new B.LeftAxisLayout({axisRenderer:this});break;case"right":S=new B.RightAxisLayout({axisRenderer:this});break;}return S;},drawLine:function(U,T,S){var V=this.get("graphic");V.lineStyle(S.weight,S.color,S.alpha);V.moveTo(U.x,U.y);V.lineTo(T.x,T.y);V.end();},_drawAxis:function(){var T=this.get("styles"),c=T.majorTicks,d=c.display!="none",W,b=T.majorUnit,U=this.get("axis"),a,f,X=0,V,Y,Z,g,e=this._ui,S=this.get("graphic");S.clear();e.setTickOffsets();V=this.getLength();Z=e.getLineStart();W=this.getFirstPoint(Z);this.drawLine(Z,this.getLineEnd(W),this.get("styles").line);if(d){e.drawTick(W,c);}a=U.getTotalMajorUnits(b,V);if(a<1){return;}f=V/(a-1);this._createLabelCache();e.set("maxLabelSize",0);for(;X<a;++X){if(d){e.drawTick(W,c);}Y=this.getPosition(W);g=this.getLabel(W,U.getLabelAtPosition(Y,V));e.positionLabel(g,e.getLabelPoint(W));W=this.getNextPoint(W,f);}e.setSizeAndPosition();this._clearLabelCache();if(this.get("overlapGraph")){e.offsetNodeForTick(this.get("node"));}},_labels:null,_labelCache:null,getLabel:function(V,S,W){var U,T=this._labelCache;if(T.length>0){U=T.shift();}else{U=document.createElement("span");}U.innerHTML=S;U.style.display="block";U.style.position="absolute";this.get("node").appendChild(U);this._labels.push(U);return U;},_createLabelCache:function(){if(this._labels){this._labelCache=this._labels.concat();}else{this._labelCache=[];}this._labels=[];},_clearLabelCache:function(){var S=this._labelCache.length,U=0,T,V;for(;U<S;++U){T=V[U];T.parentNode.removeChild(T);}this._labelCache=[];},_calculateSizeByTickLength:true,getLineEnd:function(U){var S=this.get("node").offsetWidth,T=this.get("node").offsetHeight,V=this.get("position");if(V==="top"||V==="bottom"){return{x:S,y:U.y};}else{return{x:U.x,y:T};}},getLength:function(){var T,V=this.get("styles"),W=V.padding,S=this.get("node").offsetWidth,U=this.get("node").offsetHeight,X=this.get("position");if(X==="top"||X==="bottom"){T=S-(W.left+W.right);}else{T=U-(W.top+W.bottom);}return T;},getFirstPoint:function(V){var S=this.get("styles"),W=this.get("position"),U=S.padding,T={x:V.x,y:V.y};if(W==="top"||W==="bottom"){T.x+=U.left;}else{T.y+=U.top;}return T;},getNextPoint:function(S,T){var U=this.get("position");if(U==="top"||U==="bottom"){S.x=S.x+T;}else{S.y=S.y+T;}return S;},getLastPoint:function(){var T=this.get("styles"),U=T.padding,S=this.get("node").offsetWidth,V=this.get("position");if(V==="top"||V==="bottom"){return{x:S-U.right,y:U.top};}else{return{x:U.left,y:U.top};}},getPosition:function(S){var W,U=this.get("node").offsetHeight,T=this.get("styles"),V=T.padding,X=this.get("position");if(X==="left"||X==="right"){W=(U-(V.top+V.bottom))-(S.y-V.top);}else{W=S.x-V.left;}return W;}});},"@VERSION@");