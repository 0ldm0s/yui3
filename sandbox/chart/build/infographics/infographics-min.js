YUI.add("infographics",function(A){function I(J){this._createId();this._keys={};this._data=[];I.superclass.constructor.apply(this,arguments);}I.NAME="baseAxis";I.ATTRS={parent:{lazyAdd:false,value:null},roundingUnit:{getter:function(){return this._roundingUnit;},setter:function(J){this._roundingUnit=J;if(this._roundMinAndMax){this._updateMinAndMax();}return J;}},roundMinAndMax:{getter:function(){return this._roundMinAndMax;},setter:function(J){if(this._roundMinAndMax==J){return J;}this._roundMinAndMax=J;this._updateMinAndMax();}},dataType:{getter:function(){return this._dataType;}},dataProvider:{getter:function(){return this._dataProvider;},setter:function(J){if(J===this._dataProvider){return;}if(this._dataProvider){}J=A.merge(J);this._dataProvider={data:J.data.concat()};this._dataClone=this._dataProvider.data.concat();return J;},lazyAdd:false},dataMaximum:{getter:function(){return this._dataMaximum;}},maximum:{getter:function(){if(this._autoMax||!this._setMaximum){return this._dataMaximum;}return this._setMaximum;},setter:function(J){this._setMaximum=J;}},dataMinimum:{getter:function(){return this._dataMinimum;}},minimum:{getter:function(){if(this._autoMin||!this._setMinimum){return this._dataMinimum;}return this._setMinimum;},setter:function(J){this._setMinimum=J;return J;}},autoMax:{getter:function(){return this._autoMax;},setter:function(J){this._autoMax=J;}},autoMin:{getter:function(){return this._autoMin;},setter:function(J){this._autoMin=J;}},data:{getter:function(){return this._data;}},keys:{getter:function(){return this._keys;}}};A.extend(I,A.Base,{_createId:function(){this._id=A.guid(this.GUID);},_roundingUnit:NaN,_roundMinAndMax:true,_dataType:null,_dataProvider:null,_dataClone:null,_setMaximum:null,_dataMaximum:null,_autoMax:true,_setMinimum:null,_dataMinimum:null,_autoMin:true,_data:null,_keys:null,_axisReady:false,addKey:function(M){if(this._keys.hasOwnProperty(M)){return;}this._dataClone=this._dataProvider.data.concat();var L=this._keys,J={},K={axis:this};this._setDataByKey(M);J[M]=L[M].concat();this._updateMinAndMax();K.keysAdded=J;if(!this._dataReady){this._dataReady=true;this.publish("axisReady",{fireOnce:true});this.fire("axisReady",K);}else{this.fire("axisUpdate",K);}},_setDataByKey:function(N){var M,O,K=[],L=this._dataClone.concat(),J=L.length;for(M=0;M<J;++M){O=L[M];K[M]=O[N];}this._keys[N]=K;this._data=this._data.concat(K);},removeKey:function(P){if(!this._keys.hasOwnProperty(P)){return;}var K,Q,J={},M=[],L={},O=this._keys,N={};L[P]=O[P].concat();for(K in O){if(O.hasOwnProperty(K)){if(K==P){continue;}Q=O[K];M=M.concat(Q);J[K]=Q;}}O=J;this._data=M;this._updateMinAndMax();N.keysRemoved=L;this.fire("axisUpdate",N);},getKeyValueAt:function(K,J){var M=NaN,L=this.keys;if(L[K]&&L[K][J]){M=L[K][J];}return M;},getDataByKey:function(K){var J=this._keys;if(J[K]){return J[K];}return null;},_updateMinAndMax:function(){var O=this.get("data"),K=0,N=0,J,L,M;if(O&&O.length&&O.length>0){J=O.length;K=N=O[0];if(J>1){for(M=1;M<J;M++){L=O[M];if(isNaN(L)){continue;}K=Math.max(L,K);N=Math.min(L,N);}}}this._dataMaximum=K;this._dataMinimum=N;},newDataUpdateHandler:function(){var J,L=this._keys,K={};this._data=[];this._dataClone=this._dataProvider.data.concat();for(J in L){if(L.hasOwnProperty(J)){L[J]=this._setDataByKey(J);this._data=this._data.concat(L[J]);}}this._updateMinAndMax();K.keysAdded=L;this.fire("axisUpdate",K);},_keyDataUpdateHandler:function(){var J=false,M={},N=M.keysAdded,O=M.keysRemoved,L=this._keys,K;for(K in L){if(L.hasOwnProperty(K)){if(N.hasOwnProperty(K)){J=true;L[K]=L[K];}if(O.hasOwnProperty(K)){J=true;L[K]=[];}}}if(!J){return;}this._data=[];for(K in L){if(L.hasOwnProperty(K)){this._data=this._data.concat(L[K]);}}this._updateMinAndMax();M.keysAdded=N;M.keysRemoved=O;this.fire("axisUpdate",M);}});A.BaseAxis=I;function G(J){G.superclass.constructor.apply(this,arguments);}G.NAME="numericAxis";G.ATTRS={alwaysShowZero:{getter:function(){return this._alwaysShowZero;},setter:function(J){if(J==this._alwaysShowZero){return;}this._alwaysShowZero=J;this._updateMinAndMax();return J;}}};A.extend(G,A.BaseAxis,{_dataType:"numeric",_alwaysShowZero:true,_updateMinAndMax:function(){var O=this.get("data"),K=0,N=0,J,L,M,P="";if(O&&O.length&&O.length>0){J=O.length;K=N=O[0];if(J>1){for(M=1;M<J;M++){L=O[M];if(isNaN(L)){continue;}K=Math.max(L,K);N=Math.min(L,N);P+="\n"+L;}}}if(this._roundMinAndMax&&!isNaN(this._roundingUnit)){this._dataMaximum=this._roundUpToNearest(K,this._roundingUnit);this._dataMinimum=this._roundDownToNearest(N,this._roundingUnit);}else{this._dataMaximum=K;this._dataMinimum=N;}if(this._alwaysShowZero){this._dataMinimum=Math.min(0,this._dataMinimum);}},_roundToNearest:function(L,K){K=K||1;if(K===0){return L;}var J=Math.round(this._roundToPrecision(L/K,10))*K;return this._roundToPrecision(J,10);},_roundUpToNearest:function(K,J){J=J||1;if(J===0){return K;}return Math.ceil(this._roundToPrecision(K/J,10))*J;},_roundDownToNearest:function(K,J){J=J||1;if(J===0){return K;}return Math.floor(this._roundToPrecision(K/J,10))*J;},_roundToPrecision:function(L,J){J=J||0;var K=Math.pow(10,J);return Math.round(K*L)/K;}});A.NumericAxis=G;function E(J){E.superclass.constructor.apply(this,arguments);}E.NAME="timeAxis";E.ATTRS={maximum:{getter:function(){if(this._autoMax||this._setMaximum===null){return this._getNumber(this._dataMaximum);}return this._setMaximum;},setter:function(J){this._setMaximum=this._getNumber(J);this.fire("dataChange");}},minimum:{getter:function(){if(this._autoMin||this._setMinimum===null){return this._dataMinimum;}return this._setMinimum;},setter:function(J){this._setMinimum=this._getNumber(J);this.fire("dataChange");}}};A.extend(E,A.BaseAxis,{_dataType:"time",_setDataByKey:function(N){var O,K=[],M=this._dataClone.concat(),L,P,J=M.length;for(L=0;L<J;++L){O=M[L][N];if(A.Lang.isDate(O)){P=O.valueOf();}else{if(!A.Lang.isNumber(O)){P=new Date(O.toString()).valueOf();}else{P=O;}}K[L]=P;}this._keys[N]=K;this._data=this._data.concat(K);},_getNumber:function(J){if(A.Lang.isDate(J)){J=J.valueOf();
}else{if(!A.Lang.isNumber(J)){J=new Date(J.toString()).valueOf();}}return J;},updateMaxByPosition:function(L,J){var K=this._dataMaximum-this._dataMinimum,M=(L/J)*K;M+=this._dataMinimum;this.set("maximum",M);},updateMinByPosition:function(L,J){var K=this._dataMaximum-this._dataMinimum,M=(L/J)*K;M+=this._dataMinimum;this.set("minimum",M);},updateMinAndMaxByPosition:function(L,N,K){var M=L/K,J=N/K;M+=this._dataMinimum;J+=this._dataMaximum;this._setMaximum=this._getNumber(J);this._setMinimum=this._getNumber(M);this.fire("dataChange");}});A.TimeAxis=E;function B(J){B.superclass.constructor.apply(this,arguments);}B.NAME="categoryAxis";A.extend(B,A.BaseAxis,{_dataType:"category",_getKeyValueAt:function(K,J){var L=NaN;if(this.keys[K]){L=J;}return L;},_updateMinAndMax:function(){this._dataMaximum=Math.max(this._data.length-1,0);this._dataMinimum=0;},_setDataByKey:function(N){var M,O,K=[],P=[],L=this._dataClone.concat(),J=L.length;for(M=0;M<J;++M){O=L[M];K[M]=M;P[M]=O[N];}this._keys[N]=K;this._data=this._data.concat(P);}});A.CategoryAxis=B;function F(J){this._createId();F.superclass.constructor.apply(this,arguments);}F.NAME="renderer";F.ATTRS={width:{getter:function(){return this._width;},setter:function(J){this._width=J;return J;}},height:{getter:function(){return this._height;},setter:function(J){this._height=J;return J;}},rendering:{getter:function(){return this._rendering;},setter:function(J){this._rendering=J;return J;}},previousWidth:{getter:function(){return this._previousWidth;},validator:function(J){return A.Lang.isNumber(J)&&(this._previousWidth!==J);},setter:function(J){this._previousWidth=J;return J;}},previousHeight:{getter:function(){return this._previousHeight;},validator:function(J){return A.Lang.isNumber(J)&&(this._previousHeight!==J);},setter:function(J){this._previousHeight=J;return J;}},styles:{value:{},getter:function(){this._styles=this._styles||this._getDefaultStyles();return this._styles;},setter:function(J){this._styles=this._setStyles(J);return this._styles;},validator:function(J){return A.Lang.isObject(J);}}};A.extend(F,A.Base,{_createId:function(){this._id=A.guid(this.GUID);},_width:0,_height:0,_styles:null,_rendering:false,_previousWidth:0,_previousHeight:0,_hasFlag:false,_hasLaterFlag:false,_renderFlags:{},_laterFlags:{},_styleObjHash:null,_setStyles:function(K){var J=this.get("styles");return this._mergeStyles(K,J);},_mergeStyles:function(K,J){A.Object.each(K,function(N,M,L){if(J.hasOwnProperty(M)&&A.Lang.isObject(N)){J[M]=this._mergeStyles(N,J[M]);}else{J[M]=N;}},this);return J;},callRender:function(){if(!this.get("rendering")){this.set("rendering",true);this.render();this.clearFlags();this._updateRenderStatus();}},_updateRenderStatus:function(){this.set("rendering",false);this._dispatchRenderEvents();},_dispatchRenderEvents:function(){var J={type:"renderComplete"};J.changeFlags=this._renderFlags;this.fire(J.type,J);if(this._hasFlag){this.callRender();}},setFlag:function(J){if(!this._hasFlag){this._hasFlag=true;}this._renderFlags[J]=true;},setLaterFlag:function(J){if(!this._hasLaterFlag){this._hasLaterFlag=true;}this._laterFlags[J]=true;},setFlags:function(L){var K=0,J=L.length;for(;K<J;K++){this.setFlag(L[K]);}},clearFlags:function(){var J;this._renderFlags={};this._hasFlag=false;for(J in this._laterFlags){if(this._laterFlags.hasOwnProperty(J)){this._renderFlags[J]=this._laterFlags[J];this._hasFlag=true;}}this._hasLaterFlag=false;this._laterFlags={};},checkFlag:function(J){return this._renderFlags[J];},checkFlags:function(J){var L=false,K;for(K in J){if(this._renderFlags[K]){L=true;break;}}return L;},_getDefaultStyles:function(){return{};}});A.Renderer=F;function C(J){C.superclass.constructor.apply(this,arguments);}C.NAME="cartesianSeries";C.ATTRS={parent:{lazyAdd:false,getter:function(){return this._parent;},setter:function(J){if(A.Lang.isString(J)){this._parent=document.getElementById(J);}else{this._parent=J;}this._setCanvas();return this._parent;}},type:{getter:function(){return this._type;},setter:function(J){this._type=J;return J;}},order:{getter:function(){return this._order;},setter:function(J){this._order=J;return J;}},xcoords:{getter:function(){return this._xcoords;},setter:function(J){this._xcoords=J;return J;}},ycoords:{getter:function(){return this._ycoords;},setter:function(J){this._ycoords=J;return J;}},graph:{getter:function(){return this._graph;},setter:function(J){this._graph=J;return J;}},xAxis:{getter:function(){return this._xAxis;},validator:function(J){return J!==this._xAxis;},setter:function(J){if(this._xAxis){}this._xAxis=J;this._xAxis.on("axisReady",A.bind(this.xAxisChangeHandler,this));this._xAxis.on("dataChange",A.bind(this.xAxisChangeHandler,this));this.setFlag("axisDataChange");return J;},lazyAdd:false},yAxis:{getter:function(){return this._yAxis;},validator:function(J){return J!==this._yAxis;},setter:function(J){if(this._yAxis){}this._yAxis=J;this._yAxis.on("axisReady",A.bind(this.yAxisChangeHandler,this));this.setFlag("axisDataChange");return J;},lazyAdd:false},xKey:{getter:function(){return this._xKey;},validator:function(J){return J!==this._xKey;},setter:function(J){this._xKey=J;this.setFlag("xKeyChange");return J;}},yKey:{getter:function(){return this._yKey;},validator:function(J){return J!==this._yKey;},setter:function(J){this._yKey=J;this.setFlag("yKeyChange");return J;}},graphic:{getter:function(){return this._graphic;},setter:function(J){this._graphic=J;return J;}}};A.extend(C,A.Renderer,{_setCanvas:function(){this._graphic=new A.Graphic();this._graphic.render(this.get("parent"));},_parent:null,_graphic:null,xAxisChangeHandler:function(J){if(this.get("xKey")){this.setFlag("axisDataChange");}if(this.get("yKey")){this.callRender();}},yAxisChangeHandler:function(J){if(this.get("yKey")){this.setFlag("axisDataChange");}if(this.get("xKey")){this.callRender();}},_type:"cartesian",_order:NaN,_xcoords:[],_xKey:null,_ycoords:[],_graph:null,_xAxis:null,_yAxis:null,_yKey:null,_xMin:NaN,_xMax:NaN,_yMin:NaN,_yMax:NaN,_xCoords:[],setAreaData:function(){var e,d,R=this.get("parent"),S=R.offsetWidth,Z=R.offsetHeight,U=this.get("styles").padding,W=U.left,c=U.top,P=S-(W+U.right),Y=Z-(c+U.bottom),V=[],g=[],f=this.get("xAxis").get("maximum"),b=this.get("xAxis").get("minimum"),K=this.get("yAxis").get("maximum"),J=this.get("yAxis").get("minimum"),L=this.get("xKey"),O=this.get("yKey"),N=P/(f-b),T=Y/(K-J),M=this.get("xAxis").getDataByKey(L),a=this.get("yAxis").getDataByKey(O),Q=M.length,X;
this._leftOrigin=Math.round(((0-b)*N)+W);this._bottomOrigin=Math.round((Y+c)-(0-J)*T);for(X=0;X<Q;++X){e=Math.round((((M[X]-b)*N)+W));d=Math.round(((Y+c)-(a[X]-J)*T));V.push(e);g.push(d);}this.set("xcoords",V);this.set("ycoords",g);},_leftOrigin:null,_bottomOrigin:null,drawGraph:function(){this.drawMarkers();},render:function(){var K=this.checkDataFlags(),M=this.checkResizeFlags(),Q=this.checkStyleFlags(),O=this.get("parent"),J=O.offsetWidth,N=O.offsetHeight,P=this.get("xAxis"),L=this.get("yAxis");if(K){this._xMin=P.get("minimum");this._xMax=P.get("maximum");this._yMin=L.get("minimum");this._yMax=L.get("maximum");}if((M||K)&&(!isNaN(J)&&!isNaN(N)&&J>0&&N>0)){this.setAreaData();if(this.get("xcoords")&&this.get("ycoords")){this.setLaterFlag("drawGraph");}return;}if(this.checkFlag("drawGraph")||(Q&&this._xcoords&&this._ycoords)){this.drawGraph();}},drawMarkers:function(){if(this._xcoords.length<1){return;}var S=this.get("graphic"),b=this.get("styles").marker,Q=b.width,a=b.height,N=b.fillColor,M=b.fillAlpha,R=b.fillType||"solid",d=b.borderWidth,J=b.borderColor,V=b.borderAlpha||1,P=b.colors,O=b.alpha||[],U=b.ratios||[],X=b.rotation||0,T=this._xcoords,c=this._ycoords,L=b.func||"drawCircle",Y=0,Z=T.length,W=c[0],K;for(;Y<Z;++Y){W=c[Y];K=T[Y];if(d>0){S.lineStyle(d,J,V);}if(R==="solid"){S.beginFill(N,M);}else{S.beginGradientFill(R,P,O,U,{rotation:X,width:Q,height:a});}this.drawMarker(S,L,K,W,Q,a);S.endFill();}},drawMarker:function(O,L,N,M,J,K){if(L==="drawCircle"){O.drawCircle(N,M,J/2);}else{N-=J/2;M-=K/2;O[L].call(O,N,M,J,K);}},checkDataFlags:function(){return this.checkFlags({axisDataChange:true,xKeyChange:true,yKeyChange:true});},checkResizeFlags:function(){return this.checkFlags({padding:true,resize:true});},checkStyleFlags:function(){return false;},_getDefaultStyles:function(){return{padding:{top:0,left:0,right:0,bottom:0}};}});A.CartesianSeries=C;function D(J){D.superclass.constructor.apply(this,arguments);}D.name="lineSeries";D.ATTRS={type:{getter:function(){return this._type;}}};A.extend(D,A.CartesianSeries,{_type:"line",checkStyleFlags:function(){return this.checkFlags({color:true,weight:true,alpha:true,type:true,marker:true,dashLength:true,gapLength:true,connectDiscontinuousPoints:true,discontinuousType:true,discontinuousDashLength:true,discontinuousGapLength:true});},drawGraph:function(){var J=this.get("styles");if(J.showLines){this.drawLines();}if(J.showMarkers){this.drawMarkers();}},drawLines:function(){if(this._xcoords.length<1){return;}var M=this.get("parent"),b=M.offsetHeight,S=this._xcoords,d=this._ycoords,V=S.length,L=S[0],K=d[0],c=L,Z=K,Y,W,U,O=this.get("styles"),X=O.lineType,a=O.dashLength,Q=O.gapSpace,P=O.connectDiscontinuousPoints,J=O.discontinuousType,N=O.discontinuousDashLength,T=O.discontinuousGapSpace,R=this.get("graphic");R.clear();R.lineStyle(O.weight,O.color);R.beginFill(O.color,0.5);R.moveTo(L,K);for(U=1;U<V;U=++U){Y=S[U];W=d[U];if(isNaN(W)){c=Y;Z=W;continue;}if(c==L){if(X!="dashed"){R.lineTo(Y,W);}else{this.drawDashedLine(c,Z,Y,W,a,Q);}}else{if(!P){R.moveTo(Y,W);}else{if(J!="solid"){this.drawDashedLine(c,Z,Y,W,N,T);}else{R.lineTo(Y,W);}}}L=c=Y;K=Z=W;}R.lineTo(L,b);R.lineTo(0,b);R.lineTo(0,d[0]);R.endFill();},drawDashedLine:function(U,Y,K,W,M,L){M=M||10;L=L||10;var O=M+L,R=K-U,V=W-Y,X=Math.sqrt(Math.pow(R,2)+Math.pow(V,2)),P=Math.floor(Math.abs(X/O)),N=Math.atan2(V,R),T=U,S=Y,Q,J=this.get("graphic");R=Math.cos(N)*O;V=Math.sin(N)*O;for(Q=0;Q<P;++Q){J.moveTo(T,S);J.lineTo(T+Math.cos(N)*M,S+Math.sin(N)*M);T+=R;S+=V;}J.moveTo(T,S);X=Math.sqrt((K-T)*(K-T)+(W-S)*(W-S));if(X>M){J.lineTo(T+Math.cos(N)*M,S+Math.sin(N)*M);}else{if(X>0){J.lineTo(T+Math.cos(N)*X,S+Math.sin(N)*X);}}J.moveTo(K,W);},_getDefaultStyles:function(){return{color:"#000000",alpha:1,weight:1,marker:{fillColor:"#000000",alpha:1,weight:1,width:6,height:6},showMarkers:false,showLines:true,lineType:"solid",dashLength:10,gapSpace:10,connectDiscontinuousPoint:true,discontinuousType:"dashed",discontinuousDashLength:10,discontinuousGapSpace:10,padding:{top:0,left:0,right:0,bottom:0}};}});A.LineSeries=D;function H(J){H.superclass.constructor.apply(this,arguments);}H.name="columnSeries";H.ATTRS={type:{getter:function(){return this._type;}}};A.extend(H,A.CartesianSeries,{_type:"column",drawMarker:function(P,M,O,N,J,L){var K=Math.min(this.get("parent").offsetHeight,this._bottomOrigin);O-=J/2;L=this._bottomOrigin-N;P.drawRect(O,N,J,L);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});A.ColumnSeries=H;},"@VERSION@");