YUI.add("infographics",function(H){function E(I){this._createId();this._keys={};this._data=[];E.superclass.constructor.apply(this,arguments);}E.NAME="baseAxis";E.ATTRS={parent:{lazyAdd:false,value:null},roundingUnit:{getter:function(){return this._roundingUnit;},setter:function(I){this._roundingUnit=I;if(this._roundMinAndMax){this._updateMinAndMax();}return I;}},roundMinAndMax:{getter:function(){return this._roundMinAndMax;},setter:function(I){if(this._roundMinAndMax==I){return I;}this._roundMinAndMax=I;this._updateMinAndMax();}},dataType:{getter:function(){return this._dataType;}},dataProvider:{getter:function(){return this._dataProvider;},setter:function(I){if(I===this._dataProvider){return;}if(this._dataProvider){}I=H.merge(I);this._dataProvider={data:I.data.concat()};this._dataClone=this._dataProvider.data.concat();return I;},lazyAdd:false},dataMaximum:{getter:function(){return this._dataMaximum;}},maximum:{getter:function(){if(this._autoMax||!this._setMaximum){return this._dataMaximum;}return this._setMaximum;},setter:function(I){this._setMaximum=I;}},dataMinimum:{getter:function(){return this._dataMinimum;}},minimum:{getter:function(){if(this._autoMin||!this._setMinimum){return this._dataMinimum;}return this._setMinimum;},setter:function(I){this._setMinimum=I;return I;}},autoMax:{getter:function(){return this._autoMax;},setter:function(I){this._autoMax=I;}},autoMin:{getter:function(){return this._autoMin;},setter:function(I){this._autoMin=I;}},data:{getter:function(){return this._data;}},keys:{getter:function(){return this._keys;}}};H.extend(E,H.Base,{_createId:function(){this._id=H.guid(this.GUID);},_roundingUnit:NaN,_roundMinAndMax:true,_dataType:null,_dataProvider:null,_dataClone:null,_setMaximum:null,_dataMaximum:null,_autoMax:true,_setMinimum:null,_dataMinimum:null,_autoMin:true,_data:null,_keys:null,_axisReady:false,addKey:function(L){if(this._keys.hasOwnProperty(L)){return;}this._dataClone=this._dataProvider.data.concat();var K=this._keys,I={},J={axis:this};this._setDataByKey(L);I[L]=K[L].concat();this._updateMinAndMax();J.keysAdded=I;if(!this._dataReady){this._dataReady=true;this.publish("axisReady",{fireOnce:true});this.fire("axisReady",J);}else{this.fire("axisUpdate",J);}},_setDataByKey:function(M){var L,N,J=[],K=this._dataClone.concat(),I=K.length;for(L=0;L<I;++L){N=K[L];J[L]=N[M];}this._keys[M]=J;this._data=this._data.concat(J);},removeKey:function(O){if(!this._keys.hasOwnProperty(O)){return;}var J,P,I={},L=[],K={},N=this._keys,M={};K[O]=N[O].concat();for(J in N){if(N.hasOwnProperty(J)){if(J==O){continue;}P=N[J];L=L.concat(P);I[J]=P;}}N=I;this._data=L;this._updateMinAndMax();M.keysRemoved=K;this.fire("axisUpdate",M);},getKeyValueAt:function(J,I){var L=NaN,K=this.keys;if(K[J]&&K[J][I]){L=K[J][I];}return L;},getDataByKey:function(J){var I=this._keys;if(I[J]){return I[J];}return null;},_updateMinAndMax:function(){var N=this.get("data"),J=0,M=0,I,K,L;if(N&&N.length&&N.length>0){I=N.length;J=M=N[0];if(I>1){for(L=1;L<I;L++){K=N[L];if(isNaN(K)){continue;}J=Math.max(K,J);M=Math.min(K,M);}}}this._dataMaximum=J;this._dataMinimum=M;},newDataUpdateHandler:function(){var I,K=this._keys,J={};this._data=[];this._dataClone=this._dataProvider.data.concat();for(I in K){if(K.hasOwnProperty(I)){K[I]=this._setDataByKey(I);this._data=this._data.concat(K[I]);}}this._updateMinAndMax();J.keysAdded=K;this.fire("axisUpdate",J);},_keyDataUpdateHandler:function(){var I=false,L={},M=L.keysAdded,N=L.keysRemoved,K=this._keys,J;for(J in K){if(K.hasOwnProperty(J)){if(M.hasOwnProperty(J)){I=true;K[J]=K[J];}if(N.hasOwnProperty(J)){I=true;K[J]=[];}}}if(!I){return;}this._data=[];for(J in K){if(K.hasOwnProperty(J)){this._data=this._data.concat(K[J]);}}this._updateMinAndMax();L.keysAdded=M;L.keysRemoved=N;this.fire("axisUpdate",L);}});H.BaseAxis=E;function A(I){A.superclass.constructor.apply(this,arguments);}A.NAME="numericAxis";A.ATTRS={alwaysShowZero:{getter:function(){return this._alwaysShowZero;},setter:function(I){if(I==this._alwaysShowZero){return;}this._alwaysShowZero=I;this._updateMinAndMax();return I;}}};H.extend(A,H.BaseAxis,{_dataType:"numeric",_alwaysShowZero:true,_updateMinAndMax:function(){var N=this.get("data"),J=0,M=0,I,K,L,O="";if(N&&N.length&&N.length>0){I=N.length;J=M=N[0];if(I>1){for(L=1;L<I;L++){K=N[L];if(isNaN(K)){continue;}J=Math.max(K,J);M=Math.min(K,M);O+="\n"+K;}}}if(this._roundMinAndMax&&!isNaN(this._roundingUnit)){this._dataMaximum=this._roundUpToNearest(J,this._roundingUnit);this._dataMinimum=this._roundDownToNearest(M,this._roundingUnit);}else{this._dataMaximum=J;this._dataMinimum=M;}if(this._alwaysShowZero){this._dataMinimum=Math.min(0,this._dataMinimum);}},_roundToNearest:function(K,J){J=J||1;if(J===0){return K;}var I=Math.round(this._roundToPrecision(K/J,10))*J;return this._roundToPrecision(I,10);},_roundUpToNearest:function(J,I){I=I||1;if(I===0){return J;}return Math.ceil(this._roundToPrecision(J/I,10))*I;},_roundDownToNearest:function(J,I){I=I||1;if(I===0){return J;}return Math.floor(this._roundToPrecision(J/I,10))*I;},_roundToPrecision:function(K,I){I=I||0;var J=Math.pow(10,I);return Math.round(J*K)/J;}});H.NumericAxis=A;function D(I){D.superclass.constructor.apply(this,arguments);}D.NAME="timeAxis";D.ATTRS={maximum:{getter:function(){if(this._autoMax||this._setMaximum===null){return this._getNumber(this._dataMaximum);}return this._setMaximum;},setter:function(I){this._setMaximum=this._getNumber(I);this.fire("dataChange");}},minimum:{getter:function(){if(this._autoMin||this._setMinimum===null){return this._dataMinimum;}return this._setMinimum;},setter:function(I){this._setMinimum=this._getNumber(I);this.fire("dataChange");}}};H.extend(D,H.BaseAxis,{_dataType:"time",_setDataByKey:function(M){var N,J=[],L=this._dataClone.concat(),K,O,I=L.length;for(K=0;K<I;++K){N=L[K][M];if(H.Lang.isDate(N)){O=N.valueOf();}else{if(!H.Lang.isNumber(N)){O=new Date(N.toString()).valueOf();}else{O=N;}}J[K]=O;}this._keys[M]=J;this._data=this._data.concat(J);},_getNumber:function(I){if(H.Lang.isDate(I)){I=I.valueOf();
}else{if(!H.Lang.isNumber(I)){I=new Date(I.toString()).valueOf();}}return I;},updateMaxByPosition:function(K,I){var J=this._dataMaximum-this._dataMinimum,L=(K/I)*J;L+=this._dataMinimum;this.set("maximum",L);},updateMinByPosition:function(K,I){var J=this._dataMaximum-this._dataMinimum,L=(K/I)*J;L+=this._dataMinimum;this.set("minimum",L);},updateMinAndMaxByPosition:function(K,M,J){var L=K/J,I=M/J;L+=this._dataMinimum;I+=this._dataMaximum;this._setMaximum=this._getNumber(I);this._setMinimum=this._getNumber(L);this.fire("dataChange");}});H.TimeAxis=D;function G(I){G.superclass.constructor.apply(this,arguments);}G.NAME="categoryAxis";H.extend(G,H.BaseAxis,{_dataType:"category",_getKeyValueAt:function(J,I){var K=NaN;if(this.keys[J]){K=I;}return K;},_updateMinAndMax:function(){this._dataMaximum=Math.max(this.data.length-1,0);this._dataMinimum=0;},_setDataByKey:function(M){var L,N,J=[],O=[],K=this._dataClone.concat(),I=K.length;for(L=0;L<I;++L){N=K[L];J[L]=L;O[L]=N[M];}this._keys[M]=J;this._data=this._data.concat(O);}});H.CategoryAxis=G;function C(I){this._createId();C.superclass.constructor.apply(this,arguments);}C.NAME="renderer";C.ATTRS={width:{getter:function(){return this._width;},setter:function(I){this._width=I;return I;}},height:{getter:function(){return this._height;},setter:function(I){this._height=I;return I;}},rendering:{getter:function(){return this._rendering;},setter:function(I){this._rendering=I;return I;}},previousWidth:{getter:function(){return this._previousWidth;},validator:function(I){return H.Lang.isNumber(I)&&(this._previousWidth!==I);},setter:function(I){this._previousWidth=I;return I;}},previousHeight:{getter:function(){return this._previousHeight;},validator:function(I){return H.Lang.isNumber(I)&&(this._previousHeight!==I);},setter:function(I){this._previousHeight=I;return I;}},styles:{value:{},lazyAdd:false,getter:function(){return this._styles;},setter:function(I){this._styles=this._setStyles(I);return this._styles;},validator:function(I){return H.Lang.isObject(I);}}};H.extend(C,H.Base,{_createId:function(){this._id=H.guid(this.GUID);},_width:0,_height:0,_styles:null,_rendering:false,_previousWidth:0,_previousHeight:0,_hasFlag:false,_hasLaterFlag:false,_renderFlags:{},_laterFlags:{},_styleObjHash:null,_setStyles:function(J){var I=this.get("styles")||{};return this._mergeStyles(J,I);},_mergeStyles:function(J,I){H.Object.each(J,function(M,L,K){if(I.hasOwnProperty(L)&&H.Lang.isObject(M)){I[L]=this._mergeStyles(M,I[L]);}else{I[L]=M;}},this);return I;},callRender:function(){if(!this.get("rendering")){this.set("rendering",true);this.render();this.clearFlags();this._updateRenderStatus();}},_updateRenderStatus:function(){this.set("rendering",false);this._dispatchRenderEvents();},_dispatchRenderEvents:function(){var I={type:"renderComplete"};I.changeFlags=this._renderFlags;this.fire(I.type,I);if(this._hasFlag){this.callRender();}},setFlag:function(I){if(!this._hasFlag){this._hasFlag=true;}this._renderFlags[I]=true;},setLaterFlag:function(I){if(!this._hasLaterFlag){this._hasLaterFlag=true;}this._laterFlags[I]=true;},setFlags:function(K){var J=0,I=K.length;for(;J<I;J++){this.setFlag(K[J]);}},clearFlags:function(){var I;this._renderFlags={};this._hasFlag=false;for(I in this._laterFlags){if(this._laterFlags.hasOwnProperty(I)){this._renderFlags[I]=this._laterFlags[I];this._hasFlag=true;}}this._hasLaterFlag=false;this._laterFlags={};},checkFlag:function(I){return this._renderFlags[I];},checkFlags:function(I){var K=false,J;for(J in I){if(this._renderFlags[J]){K=true;break;}}return K;}});H.Renderer=C;function F(I){F.superclass.constructor.apply(this,arguments);}F.NAME="cartesianSeries";F.ATTRS={parent:{lazyAdd:false,getter:function(){return this._parent;},setter:function(I){if(H.Lang.isString(I)){this._parent=document.getElementById(I);}else{this._parent=I;}this._setCanvas();return this._parent;}},type:{getter:function(){return this._type;},setter:function(I){this._type=I;return I;}},order:{getter:function(){return this._order;},setter:function(I){this._order=I;return I;}},xcoords:{getter:function(){return this._xcoords;},setter:function(I){this._xcoords=I;return I;}},ycoords:{getter:function(){return this._ycoords;},setter:function(I){this._ycoords=I;return I;}},graph:{getter:function(){return this._graph;},setter:function(I){this._graph=I;return I;}},xAxis:{getter:function(){return this._xAxis;},validator:function(I){return I!==this._xAxis;},setter:function(I){if(this._xAxis){}this._xAxis=I;this._xAxis.on("axisReady",H.bind(this.xAxisChangeHandler,this));this._xAxis.on("dataChange",H.bind(this.xAxisChangeHandler,this));this.setFlag("axisDataChange");return I;},lazyAdd:false},yAxis:{getter:function(){return this._yAxis;},validator:function(I){return I!==this._yAxis;},setter:function(I){if(this._yAxis){}this._yAxis=I;this._yAxis.on("axisReady",H.bind(this.yAxisChangeHandler,this));this.setFlag("axisDataChange");return I;},lazyAdd:false},xKey:{getter:function(){return this._xKey;},validator:function(I){return I!==this._xKey;},setter:function(I){this._xKey=I;this.setFlag("xKeyChange");return I;}},yKey:{getter:function(){return this._yKey;},validator:function(I){return I!==this._yKey;},setter:function(I){this._yKey=I;this.setFlag("yKeyChange");return I;}},graphic:{getter:function(){return this._graphic;},setter:function(I){this._graphic=I;return I;}}};H.extend(F,H.Renderer,{_setCanvas:function(){this._graphic=new H.Graphic();this._graphic.render(this.get("parent"));},_parent:null,_styles:{padding:{top:0,left:0,right:0,bottom:0}},_graphic:null,xAxisChangeHandler:function(I){if(this.get("xKey")){this.setFlag("axisDataChange");}if(this.get("yKey")){this.callRender();}},yAxisChangeHandler:function(I){if(this.get("yKey")){this.setFlag("axisDataChange");}if(this.get("xKey")){this.callRender();}},_type:"cartesian",_order:NaN,_xcoords:[],_xKey:null,_ycoords:[],_graph:null,_xAxis:null,_yAxis:null,_yKey:null,_xMin:NaN,_xMax:NaN,_yMin:NaN,_yMax:NaN,_xCoords:[],setAreaData:function(){var d,c,Q=this.get("parent"),R=Q.offsetWidth,Y=Q.offsetHeight,T=this.get("styles").padding,V=T.left,b=T.top,O=R-(V+T.right),X=Y-(b+T.bottom),U=[],f=[],e=this.get("xAxis").get("maximum"),a=this.get("xAxis").get("minimum"),J=this.get("yAxis").get("maximum"),I=this.get("yAxis").get("minimum"),K=this.get("xKey"),N=this.get("yKey"),M=O/(e-a),S=X/(J-I),L=this.get("xAxis").getDataByKey(K),Z=this.get("yAxis").getDataByKey(N),P=L.length,W;
for(W=0;W<P;++W){d=Math.round((((L[W]-a)*M)+V));c=Math.round(((X+b)-(Z[W]-I)*S));U.push(d);f.push(c);}this.set("xcoords",U);this.set("ycoords",f);},drawGraph:function(){},render:function(){var J=this.checkDataFlags(),L=this.checkResizeFlags(),P=this.checkStyleFlags(),N=this.get("parent"),I=N.offsetWidth,M=N.offsetHeight,O=this.get("xAxis"),K=this.get("yAxis");if(J){this._xMin=O.get("minimum");this._xMax=O.get("maximum");this._yMin=K.get("minimum");this._yMax=K.get("maximum");}if((L||J)&&(!isNaN(I)&&!isNaN(M)&&I>0&&M>0)){this.setAreaData();if(this.get("xcoords")&&this.get("ycoords")){this.setLaterFlag("drawGraph");}return;}if(this.checkFlag("drawGraph")||(P&&this._xcoords&&this._ycoords)){this.drawGraph();}},checkDataFlags:function(){return this.checkFlags({axisDataChange:true,xKeyChange:true,yKeyChange:true});},checkResizeFlags:function(){return this.checkFlags({padding:true,resize:true});},checkStyleFlags:function(){return false;}});H.CartesianSeries=F;function B(I){B.superclass.constructor.apply(this,arguments);}B.name="lineSeries";B.ATTRS={type:{getter:function(){return this._type;}}};H.extend(B,H.CartesianSeries,{_styles:{color:"#000000",alpha:1,weight:1,marker:{fillColor:"#000000",alpha:1,weight:1},showMarkers:false,showLines:true,lineType:"solid",dashLength:10,gapSpace:10,connectDiscontinuousPoint:true,discontinuousType:"dashed",discontinuousDashLength:10,discontinuousGapSpace:10,padding:{top:0,left:0,right:0,bottom:0}},_type:"line",checkStyleFlags:function(){return this.checkFlags({color:true,weight:true,alpha:true,type:true,marker:true,dashLength:true,gapLength:true,connectDiscontinuousPoints:true,discontinuousType:true,discontinuousDashLength:true,discontinuousGapLength:true});},drawGraph:function(){var I=this.get("styles");if(I.showLines){this.drawLines();}if(I.showMarkers){this.drawMarkers();}},drawLines:function(){if(this._xcoords.length<1){return;}var L=this.get("parent"),a=L.offsetHeight,R=this._xcoords,c=this._ycoords,U=R.length,K=R[0],J=c[0],b=K,Y=J,X,V,T,N=this.get("styles"),W=N.lineType,Z=N.dashLength,P=N.gapSpace,O=N.connectDiscontinuousPoints,I=N.discontinuousType,M=N.discontinuousDashLength,S=N.discontinuousGapSpace,Q=this.get("graphic");Q.clear();Q.lineStyle(N.weight,N.color);Q.beginFill(N.color,0.5);Q.moveTo(K,J);for(T=1;T<U;T=++T){X=R[T];V=c[T];if(isNaN(V)){b=X;Y=V;continue;}if(b==K){if(W!="dashed"){Q.lineTo(X,V);}else{this.drawDashedLine(b,Y,X,V,Z,P);}}else{if(!O){Q.moveTo(X,V);}else{if(I!="solid"){this.drawDashedLine(b,Y,X,V,M,S);}else{Q.lineTo(X,V);}}}K=b=X;J=Y=V;}Q.lineTo(K,a);Q.lineTo(0,a);Q.lineTo(0,c[0]);Q.endFill();},drawMarkers:function(){if(this._xcoords.length<1){return;}var I=this.get("graphic"),J=this.get("styles").marker,R=J.width,N=J.height,S=J.fillColor,Q=this._xcoords,L=this._ycoords,M=0,O=Q.length,P,K;for(;M<O;++M){P=L[M]-N/2;K=Q[M]-R/2;I.beginFill(S);I.drawCircle(K,P,R/2);I.endFill();}},drawDashedLine:function(T,X,J,V,L,K){L=L||10;K=K||10;var N=L+K,Q=J-T,U=V-X,W=Math.sqrt(Math.pow(Q,2)+Math.pow(U,2)),O=Math.floor(Math.abs(W/N)),M=Math.atan2(U,Q),S=T,R=X,P,I=this.get("graphic");Q=Math.cos(M)*N;U=Math.sin(M)*N;for(P=0;P<O;++P){I.moveTo(S,R);I.lineTo(S+Math.cos(M)*L,R+Math.sin(M)*L);S+=Q;R+=U;}I.moveTo(S,R);W=Math.sqrt((J-S)*(J-S)+(V-R)*(V-R));if(W>L){I.lineTo(S+Math.cos(M)*L,R+Math.sin(M)*L);}else{if(W>0){I.lineTo(S+Math.cos(M)*W,R+Math.sin(M)*W);}}I.moveTo(J,V);}});H.LineSeries=B;},"@VERSION@");