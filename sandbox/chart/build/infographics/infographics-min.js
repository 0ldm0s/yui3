YUI.add("infographics",function(C){function L(N){this._createId();this._keys={};this._data=[];L.superclass.constructor.apply(this,arguments);}L.NAME="baseAxis";L.ATTRS={parent:{lazyAdd:false,value:null},roundingUnit:{getter:function(){return this._roundingUnit;},setter:function(N){this._roundingUnit=N;if(this._roundMinAndMax){this._updateMinAndMax();}return N;}},roundMinAndMax:{getter:function(){return this._roundMinAndMax;},setter:function(N){if(this._roundMinAndMax==N){return N;}this._roundMinAndMax=N;this._updateMinAndMax();}},dataType:{getter:function(){return this._dataType;}},dataProvider:{getter:function(){return this._dataProvider;},setter:function(N){if(N===this._dataProvider){return;}if(this._dataProvider){}N=C.merge(N);this._dataProvider={data:N.data.concat()};this._dataClone=this._dataProvider.data.concat();return N;},lazyAdd:false},dataMaximum:{getter:function(){return this._dataMaximum;}},maximum:{getter:function(){if(this._autoMax||!this._setMaximum){return this._dataMaximum;}return this._setMaximum;},setter:function(N){this._setMaximum=N;}},dataMinimum:{getter:function(){return this._dataMinimum;}},minimum:{getter:function(){if(this._autoMin||!this._setMinimum){return this._dataMinimum;}return this._setMinimum;},setter:function(N){this._setMinimum=N;return N;}},autoMax:{getter:function(){return this._autoMax;},setter:function(N){this._autoMax=N;}},autoMin:{getter:function(){return this._autoMin;},setter:function(N){this._autoMin=N;}},data:{getter:function(){return this._data;}},keys:{getter:function(){return this._keys;}}};C.extend(L,C.Base,{GUID:"yuibaseaxis",_createId:function(){this._id=C.guid(this.GUID);},_roundingUnit:NaN,_roundMinAndMax:true,_dataType:null,_dataProvider:null,_dataClone:null,_setMaximum:null,_dataMaximum:null,_autoMax:true,_setMinimum:null,_dataMinimum:null,_autoMin:true,_data:null,_keys:null,_axisReady:false,addKey:function(Q){if(this._keys.hasOwnProperty(Q)){return;}this._dataClone=this._dataProvider.data.concat();var P=this._keys,N={},O={axis:this};this._setDataByKey(Q);N[Q]=P[Q].concat();this._updateMinAndMax();O.keysAdded=N;if(!this._dataReady){this._dataReady=true;this.publish("axisReady",{fireOnce:true});this.fire("axisReady",O);}else{this.fire("axisUpdate",O);}},_setDataByKey:function(R){var Q,S,O=[],P=this._dataClone.concat(),N=P.length;for(Q=0;Q<N;++Q){S=P[Q];O[Q]=S[R];}this._keys[R]=O;this._data=this._data.concat(O);},removeKey:function(T){if(!this._keys.hasOwnProperty(T)){return;}var O,U,N={},Q=[],P={},S=this._keys,R={};P[T]=S[T].concat();for(O in S){if(S.hasOwnProperty(O)){if(O==T){continue;}U=S[O];Q=Q.concat(U);N[O]=U;}}S=N;this._data=Q;this._updateMinAndMax();R.keysRemoved=P;this.fire("axisUpdate",R);},getKeyValueAt:function(O,N){var Q=NaN,P=this.keys;if(P[O]&&P[O][N]){Q=P[O][N];}return Q;},getDataByKey:function(O){var N=this._keys;if(N[O]){return N[O];}return null;},_updateMinAndMax:function(){var S=this.get("data"),O=0,R=0,N,P,Q;if(S&&S.length&&S.length>0){N=S.length;O=R=S[0];if(N>1){for(Q=1;Q<N;Q++){P=S[Q];if(isNaN(P)){continue;}O=Math.max(P,O);R=Math.min(P,R);}}}this._dataMaximum=O;this._dataMinimum=R;},newDataUpdateHandler:function(){var N,P=this._keys,O={};this._data=[];this._dataClone=this._dataProvider.data.concat();for(N in P){if(P.hasOwnProperty(N)){P[N]=this._setDataByKey(N);this._data=this._data.concat(P[N]);}}this._updateMinAndMax();O.keysAdded=P;this.fire("axisUpdate",O);},_keyDataUpdateHandler:function(){var N=false,Q={},R=Q.keysAdded,S=Q.keysRemoved,P=this._keys,O;for(O in P){if(P.hasOwnProperty(O)){if(R.hasOwnProperty(O)){N=true;P[O]=P[O];}if(S.hasOwnProperty(O)){N=true;P[O]=[];}}}if(!N){return;}this._data=[];for(O in P){if(P.hasOwnProperty(O)){this._data=this._data.concat(P[O]);}}this._updateMinAndMax();Q.keysAdded=R;Q.keysRemoved=S;this.fire("axisUpdate",Q);},getTotalMajorUnits:function(P,N){var O;if(P.determinant==="count"){O=P.count;}else{if(P.determinant==="distance"){O=(N/P.distance)+1;}}return Math.min(O,this._data.length);},getLabelAtPosition:function(S,O,Q){var P=this.get("minimum"),N=this.get("maximum"),R=(S/O*(N-P))+P;return this.getFormattedLabel(R,Q);},getFormattedLabel:function(O,N){return O;}});C.BaseAxis=L;function I(N){I.superclass.constructor.apply(this,arguments);}I.NAME="numericAxis";I.ATTRS={alwaysShowZero:{getter:function(){return this._alwaysShowZero;},setter:function(N){if(N==this._alwaysShowZero){return;}this._alwaysShowZero=N;this._updateMinAndMax();return N;}}};C.extend(I,C.BaseAxis,{_dataType:"numeric",_alwaysShowZero:true,_updateMinAndMax:function(){var S=this.get("data"),O=0,R=0,N,P,Q,T="";if(S&&S.length&&S.length>0){N=S.length;O=R=S[0];if(N>1){for(Q=1;Q<N;Q++){P=S[Q];if(isNaN(P)){continue;}O=Math.max(P,O);R=Math.min(P,R);T+="\n"+P;}}}if(this._roundMinAndMax&&!isNaN(this._roundingUnit)){this._dataMaximum=this._roundUpToNearest(O,this._roundingUnit);this._dataMinimum=this._roundDownToNearest(R,this._roundingUnit);}else{this._dataMaximum=O;this._dataMinimum=R;}if(this._alwaysShowZero){this._dataMinimum=Math.min(0,this._dataMinimum);}},_roundToNearest:function(P,O){O=O||1;if(O===0){return P;}var N=Math.round(this._roundToPrecision(P/O,10))*O;return this._roundToPrecision(N,10);},_roundUpToNearest:function(O,N){N=N||1;if(N===0){return O;}return Math.ceil(this._roundToPrecision(O/N,10))*N;},_roundDownToNearest:function(O,N){N=N||1;if(N===0){return O;}return Math.floor(this._roundToPrecision(O/N,10))*N;},_roundToPrecision:function(P,N){N=N||0;var O=Math.pow(10,N);return Math.round(O*P)/O;},getFormattedLabel:function(O,N){return C.DataType.Number.format(O,N);}});C.NumericAxis=I;function F(N){F.superclass.constructor.apply(this,arguments);}F.NAME="timeAxis";F.ATTRS={maximum:{getter:function(){if(this._autoMax||this._setMaximum===null){return this._getNumber(this._dataMaximum);}return this._setMaximum;},setter:function(N){this._setMaximum=this._getNumber(N);this.fire("dataChange");}},minimum:{getter:function(){if(this._autoMin||this._setMinimum===null){return this._dataMinimum;}return this._setMinimum;
},setter:function(N){this._setMinimum=this._getNumber(N);this.fire("dataChange");}}};C.extend(F,C.BaseAxis,{GUID:"yuitimeaxis",_dataType:"time",_setDataByKey:function(R){var S,O=[],Q=this._dataClone.concat(),P,T,N=Q.length;for(P=0;P<N;++P){S=Q[P][R];if(C.Lang.isDate(S)){T=S.valueOf();}else{if(!C.Lang.isNumber(S)){T=new Date(S.toString()).valueOf();}else{T=S;}}O[P]=T;}this._keys[R]=O;this._data=this._data.concat(O);},_getNumber:function(N){if(C.Lang.isDate(N)){N=N.valueOf();}else{if(!C.Lang.isNumber(N)){N=new Date(N.toString()).valueOf();}}return N;},updateMaxByPosition:function(O){var N=this._dataMaximum-this._dataMinimum;O=Math.round(O*100)/100;O=O*N;O+=this._dataMinimum;this.set("maximum",O);},updateMinByPosition:function(O){var N=this._dataMaximum-this._dataMinimum;O=Math.round(O*100)/100;O=O*N;O+=this._dataMinimum;this.set("minimum",O);},updateMinAndMaxByPosition:function(P,R,O){var Q=P/O,N=R/O;Q+=this._dataMinimum;N+=this._dataMaximum;this._setMaximum=this._getNumber(N);this._setMinimum=this._getNumber(Q);this.fire("dataChange");},getFormattedLabel:function(O,N){return C.DataType.Date.format(C.DataType.Date.parse(O),{format:N});}});C.TimeAxis=F;function D(N){D.superclass.constructor.apply(this,arguments);}D.NAME="categoryAxis";C.extend(D,C.BaseAxis,{GUID:"yuicategoryaxis",_dataType:"category",_getKeyValueAt:function(O,N){var P=NaN;if(this.keys[O]){P=N;}return P;},_updateMinAndMax:function(){this._dataMaximum=Math.max(this._data.length-1,0);this._dataMinimum=0;},_setDataByKey:function(R){var Q,S,O=[],T=[],P=this._dataClone.concat(),N=P.length;for(Q=0;Q<N;++Q){S=P[Q];O[Q]=Q;T[Q]=S[R];}this._keys[R]=O;this._data=this._data.concat(T);},getTotalMajorUnits:function(O,N){return this._data.length;},getLabelAtPosition:function(R,N,Q){var P=this._data.length-1,O=Math.round(R/(N/P));return this._data[O];}});C.CategoryAxis=D;function H(N){}H.NAME="renderer";H.ATTRS={styles:{value:{},getter:function(){this._styles=this._styles||this._getDefaultStyles();return this._styles;},setter:function(N){this._styles=this._setStyles(N);return this._styles;},validator:function(N){return C.Lang.isObject(N);}}};H.prototype={_newStyles:null,_styles:null,_setStyles:function(O){var N=this.get("styles");return this._mergeStyles(O,N);},_mergeStyles:function(O,N){this._newStyles={};C.Object.each(O,function(R,Q,P){if(N.hasOwnProperty(Q)&&C.Lang.isObject(R)){N[Q]=this._mergeStyles(R,N[Q]);}else{N[Q]=R;this._newStyles[Q]=R;}},this);return N;},_getDefaultStyles:function(){return{};}};C.Renderer=H;C.CartesianSeries=C.Base.create("cartesianSeries",C.Widget,[C.Renderer],{_leftOrigin:null,_bottomOrigin:null,renderUI:function(){this._setCanvas();},bindUI:function(){var O=this.get("xAxis"),N=this.get("yAxis");if(O){O.after("axisReady",C.bind(this._xAxisChangeHandler,this));O.after("axisUpdate",C.bind(this._xAxisChangeHandler,this));}if(N){N.after("axisReady",C.bind(this._yAxisChangeHandler,this));N.after("axisUpdate",C.bind(this._yAxisChangeHandler,this));}this.after("xAxisChange",C.bind(this.xAxisChangeHandler,this));this.after("yAxisChange",C.bind(this.yAxisChangeHandler,this));this.after("stylesChange",C.bind(this._updateHandler,this));this._parentNode.after("widthChange",C.bind(this._resizeHandler,this));this._parentNode.after("heightChange",C.bind(this._resizeHandler,this));},_resizeHandler:function(N){},syncUI:function(){this.draw();},_updateHandler:function(N){if(this.get("rendered")){this.draw();}},GUID:"yuicartesianseries",_setCanvas:function(){var N=this.get("contentBox"),P=document.createElement("div"),O=P.style;N.appendChild(P);O.position="absolute";O.display="block";O.top="0px";O.left="0px";O.width="800px";O.height="300px";this.set("node",P);this.set("graphic",new C.Graphic());this.get("graphic").render(this.get("node"));},_xAxisChangeHandler:function(N){if(this.get("rendered")&&this.get("xKey")&&this.get("yKey")){this.draw();}},_yAxisChangeHandler:function(N){if(this.get("rendered")&&this.get("xKey")&&this.get("yKey")){this.draw();}},setAreaData:function(){var m,l,c=this.get("node"),X=c.offsetWidth,f=c.offsetHeight,Z=this.get("styles").padding,b=Z.left,k=Z.top,U=X-(b+Z.right),e=f-(k+Z.bottom),a=[],o=[],W=this.get("xAxis"),O=this.get("yAxis"),n=W.get("maximum"),j=W.get("minimum"),P=O.get("maximum"),N=O.get("minimum"),Q=this.get("xKey"),T=this.get("yKey"),S=U/(n-j),Y=e/(P-N),R=W.getDataByKey(Q),g=O.getDataByKey(T),V=R.length,d;this._leftOrigin=Math.round(((0-j)*S)+b);this._bottomOrigin=Math.round((e+k)-(0-N)*Y);for(d=0;d<V;++d){m=Math.round((((R[d]-j)*S)+b));l=Math.round(((e+k)-(g[d]-N)*Y));a.push(m);o.push(l);}this.set("xcoords",a);this.set("ycoords",o);},drawGraph:function(){this.drawMarkers();},draw:function(){var P=this.get("node"),N=P.offsetWidth,O=P.offsetHeight;if(!isNaN(N)&&!isNaN(O)&&N>0&&O>0){this.setAreaData();this.drawGraph();}},drawMarkers:function(){if(!this.get("xcoords")||this.get("xcoords").length<1){return;}var W=this.get("graphic"),f=this.get("styles").marker,U=f.width,e=f.height,R=f.fillColor,Q=f.fillAlpha,V=f.fillType||"solid",j=f.borderWidth,N=f.borderColor,Z=f.borderAlpha||1,T=f.colors,S=f.alpha||[],Y=f.ratios||[],b=f.rotation||0,X=this.get("xcoords"),g=this.get("ycoords"),P=f.func||"drawCircle",c=0,d=X.length,a=g[0],O;for(;c<d;++c){a=g[c];O=X[c];if(j>0){W.lineStyle(j,N,Z);}if(V==="solid"){W.beginFill(R,Q);}else{W.beginGradientFill(V,T,S,Y,{rotation:b,width:U,height:e});}this.drawMarker(W,P,O,a,U,e);W.endFill();}},drawMarker:function(S,P,R,Q,N,O){if(P==="drawCircle"){S.drawCircle(R,Q,N/2);}else{R-=N/2;Q-=O/2;S[P].call(S,R,Q,N,O);}},_getDefaultStyles:function(){return{padding:{top:0,left:0,right:0,bottom:0}};}},{ATTRS:{type:{value:"cartesian"},order:{value:NaN},xcoords:{value:null},ycoords:{value:null},graph:{value:null},xAxis:{value:null,validator:function(N){return N!==this.get("xAxis");},lazyAdd:false},yAxis:{value:null,validator:function(N){return N!==this.get("yAxis");},lazyAdd:false},xKey:{value:null,validator:function(N){return N!==this.get("xKey");}},yKey:{value:null,validator:function(N){return N!==this.get("yKey");
}},node:{value:null},graphic:{value:null}}});function E(N){E.superclass.constructor.apply(this,arguments);}E.NAME="lineSeries";E.ATTRS={type:{value:"line"}};C.extend(E,C.CartesianSeries,{drawGraph:function(){var N=this.get("styles");if(N.showLines){this.drawLines();}if(N.showMarkers){this.drawMarkers();}},drawLines:function(){if(this.get("xcoords").length<1){return;}var W=this.get("node"),f=W.offsetHeight,V=this.get("xcoords"),h=this.get("ycoords"),Z=V.length,P=V[0],O=h[0],g=P,d=O,c,a,Y,R=this.get("styles"),b=R.lineType,e=R.dashLength,T=R.gapSpace,S=R.connectDiscontinuousPoints,N=R.discontinuousType,Q=R.discontinuousDashLength,X=R.discontinuousGapSpace,U=this.get("graphic");U.clear();U.lineStyle(R.weight,R.color);U.beginFill(R.color,0.5);U.moveTo(P,O);for(Y=1;Y<Z;Y=++Y){c=V[Y];a=h[Y];if(isNaN(a)){g=c;d=a;continue;}if(g==P){if(b!="dashed"){U.lineTo(c,a);}else{this.drawDashedLine(g,d,c,a,e,T);}}else{if(!S){U.moveTo(c,a);}else{if(N!="solid"){this.drawDashedLine(g,d,c,a,Q,X);}else{U.lineTo(c,a);}}}P=g=c;O=d=a;}U.lineTo(P,f);U.lineTo(0,f);U.lineTo(0,h[0]);U.endFill();},drawDashedLine:function(Y,c,O,a,Q,P){Q=Q||10;P=P||10;var S=Q+P,V=O-Y,Z=a-c,b=Math.sqrt(Math.pow(V,2)+Math.pow(Z,2)),T=Math.floor(Math.abs(b/S)),R=Math.atan2(Z,V),X=Y,W=c,U,N=this.get("graphic");V=Math.cos(R)*S;Z=Math.sin(R)*S;for(U=0;U<T;++U){N.moveTo(X,W);N.lineTo(X+Math.cos(R)*Q,W+Math.sin(R)*Q);X+=V;W+=Z;}N.moveTo(X,W);b=Math.sqrt((O-X)*(O-X)+(a-W)*(a-W));if(b>Q){N.lineTo(X+Math.cos(R)*Q,W+Math.sin(R)*Q);}else{if(b>0){N.lineTo(X+Math.cos(R)*b,W+Math.sin(R)*b);}}N.moveTo(O,a);},_getDefaultStyles:function(){return{color:"#000000",alpha:1,weight:1,marker:{fillColor:"#000000",alpha:1,weight:1,width:6,height:6},showMarkers:false,showLines:true,lineType:"solid",dashLength:10,gapSpace:10,connectDiscontinuousPoint:true,discontinuousType:"dashed",discontinuousDashLength:10,discontinuousGapSpace:10,padding:{top:0,left:0,right:0,bottom:0}};}});C.LineSeries=E;function K(N){K.superclass.constructor.apply(this,arguments);}K.NAME="columnSeries";K.ATTRS={type:{value:"column"}};C.extend(K,C.CartesianSeries,{drawMarkers:function(){if(this.get("xcoords").length<1){return;}var d=this.get("graphic"),r=this.get("styles").marker,b=r.width,q=r.height,V=r.fillColor,U=r.fillAlpha,c=r.fillType||"solid",t=r.borderWidth,N=r.borderColor,g=r.borderAlpha||1,a=r.colors,W=r.alpha||[],f=r.ratios||[],l=r.rotation||0,e=this.get("xcoords"),s=this.get("ycoords"),T=r.func||"drawCircle",n=0,p=e.length,j=s[0],R=this.get("type"),P=this.get("graph"),Z=P.seriesTypes[R],o=Z.length,O=0,Q=0,X=0,Y,k,m=this.get("order"),S;for(;n<o;++n){k=Z[n];O+=k.get("styles").marker.width;if(m>n){X=O;}}Q=p*O;if(Q>this.get("node").offsetWidth){Y=this.width/Q;O*=Y;X*=Y;b*=Y;b=Math.max(b,1);}X-=O/2;for(n=0;n<p;++n){j=s[n];S=e[n]+X;if(t>0){d.lineStyle(t,N,g);}if(c==="solid"){d.beginFill(V,U);}else{d.beginGradientFill(c,a,W,f,{rotation:l,width:b,height:q});}this.drawMarker(d,T,S,j,b,q);d.endFill();}},drawMarker:function(S,P,R,Q,N,O){O=this._bottomOrigin-Q;S.drawRect(R,Q,N,O);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});C.ColumnSeries=K;function B(N){B.superclass.constructor.apply(this,arguments);}B.NAME="graphstack";B.ATTRS={seriesCollection:{lazyAdd:false,getter:function(){return this._seriesCollection;},setter:function(N){this._parseSeriesCollection(N);return this._seriesCollection;}},parent:{value:null}};C.extend(B,C.Base,{_seriesCollection:null,seriesTypes:null,_parseSeriesCollection:function(Q){var N=Q.length,P=0,O;if(!Q){return;}if(!this._seriesCollection){this._seriesCollection=[];}if(!this.seriesTypes){this.seriesTypes=[];}for(;P<N;++P){O=Q[P];if(!(O instanceof C.CartesianSeries)){this._createSeries(O);continue;}this._addSeries(O);}N=this._seriesCollection.length;for(P=0;P<N;++P){this._seriesCollection[P].render(this.get("parent"));}},_addSeries:function(P){var Q=P.get("type"),S=this._seriesCollection,R=S.length,O=this.seriesTypes,N;if(!P.get("graph")){P.set("graph",this);}P.graphOrder=R;S.push(P);if(!O.hasOwnProperty(Q)){this.seriesTypes[Q]=[];}N=this.seriesTypes[Q];P.set("order",N.length);N.push(P);this.fire("seriesAdded",P);},_createSeries:function(R){var S=R.type,T=this._seriesCollection,P=this.seriesTypes,O,N,Q;R.graph=this;R.parent=this.get("parent");if(!P.hasOwnProperty(S)){P[S]=[];}O=P[S];R.graph=this;R.order=O.length;N=this._getSeries(R.type);Q=new N(R);O.push(Q);T.push(Q);},_getSeries:function(N){var O;switch(N){case"line":O=C.LineSeries;break;case"column":O=C.ColumnSeries;break;default:O=C.CartesianSeries;break;}return O;}});C.GraphStack=B;C.AxisRenderer=C.Base.create("axisrenderer",C.Widget,[C.Renderer],{axisChangeHandler:function(P){var N=P.newVal,O=P.prevVal;if(O){O.detach("axisReady",this._axisDataChangeHandler);O.detach("axisUpdate",this._axisDataChangeHandler);}N.after("axisReady",C.bind(this._axisDataChangeHandler,this));N.after("axisUpdate",C.bind(this._axisDataChangeHandler,this));},_axisDataChangeHandler:function(N){if(this.get("rendered")){this._drawAxis();}},_updateHandler:function(N){if(this.get("rendered")){this._drawAxis();}},_positionChangeHandler:function(N){this._ui=this.getLayout(this.get("position"));if(this.get("rendered")){this._drawAxis();}},renderUI:function(){this._ui=this.getLayout(this.get("position"));this._setCanvas();},bindUI:function(){var N=this.get("axis");if(N){N.after("axisReady",C.bind(this._axisDataChangeHandler,this));N.after("axisUpdate",C.bind(this._axisDataChangeHandler,this));}this.after("axisChange",this.axisChangeHandler);this.after("stylesChange",this._updateHandler);this.after("positionChange",this._positionChangeHandler);this.after("overlapGraphChange",this._updateHandler);},syncUI:function(){this._drawAxis();},_setCanvas:function(){var N=this.get("contentBox"),Q=this.get("position"),R=document.createElement("div"),P=R.style,O=this._parentNode;N.appendChild(R);
P.position="absolute";P.display="block";P.top="0px";P.left="0px";P.border="1px";if(Q==="top"||Q==="bottom"){N.setStyle("width",O.getStyle("width"));}else{N.setStyle("height",O.getStyle("height"));}P.width=N.getStyle("width");P.height=N.getStyle("height");this.set("node",R);this.set("graphic",new C.Graphic());this.get("graphic").render(this.get("node"));},_getDefaultStyles:function(){return{majorTicks:{display:"inside",length:4,color:"#000000",weight:1,alpha:1},minorTicks:{display:"none",length:2,color:"#000000",weight:1},line:{weight:1,color:"#000000",alpha:1},majorUnit:{determinant:"count",count:5,distance:75},padding:{top:0,left:0,right:0,bottom:0},top:"0px",left:"0px",width:"100px",height:"100px",hideOverlappingLabelTicks:false};}},{NAME:"axisRenderer",ATTRS:{graphic:{value:null},axis:{value:null,validator:function(N){return N!==this.get("axis");}},node:{value:null},position:{value:"bottom",validator:function(N){return((N!==this.get("position"))&&(N==="bottom"||N==="top"||N==="left"||N==="right"));}},topTickOffset:{value:0},bottomTickOffset:{value:0},leftTickOffset:{value:0},rightTickOffset:{value:0},overlapGraph:{value:true,validator:function(N){return C.Lang.isBoolean(N);}}}});function G(N){G.superclass.constructor.apply(this,arguments);}G.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};C.extend(G,C.Base,{setTickOffsets:function(){var N=this.get("axisRenderer"),R=N.get("styles").majorTicks,P=R.length,O=P*0.5,Q=R.display;N.set("topTickOffset",0);N.set("bottomTickOffset",0);switch(Q){case"inside":N.set("rightTickOffset",P);break;case"outside":N.set("leftTickOffset",P);break;case"cross":N.set("rightTickOffset",O);N.set("leftTickOffset",O);break;}},getLineStart:function(){var N=this.get("axisRenderer"),O=N.get("styles"),S=O.padding,T=O.majorTicks,P=T.length,R=T.display,Q={x:S.left,y:0};if(R==="outside"){Q.x+=P;}else{if(R==="cross"){Q.x+=P/2;}}return Q;},drawTick:function(T,R){var O=this.get("axisRenderer"),P=O.get("styles"),S=P.padding,Q=R.length,U={x:S.left,y:T.y},N={x:Q+S.left,y:T.y};O.drawLine(U,N,R);},getLabelPoint:function(N){var O=this.get("axisRenderer");return{x:N.x-O.get("leftTickOffset"),y:N.y};},positionLabel:function(b,d){var U=this.get("axisRenderer"),O=U.get("styles").label,R=d.x,X=d.y,S=Math.min(90,Math.max(-90,O.rotation)),V=Math.abs(S),Z=Math.PI/180,c=parseFloat(parseFloat(Math.sin(V*Z)).toFixed(8)),Q=parseFloat(parseFloat(Math.cos(V*Z)).toFixed(8)),Y=Q,W=S>0?-c:c,T=-W,P=Y,a=0,N=this.get("maxLabelSize");if(C.UA.ie){b.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(S===0){R-=b.offsetWidth;X-=b.offsetHeight*0.5;}else{if(V===90){R-=b.offsetHeight;X-=b.offsetWidth*0.5;}else{if(S===-90){R-=b.offsetHeight;X-=b.offsetWidth*0.5;}else{if(S>0){R-=(Q*b.offsetWidth)+(b.offsetHeight*S/90);X-=(c*b.offsetWidth)+(Q*(b.offsetHeight*0.5));}else{R-=(Q*b.offsetWidth)+(V/90*b.offsetHeight);X-=Q*(b.offsetHeight*0.5);}}}}b.style.left=R+"px";b.style.top=X+"px";b.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+Y+" M12="+W+" M21="+T+" M22="+P+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(N,b.offsetWidth));return;}if(S===0){a=b.offsetWidth;R-=a;X-=b.offsetHeight*0.5;}else{if(S===90){a=b.offsetHeight;X-=b.offsetWidth*0.5;}else{if(S===-90){a=b.offsetHeight;R-=a;X+=b.offsetWidth*0.5;}else{a=(Q*b.offsetWidth)+(c*b.offsetHeight);if(S<0){R-=a;X+=(c*b.offsetWidth)-(Q*(b.offsetHeight*0.6));}else{R-=(Q*b.offsetWidth);X-=(c*b.offsetWidth)+(Q*(b.offsetHeight*0.6));}}}}b.style.left=R+"px";b.style.top=X+"px";b.style.MozTransformOrigin="0 0";b.style.MozTransform="rotate("+S+"deg)";b.style.webkitTransformOrigin="0 0";b.style.webkitTransform="rotate("+S+"deg)";this.set("maxLabelSize",Math.max(a,N));},setSizeAndPosition:function(){var N=this.get("maxLabelSize"),O=this.get("axisRenderer"),P=O.get("styles"),R=P.line.weight,S=P.majorTicks,Q=S.display,T=S.length;if(Q==="outside"){R+=T;}else{if(Q==="cross"){R+=T*0.5;}}R+=N;O.get("node").style.left=N+"px";O.set("width",R);},offsetNodeForTick:function(P){var N=this.get("axisRenderer"),R=N.get("styles").majorTicks,O=R.length,Q=R.display;if(Q==="inside"){P.style.marginRight=(0-O)+"px";}else{if(Q==="cross"){P.style.marginRight=(0-(O*0.5))+"px";}}}});C.LeftAxisLayout=G;function A(N){A.superclass.constructor.apply(this,arguments);}A.ATTRS={axisRenderer:{value:null}};C.extend(A,C.Base,{setTickOffsets:function(){var N=this.get("axisRenderer"),R=N.get("styles").majorTicks,P=R.length,O=P*0.5,Q=R.display;N.set("topTickOffset",0);N.set("bottomTickOffset",0);switch(Q){case"inside":N.set("leftTickOffset",P);break;case"outside":N.set("rightTickOffset",P);break;case"cross":N.set("rightTickOffset",O);N.set("leftTickOffset",O);break;}},drawTick:function(T,R){var O=this.get("axisRenderer"),P=O.get("styles"),S=P.padding,Q=R.length,U={x:S.left,y:T.y},N={x:S.left+Q,y:T.y};O.drawLine(U,N,R);},getLineStart:function(){var N=this.get("axisRenderer"),O=N.get("styles"),S=O.padding,T=O.majorTicks,P=T.length,R=T.display,Q={x:S.left,y:S.top};if(R==="inside"){Q.x+=P;}else{if(R==="cross"){Q.x+=P/2;}}return Q;},getLabelPoint:function(N){var O=this.get("axisRenderer");return{x:N.x+O.get("rightTickOffset"),y:N.y};},positionLabel:function(Z,b){var T=this.get("axisRenderer"),N=T.get("styles").label,Q=b.x,W=b.y,R=Math.min(Math.max(N.rotation,-90),90),U=Math.abs(R),Y=Math.PI/180,a=parseFloat(parseFloat(Math.sin(U*Y)).toFixed(8)),P=parseFloat(parseFloat(Math.cos(U*Y)).toFixed(8)),X=P,V=R>0?-a:a,S=-V,O=X;if(C.UA.ie){Z.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(R===0){W-=Z.offsetHeight*0.5;}else{if(U===90){W-=Z.offsetWidth*0.5;}else{if(R>0){W-=(P*(Z.offsetHeight*0.5));}else{W-=(a*Z.offsetWidth)+(P*(Z.offsetHeight*0.5));}}}Z.style.left=Q+"px";Z.style.top=W+"px";Z.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+X+" M12="+V+" M21="+S+" M22="+O+' sizingMethod="auto expand")';return;}if(R===0){W-=Z.offsetHeight*0.5;}else{if(R===90){Q+=Z.offsetHeight;W-=Z.offsetWidth*0.5;}else{if(R===-90){W+=Z.offsetWidth*0.5;
}else{if(R<0){W-=(P*(Z.offsetHeight*0.6));}else{W-=P*(Z.offsetHeight*0.6);Q+=a*Z.offsetHeight;}}}}Z.style.left=Q+"px";Z.style.top=W+"px";Z.style.MozTransformOrigin="0 0";Z.style.MozTransform="rotate("+R+"deg)";Z.style.webkitTransformOrigin="0 0";Z.style.webkitTransform="rotate("+R+"deg)";},setSizeAndPosition:function(N){var O=this.get("axisRenderer"),P=O.get("styles"),R=P.line.weight,S=P.majorTicks,Q=S.display,T=S.length;if(Q==="outside"){R+=T;}else{if(Q==="cross"){R+=T*0.5;}}R+=N;O.set("width",R);},offsetNodeForTick:function(P){var N=this.get("axisRenderer"),R=N.get("styles").majorTicks,O=R.length,Q=R.display;if(Q==="inside"){P.style.marginLeft=(0-O)+"px";}else{if(Q==="cross"){P.style.marginLeft=(0-(O*0.5))+"px";}}}});C.RightAxisLayout=A;function J(N){J.superclass.constructor.apply(this,arguments);}J.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};C.extend(J,C.Base,{setTickOffsets:function(){var N=this.get("axisRenderer"),R=N.get("styles").majorTicks,P=R.length,O=P*0.5,Q=R.display;N.set("leftTickOffset",0);N.set("rightTickOffset",0);switch(Q){case"inside":N.set("topTickOffset",P);break;case"outside":N.set("bottomTickOffset",P);break;case"cross":N.set("topTickOffset",O);N.set("bottomTickOffset",O);break;}},setSizeAndPosition:function(){var N=this.get("maxLabelSize"),O=this.get("axisRenderer"),P=O.get("styles"),R=P.line.weight,S=P.majorTicks,Q=S.display,T=S.length;if(Q==="outside"){R+=T;}else{if(Q==="cross"){R+=T*0.5;}}R+=N;O.set("height",R);},getLineStart:function(){var N=this.get("axisRenderer"),O=N.get("styles"),S=O.padding,T=O.majorTicks,P=T.length,R=T.display,Q={x:0,y:S.top};if(R==="inside"){Q.y+=P;}else{if(R==="cross"){Q.y+=P/2;}}return Q;},drawTick:function(T,R){var O=this.get("axisRenderer"),P=O.get("styles"),S=P.padding,Q=R.length,U={x:T.x,y:S.top},N={x:T.x,y:Q+S.top};O.drawLine(U,N,R);},getLabelPoint:function(N){var O=this.get("axisRenderer");return{x:N.x,y:N.y+O.get("bottomTickOffset")};},positionLabel:function(b,d){var U=this.get("axisRenderer"),O=U.get("styles").label,R=d.x,X=d.y,S=Math.min(90,Math.max(-90,O.rotation)),V=Math.abs(S),Z=Math.PI/180,c=parseFloat(parseFloat(Math.sin(V*Z)).toFixed(8)),Q=parseFloat(parseFloat(Math.cos(V*Z)).toFixed(8)),Y=Q,W=S>0?-c:c,T=-W,P=Y,a=0,N=this.get("maxLabelSize");if(C.UA.ie){Y=Q;W=S>0?-c:c;T=-W;P=Y;b.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(V===90){R-=b.offsetHeight*0.5;}else{if(S<0){R-=Q*b.offsetWidth;R-=c*(b.offsetHeight*0.5);}else{if(S>0){R-=c*(b.offsetHeight*0.5);}else{R-=b.offsetWidth*0.5;}}}b.style.left=R+"px";b.style.top=X+"px";b.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+Y+" M12="+W+" M21="+T+" M22="+P+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(b.offsetHeight,N));return;}if(S===0){R-=b.offsetWidth*0.5;a=b.offsetHeight;}else{if(V===90){a=b.offsetWidth;if(S===90){R+=b.offsetHeight*0.5;}else{X+=a;R-=b.offsetHeight*0.5;}}else{a=(c*b.offsetWidth)+(Q*b.offsetHeight);if(S<0){R-=(Q*b.offsetWidth)+(c*(b.offsetHeight*0.6));X+=c*b.offsetWidth;}else{R+=c*(b.offsetHeight*0.6);}}}b.style.left=R+"px";b.style.top=X+"px";b.style.MozTransformOrigin="0 0";b.style.MozTransform="rotate("+S+"deg)";b.style.webkitTransformOrigin="0 0";b.style.webkitTransform="rotate("+S+"deg)";this.set("maxLabelSize",Math.max(a,N));},offsetNodeForTick:function(P){var N=this.get("axisRenderer"),R=N.get("styles").majorTicks,O=R.length,Q=R.display;if(Q==="inside"){P.style.marginTop=(0-O)+"px";}else{if(Q==="cross"){P.style.marginTop=(0-(O*0.5))+"px";}}}});C.BottomAxisLayout=J;function M(N){M.superclass.constructor.apply(this,arguments);}M.ATTRS={axisRenderer:{value:null}};C.extend(M,C.Base,{setTickOffsets:function(){var N=this.get("axisRenderer"),R=N.get("styles").majorTicks,P=R.length,O=P*0.5,Q=R.display;N.set("leftTickOffset",0);N.set("rightTickOffset",0);switch(Q){case"inside":N.set("bottomTickOffset",P);break;case"outside":N.set("topTickOffset",P);break;case"cross":N.set("topTickOffset",O);N.set("bottomTickOffset",O);break;}},getLineStart:function(){var N=this.get("axisRenderer"),O=N.get("styles"),S=O.padding,T=O.majorTicks,P=T.length,R=T.display,Q={x:0,y:S.top};if(R==="outside"){Q.y+=P;}else{if(R==="cross"){Q.y+=P/2;}}return Q;},drawTick:function(T,R){var O=this.get("axisRenderer"),P=O.get("styles"),S=P.padding,Q=R.length,U={x:T.x,y:S.top},N={x:T.x,y:Q+S.top};O.drawLine(U,N,R);},getLabelPoint:function(O){var N=this.get("axisRenderer");return{x:O.x,y:O.y-N.get("topTickOffset")};},positionLabel:function(Z,b){var T=this.get("axisRenderer"),N=T.get("styles").label,Q=b.x,W=b.y,R=Math.max(-90,Math.min(90,N.rotation)),U=Math.abs(R),Y=Math.PI/180,a=parseFloat(parseFloat(Math.sin(U*Y)).toFixed(8)),P=parseFloat(parseFloat(Math.cos(U*Y)).toFixed(8)),X,V,S,O;R=Math.min(90,R);R=Math.max(-90,R);if(C.UA.ie){Z.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";X=P;V=R>0?-a:a;S=-V;O=X;if(R===0){Q-=Z.offsetWidth*0.5;W-=Z.offsetHeight;}else{if(U===90){Q-=Z.offsetHeight*0.5;W-=Z.offsetWidth;}else{if(R>0){Q-=(P*Z.offsetWidth)+Math.min((a*Z.offsetHeight),(R/180*Z.offsetHeight));W-=(a*Z.offsetWidth)+(P*(Z.offsetHeight));}else{Q-=a*(Z.offsetHeight*0.5);W-=(a*Z.offsetWidth)+(P*(Z.offsetHeight));}}}Z.style.left=Q;Z.style.top=W;Z.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+X+" M12="+V+" M21="+S+" M22="+O+' sizingMethod="auto expand")';return;}if(R===0){Q-=Z.offsetWidth*0.5;W-=Z.offsetHeight;}else{if(R===90){Q+=Z.offsetHeight*0.5;W-=Z.offsetWidth;}else{if(R===-90){Q-=Z.offsetHeight*0.5;W-=0;}else{if(R<0){Q-=(a*(Z.offsetHeight*0.6));W-=(P*Z.offsetHeight);}else{Q-=(P*Z.offsetWidth)-(a*(Z.offsetHeight*0.6));W-=(a*Z.offsetWidth)+(P*Z.offsetHeight);}}}}Z.style.left=Q+"px";Z.style.top=W+"px";Z.style.MozTransformOrigin="0 0";Z.style.MozTransform="rotate("+R+"deg)";Z.style.webkitTransformOrigin="0 0";Z.style.webkitTransform="rotate("+R+"deg)";},setSizeAndPosition:function(N){var O=this.get("axisRenderer"),P=O.get("styles"),R=P.line.weight,S=P.majorTicks,Q=S.display,T=S.length;if(Q==="outside"){R+=T;
}else{if(Q==="cross"){R+=T*0.5;}}R+=N;O.get("node").style.top=N+"px";O.set("height",R);},offsetNodeForTick:function(P){var N=this.get("axisRenderer"),R=N.get("styles").majorTicks,O=R.length,Q=R.display;if(Q==="inside"){P.style.marginBottom=(0-O)+"px";}else{if(Q==="cross"){P.style.marginBottom=(0-(O*0.5))+"px";}}}});C.TopAxisLayout=M;C.mix(C.AxisRenderer.prototype,{_ui:null,getLayout:function(O){var N;switch(O){case"top":N=new C.TopAxisLayout({axisRenderer:this});break;case"bottom":N=new C.BottomAxisLayout({axisRenderer:this});break;case"left":N=new C.LeftAxisLayout({axisRenderer:this});break;case"right":N=new C.RightAxisLayout({axisRenderer:this});break;}return N;},drawLine:function(P,O,N){var Q=this.get("graphic");Q.lineStyle(N.weight,N.color,N.alpha);Q.moveTo(P.x,P.y);Q.lineTo(O.x,O.y);Q.endFill();},_drawAxis:function(){var O=this.get("styles"),X=O.majorTicks,Y=X.display!="none",R,W=O.majorUnit,P=this.get("axis"),V,a,S=0,Q,T,U,b,Z=this._ui,N=this.get("graphic");N.clear();Z.setTickOffsets();Q=this.getLength();U=Z.getLineStart();R=this.getFirstPoint(U);this.drawLine(U,this.getLineEnd(R),this.get("styles").line);if(Y){Z.drawTick(R,X);}V=P.getTotalMajorUnits(W,Q);if(V<1){return;}a=Q/(V-1);this._createLabelCache();Z.set("maxLabelSize",0);for(;S<V;++S){if(Y){Z.drawTick(R,X);}T=this.getPosition(R);b=this.getLabel(R,P.getLabelAtPosition(T,Q));Z.positionLabel(b,Z.getLabelPoint(R));R=this.getNextPoint(R,a);}Z.setSizeAndPosition();this._clearLabelCache();if(this.get("overlapGraph")){Z.offsetNodeForTick(this.get("node"));}},_labels:null,_labelCache:null,getLabel:function(Q,N,R){var P,O=this._labelCache;if(O.length>0){P=O.shift();}else{P=document.createElement("span");}P.innerHTML=N;P.style.display="block";P.style.position="absolute";this.get("node").appendChild(P);this._labels.push(P);return P;},_createLabelCache:function(){if(this._labels){this._labelCache=this._labels.concat();}else{this._labelCache=[];}this._labels=[];},_clearLabelCache:function(){var N=this._labelCache.length,P=0,O,Q;for(;P<N;++P){O=Q[P];O.parentNode.removeChild(O);}this._labelCache=[];},_calculateSizeByTickLength:true,getLineEnd:function(P){var N=this.get("node").offsetWidth,O=this.get("node").offsetHeight,Q=this.get("position");if(Q==="top"||Q==="bottom"){return{x:N,y:P.y};}else{return{x:P.x,y:O};}},getLength:function(){var O,Q=this.get("styles"),R=Q.padding,N=this.get("node").offsetWidth,P=this.get("node").offsetHeight,S=this.get("position");if(S==="top"||S==="bottom"){O=N-(R.left+R.right);}else{O=P-(R.top+R.bottom);}return O;},getFirstPoint:function(Q){var N=this.get("styles"),R=this.get("position"),P=N.padding,O={x:Q.x,y:Q.y};if(R==="top"||R==="bottom"){O.x+=P.left;}else{O.y+=P.top;}return O;},getNextPoint:function(N,O){var P=this.get("position");if(P==="top"||P==="bottom"){N.x=N.x+O;}else{N.y=N.y+O;}return N;},getLastPoint:function(){var O=this.get("styles"),P=O.padding,N=this.get("node").offsetWidth,Q=this.get("position");if(Q==="top"||Q==="bottom"){return{x:N-P.right,y:P.top};}else{return{x:P.left,y:P.top};}},getPosition:function(N){var R,P=this.get("node").offsetHeight,O=this.get("styles"),Q=O.padding,S=this.get("position");if(S==="left"||S==="right"){R=(P-(Q.top+Q.bottom))-(N.y-Q.top);}else{R=N.x-Q.left;}return R;}});},"@VERSION@");