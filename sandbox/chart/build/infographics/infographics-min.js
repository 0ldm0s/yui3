YUI.add("infographics",function(B){function M(U){this._createId();this._keys={};this._data=[];M.superclass.constructor.apply(this,arguments);}M.NAME="baseAxis";M.ATTRS={parent:{lazyAdd:false,value:null},roundingUnit:{getter:function(){return this._roundingUnit;},setter:function(U){this._roundingUnit=U;if(this._roundMinAndMax){this._updateMinAndMax();}return U;}},roundMinAndMax:{getter:function(){return this._roundMinAndMax;},setter:function(U){if(this._roundMinAndMax==U){return U;}this._roundMinAndMax=U;this._updateMinAndMax();}},dataType:{getter:function(){return this._dataType;}},dataProvider:{getter:function(){return this._dataProvider;},setter:function(U){if(U===this._dataProvider){return;}if(this._dataProvider){}U=B.merge(U);this._dataProvider={data:U.data.concat()};this._dataClone=this._dataProvider.data.concat();return U;},lazyAdd:false},dataMaximum:{getter:function(){return this._dataMaximum;}},maximum:{getter:function(){if(this._autoMax||!this._setMaximum){return this._dataMaximum;}return this._setMaximum;},setter:function(U){this._setMaximum=U;}},dataMinimum:{getter:function(){return this._dataMinimum;}},minimum:{getter:function(){if(this._autoMin||!this._setMinimum){return this._dataMinimum;}return this._setMinimum;},setter:function(U){this._setMinimum=U;return U;}},autoMax:{getter:function(){return this._autoMax;},setter:function(U){this._autoMax=U;}},autoMin:{getter:function(){return this._autoMin;},setter:function(U){this._autoMin=U;}},data:{getter:function(){return this._data;}},keys:{getter:function(){return this._keys;}}};B.extend(M,B.Base,{GUID:"yuibaseaxis",_createId:function(){this._id=B.guid(this.GUID);},_roundingUnit:NaN,_roundMinAndMax:true,_dataType:null,_dataProvider:null,_dataClone:null,_setMaximum:null,_dataMaximum:null,_autoMax:true,_setMinimum:null,_dataMinimum:null,_autoMin:true,_data:null,_keys:null,_axisReady:false,addKey:function(X){if(this._keys.hasOwnProperty(X)){return;}this._dataClone=this._dataProvider.data.concat();var W=this._keys,U={},V={axis:this};this._setDataByKey(X);U[X]=W[X].concat();this._updateMinAndMax();V.keysAdded=U;if(!this._dataReady){this._dataReady=true;this.publish("axisReady",{fireOnce:true});this.fire("axisReady",V);}else{this.fire("axisUpdate",V);}},_setDataByKey:function(Y){var X,Z,V=[],W=this._dataClone.concat(),U=W.length;for(X=0;X<U;++X){Z=W[X];V[X]=Z[Y];}this._keys[Y]=V;this._data=this._data.concat(V);},removeKey:function(a){if(!this._keys.hasOwnProperty(a)){return;}var V,b,U={},X=[],W={},Z=this._keys,Y={};W[a]=Z[a].concat();for(V in Z){if(Z.hasOwnProperty(V)){if(V==a){continue;}b=Z[V];X=X.concat(b);U[V]=b;}}Z=U;this._data=X;this._updateMinAndMax();Y.keysRemoved=W;this.fire("axisUpdate",Y);},getKeyValueAt:function(V,U){var X=NaN,W=this.keys;if(W[V]&&W[V][U]){X=W[V][U];}return X;},getDataByKey:function(V){var U=this._keys;if(U[V]){return U[V];}return null;},_updateMinAndMax:function(){var Z=this.get("data"),V=0,Y=0,U,W,X;if(Z&&Z.length&&Z.length>0){U=Z.length;V=Y=Z[0];if(U>1){for(X=1;X<U;X++){W=Z[X];if(isNaN(W)){continue;}V=Math.max(W,V);Y=Math.min(W,Y);}}}this._dataMaximum=V;this._dataMinimum=Y;},newDataUpdateHandler:function(){var U,W=this._keys,V={};this._data=[];this._dataClone=this._dataProvider.data.concat();for(U in W){if(W.hasOwnProperty(U)){W[U]=this._setDataByKey(U);this._data=this._data.concat(W[U]);}}this._updateMinAndMax();V.keysAdded=W;this.fire("axisUpdate",V);},_keyDataUpdateHandler:function(){var U=false,X={},Y=X.keysAdded,Z=X.keysRemoved,W=this._keys,V;for(V in W){if(W.hasOwnProperty(V)){if(Y.hasOwnProperty(V)){U=true;W[V]=W[V];}if(Z.hasOwnProperty(V)){U=true;W[V]=[];}}}if(!U){return;}this._data=[];for(V in W){if(W.hasOwnProperty(V)){this._data=this._data.concat(W[V]);}}this._updateMinAndMax();X.keysAdded=Y;X.keysRemoved=Z;this.fire("axisUpdate",X);},getTotalMajorUnits:function(W,U){var V;if(W.determinant==="count"){V=W.count;}else{if(W.determinant==="distance"){V=(U/W.distance)+1;}}return Math.min(V,this._data.length);},getLabelAtPosition:function(Z,V,X){var W=this.get("minimum"),U=this.get("maximum"),Y=(Z/V*(U-W))+W;return this.getFormattedLabel(Y,X);},getFormattedLabel:function(V,U){return V;}});B.BaseAxis=M;function I(U){I.superclass.constructor.apply(this,arguments);}I.NAME="numericAxis";I.ATTRS={alwaysShowZero:{getter:function(){return this._alwaysShowZero;},setter:function(U){if(U==this._alwaysShowZero){return;}this._alwaysShowZero=U;this._updateMinAndMax();return U;}}};B.extend(I,B.BaseAxis,{_dataType:"numeric",_alwaysShowZero:true,_updateMinAndMax:function(){var a=this.get("data"),V=0,Z=0,U,W,Y,X;if(a&&a.length&&a.length>0){U=a.length;V=Z=a[0];if(U>1){for(Y=1;Y<U;Y++){W=a[Y];if(isNaN(W)){if(B.Lang.isObject(W)){for(X in W){if(W.hasOwnProperty(X)){V=Math.max(W[X],V);Z=Math.min(W[X],Z);}}}continue;}V=Math.max(W,V);Z=Math.min(W,Z);}}}if(this._roundMinAndMax&&!isNaN(this._roundingUnit)){this._dataMaximum=this._roundUpToNearest(V,this._roundingUnit);this._dataMinimum=this._roundDownToNearest(Z,this._roundingUnit);}else{this._dataMaximum=V;this._dataMinimum=Z;}if(this._alwaysShowZero){this._dataMinimum=Math.min(0,this._dataMinimum);}},_roundToNearest:function(W,V){V=V||1;if(V===0){return W;}var U=Math.round(this._roundToPrecision(W/V,10))*V;return this._roundToPrecision(U,10);},_roundUpToNearest:function(V,U){U=U||1;if(U===0){return V;}return Math.ceil(this._roundToPrecision(V/U,10))*U;},_roundDownToNearest:function(V,U){U=U||1;if(U===0){return V;}return Math.floor(this._roundToPrecision(V/U,10))*U;},_roundToPrecision:function(W,U){U=U||0;var V=Math.pow(10,U);return Math.round(V*W)/V;},getFormattedLabel:function(V,U){return B.DataType.Number.format(V,U);}});B.NumericAxis=I;function E(U){E.superclass.constructor.apply(this,arguments);}E.NAME="stackedAxis";B.extend(E,B.NumericAxis,{_updateMinAndMax:function(){var a=0,V=0,Z=0,U=0,Y=0,W=0,b,X,c=this.get("keys");for(b in c){if(c.hasOwnProperty(b)){Y=Math.max(Y,c[b].length);}}for(;W<Y;++W){Z=0;U=0;for(b in c){if(c.hasOwnProperty(b)){X=c[b][W];if(isNaN(X)){continue;
}if(X>=0){Z+=X;}else{U+=X;}}}if(Z>0){a=Math.max(a,Z);}else{a=Math.max(a,U);}if(U<0){V=Math.min(V,U);}else{V=Math.min(V,Z);}}if(this._roundMinAndMax&&!isNaN(this._roundingUnit)){this._dataMaximum=this._roundUpToNearest(a,this._roundingUnit);this._dataMinimum=this._roundDownToNearest(V,this._roundingUnit);}else{this._dataMaximum=a;this._dataMinimum=V;}if(this._alwaysShowZero&&V>0){this._dataMinimum=Math.min(0,this._dataMinimum);}}});B.StackedAxis=E;function D(U){D.superclass.constructor.apply(this,arguments);}D.NAME="timeAxis";D.ATTRS={maximum:{getter:function(){if(this._autoMax||this._setMaximum===null){return this._getNumber(this._dataMaximum);}return this._setMaximum;},setter:function(U){this._setMaximum=this._getNumber(U);this.fire("dataChange");}},minimum:{getter:function(){if(this._autoMin||this._setMinimum===null){return this._dataMinimum;}return this._setMinimum;},setter:function(U){this._setMinimum=this._getNumber(U);this.fire("dataChange");}}};B.extend(D,B.BaseAxis,{GUID:"yuitimeaxis",_dataType:"time",_setDataByKey:function(Y){var Z,V=[],X=this._dataClone.concat(),W,a,U=X.length;for(W=0;W<U;++W){Z=X[W][Y];if(B.Lang.isDate(Z)){a=Z.valueOf();}else{if(!B.Lang.isNumber(Z)){a=new Date(Z.toString()).valueOf();}else{a=Z;}}V[W]=a;}this._keys[Y]=V;this._data=this._data.concat(V);},_getNumber:function(U){if(B.Lang.isDate(U)){U=U.valueOf();}else{if(!B.Lang.isNumber(U)){U=new Date(U.toString()).valueOf();}}return U;},updateMaxByPosition:function(V){var U=this._dataMaximum-this._dataMinimum;V=Math.round(V*100)/100;V=V*U;V+=this._dataMinimum;this.set("maximum",V);},updateMinByPosition:function(V){var U=this._dataMaximum-this._dataMinimum;V=Math.round(V*100)/100;V=V*U;V+=this._dataMinimum;this.set("minimum",V);},updateMinAndMaxByPosition:function(W,Y,V){var X=W/V,U=Y/V;X+=this._dataMinimum;U+=this._dataMaximum;this._setMaximum=this._getNumber(U);this._setMinimum=this._getNumber(X);this.fire("dataChange");},getFormattedLabel:function(V,U){return B.DataType.Date.format(B.DataType.Date.parse(V),{format:U});}});B.TimeAxis=D;function F(U){F.superclass.constructor.apply(this,arguments);}F.NAME="categoryAxis";B.extend(F,B.BaseAxis,{GUID:"yuicategoryaxis",_dataType:"category",_getKeyValueAt:function(V,U){var W=NaN;if(this.keys[V]){W=U;}return W;},_updateMinAndMax:function(){this._dataMaximum=Math.max(this._data.length-1,0);this._dataMinimum=0;},_setDataByKey:function(Y){var X,Z,V=[],a=[],W=this._dataClone.concat(),U=W.length;for(X=0;X<U;++X){Z=W[X];V[X]=X;a[X]=Z[Y];}this._keys[Y]=V;this._data=this._data.concat(a);},getTotalMajorUnits:function(V,U){return this._data.length;},getLabelAtPosition:function(Y,U,X){var W=this._data.length-1,V=Math.round(Y/(U/W));return this._data[V];}});B.CategoryAxis=F;function P(U){}P.NAME="renderer";P.ATTRS={styles:{value:{},getter:function(){this._styles=this._styles||this._getDefaultStyles();return this._styles;},setter:function(U){this._styles=this._setStyles(U);return this._styles;},validator:function(U){return B.Lang.isObject(U);}}};P.prototype={_newStyles:null,_styles:null,_setStyles:function(V){var U=this.get("styles");return this._mergeStyles(V,U);},_mergeStyles:function(V,U){this._newStyles={};B.Object.each(V,function(Y,X,W){if(U.hasOwnProperty(X)&&B.Lang.isObject(Y)){U[X]=this._mergeStyles(Y,U[X]);}else{U[X]=Y;this._newStyles[X]=Y;}},this);return U;},_getDefaultStyles:function(){return{};}};B.Renderer=P;B.CartesianSeries=B.Base.create("cartesianSeries",B.Widget,[B.Renderer],{_leftOrigin:null,_bottomOrigin:null,renderUI:function(){this._setCanvas();},bindUI:function(){var V=this.get("xAxis"),U=this.get("yAxis");if(V){V.after("axisReady",B.bind(this._xAxisChangeHandler,this));V.after("axisUpdate",B.bind(this._xAxisChangeHandler,this));}if(U){U.after("axisReady",B.bind(this._yAxisChangeHandler,this));U.after("axisUpdate",B.bind(this._yAxisChangeHandler,this));}this.after("xAxisChange",B.bind(this.xAxisChangeHandler,this));this.after("yAxisChange",B.bind(this.yAxisChangeHandler,this));this.after("stylesChange",B.bind(this._updateHandler,this));},syncUI:function(){this.draw();},_updateHandler:function(U){if(this.get("rendered")){this.draw();}},GUID:"yuicartesianseries",_setCanvas:function(){var U=this.get("contentBox"),W=document.createElement("div"),V=W.style;U.appendChild(W);V.position="absolute";V.display="block";V.top="0px";V.left="0px";V.width="100%";V.height="100%";this.set("node",W);this.set("graphic",new B.Graphic());this.get("graphic").render(this.get("node"));},_xAxisChangeHandler:function(U){if(this.get("rendered")&&this.get("xKey")&&this.get("yKey")){this.draw();}},_yAxisChangeHandler:function(U){if(this.get("rendered")&&this.get("xKey")&&this.get("yKey")){this.draw();}},setAreaData:function(){var u,s,l=B.Node.one(this._parentNode).get("parentNode"),e=l.get("offsetWidth"),o=l.get("offsetHeight"),g=this.get("styles").padding,k=g.left,r=g.top,b=e-(k+g.right),n=o-(r+g.bottom),j=[],x=[],d=this.get("xAxis"),V=this.get("yAxis"),v=d.get("maximum"),q=d.get("minimum"),W=V.get("maximum"),U=V.get("minimum"),X=this.get("xKey"),a=this.get("yKey"),Z=b/(v-q),f=n/(W-U),Y=d.getDataByKey(X).concat(),p=V.getDataByKey(a).concat(),c=Y.length,t=this.get("direction"),m=0;if(t==="vertical"){p=p.reverse();}this.get("graphic").setSize(e,o);this._leftOrigin=Math.round(((0-q)*Z)+k);this._bottomOrigin=Math.round((n+r)-(0-U)*f);for(;m<c;++m){u=Math.round((((Y[m]-q)*Z)+k));s=Math.round(((n+r)-(p[m]-U)*f));j.push(u);x.push(s);}this.set("xcoords",j);this.set("ycoords",x);},drawGraph:function(){this.drawMarkers();},draw:function(){var W=B.Node.one(this._parentNode).get("parentNode"),U=W.get("offsetWidth"),V=W.get("offsetHeight");if(!isNaN(U)&&!isNaN(V)&&U>0&&V>0){this.setAreaData();this.drawGraph();}},drawMarkers:function(){if(!this.get("xcoords")||this.get("xcoords").length<1){return;}var d=this.get("graphic"),o=this.get("styles").marker,b=o.width,n=o.height,Y=o.fillColor,X=o.fillAlpha,c=o.fillType||"solid",q=o.borderWidth,U=o.borderColor,g=o.borderAlpha||1,a=o.colors,Z=o.alpha||[],f=o.ratios||[],k=o.rotation||0,e=this.get("xcoords"),p=this.get("ycoords"),W=o.func||"drawCircle",l=0,m=e.length,j=p[0],V;
for(;l<m;++l){j=p[l];V=e[l];if(q>0){d.lineStyle(q,U,g);}if(c==="solid"){d.beginFill(Y,X);}else{d.beginGradientFill(c,a,Z,f,{rotation:k,width:b,height:n});}this.drawMarker(d,W,V,j,b,n);d.end();}},drawMarker:function(Z,W,Y,X,U,V){if(W==="drawCircle"){Z.drawCircle(Y,X,U/2);}else{Y-=U/2;X-=V/2;Z[W].call(Z,Y,X,U,V);}},_getDefaultStyles:function(){return{padding:{top:0,left:0,right:0,bottom:0}};}},{ATTRS:{type:{value:"cartesian"},order:{value:NaN},xcoords:{value:null},ycoords:{value:null},graph:{value:null},xAxis:{value:null,validator:function(U){return U!==this.get("xAxis");},lazyAdd:false},yAxis:{value:null,validator:function(U){return U!==this.get("yAxis");},lazyAdd:false},xKey:{value:null,validator:function(U){return U!==this.get("xKey");}},yKey:{value:null,validator:function(U){return U!==this.get("yKey");}},node:{value:null},graphic:{value:null},direction:{value:"horizontal"}}});function G(U){G.superclass.constructor.apply(this,arguments);}G.NAME="lineSeries";G.ATTRS={type:{value:"line"}};B.extend(G,B.CartesianSeries,{drawGraph:function(){var U=this.get("styles");if(U.showLines){this.drawLines();}if(U.showMarkers){this.drawMarkers();}},drawLines:function(){if(this.get("xcoords").length<1){return;}var c=this.get("xcoords"),n=this.get("ycoords"),f=c.length,W=c[0],V=n[0],m=W,k=V,j,g,e,Y=this.get("styles"),h=Y.lineType,l=Y.dashLength,a=Y.gapSpace,Z=Y.connectDiscontinuousPoints,U=Y.discontinuousType,X=Y.discontinuousDashLength,d=Y.discontinuousGapSpace,b=this.get("graphic");b.clear();b.lineStyle(Y.weight,Y.color);b.moveTo(W,V);for(e=1;e<f;e=++e){j=c[e];g=n[e];if(isNaN(g)){m=j;k=g;continue;}if(m==W){if(h!="dashed"){b.lineTo(j,g);}else{this.drawDashedLine(m,k,j,g,l,a);}}else{if(!Z){b.moveTo(j,g);}else{if(U!="solid"){this.drawDashedLine(m,k,j,g,X,d);}else{b.lineTo(j,g);}}}W=m=j;V=k=g;}b.end();},drawDashedLine:function(f,k,V,h,X,W){X=X||10;W=W||10;var Z=X+W,c=V-f,g=h-k,j=Math.sqrt(Math.pow(c,2)+Math.pow(g,2)),a=Math.floor(Math.abs(j/Z)),Y=Math.atan2(g,c),e=f,d=k,b,U=this.get("graphic");c=Math.cos(Y)*Z;g=Math.sin(Y)*Z;for(b=0;b<a;++b){U.moveTo(e,d);U.lineTo(e+Math.cos(Y)*X,d+Math.sin(Y)*X);e+=c;d+=g;}U.moveTo(e,d);j=Math.sqrt((V-e)*(V-e)+(h-d)*(h-d));if(j>X){U.lineTo(e+Math.cos(Y)*X,d+Math.sin(Y)*X);}else{if(j>0){U.lineTo(e+Math.cos(Y)*j,d+Math.sin(Y)*j);}}U.moveTo(V,h);},_getDefaultStyles:function(){return{color:"#000000",alpha:1,weight:1,marker:{fillColor:"#000000",alpha:1,weight:1,width:6,height:6},showMarkers:false,showLines:true,lineType:"solid",dashLength:10,gapSpace:10,connectDiscontinuousPoint:true,discontinuousType:"dashed",discontinuousDashLength:10,discontinuousGapSpace:10,padding:{top:0,left:0,right:0,bottom:0}};}});B.LineSeries=G;function C(U){C.superclass.constructor.apply(this,arguments);}C.NAME="columnSeries";C.ATTRS={type:{value:"column"}};B.extend(C,B.CartesianSeries,{drawMarkers:function(){if(this.get("xcoords").length<1){return;}var m=this.get("graphic"),AA=this.get("styles").marker,k=AA.width,z=AA.height,c=AA.fillColor,b=AA.fillAlpha,l=AA.fillType||"solid",AC=AA.borderWidth,U=AA.borderColor,p=AA.borderAlpha||1,j=AA.colors,d=AA.alpha||[],o=AA.ratios||[],t=AA.rotation||0,n=this.get("xcoords"),AB=this.get("ycoords"),a=AA.func||"drawRect",v=0,y=n.length,q=AB[0],Y=this.get("type"),W=this.get("graph"),g=W.seriesTypes[Y],x=g.length,V=0,X=0,e=0,f,s,u=this.get("order"),r=B.Node.one(this._parentNode).get("parentNode"),Z;for(;v<x;++v){s=g[v];V+=s.get("styles").marker.width;if(u>v){e=V;}}X=y*V;if(X>r.offsetWidth){f=this.width/X;V*=f;e*=f;k*=f;k=Math.max(k,1);}e-=V/2;for(v=0;v<y;++v){q=AB[v];z=this._bottomOrigin-q;Z=n[v]+e;if(AC>0){m.lineStyle(AC,U,p);}if(l==="solid"){m.beginFill(c,b);}else{m.beginGradientFill(l,j,d,o,{rotation:t,width:k,height:z});}this.drawMarker(m,a,Z,q,k,z);m.end();}},drawMarker:function(Z,W,Y,X,U,V){Z.drawRect(Y,X,U,V);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.ColumnSeries=C;function O(U){O.superclass.constructor.apply(this,arguments);}O.NAME="barSeries";O.ATTRS={type:{value:"bar"},direction:{value:"vertical"}};B.extend(O,B.CartesianSeries,{drawMarkers:function(){if(this.get("xcoords").length<1){return;}var l=this.get("graphic"),z=this.get("styles").marker,j=z.width,y=z.height,a=z.fillColor,Z=z.fillAlpha,k=z.fillType||"solid",AC=z.borderWidth,U=z.borderColor,o=z.borderAlpha||1,g=z.colors,b=z.alpha||[],n=z.ratios||[],s=z.rotation||0,m=this.get("xcoords"),AB=this.get("ycoords"),Y=z.func||"drawRect",u=0,x=m.length,p=AB[0],W=this.get("type"),V=this.get("graph"),f=V.seriesTypes[W],v=f.length,e=0,AA=0,c=0,d,r,t=this.get("order"),q=B.Node.one(this._parentNode).get("parentNode"),X;for(;u<v;++u){r=f[u];e+=r.get("styles").marker.height;if(t>u){c=e;}}AA=x*e;if(AA>q.offsetHeight){d=this.height/AA;e*=d;c*=d;y*=d;y=Math.max(y,1);}c-=e/2;for(u=0;u<x;++u){p=AB[u]+c;X=m[u];j=X-this._leftOrigin;if(AC>0){l.lineStyle(AC,U,o);}if(k==="solid"){l.beginFill(a,Z);}else{l.beginGradientFill(k,g,b,n,{rotation:s,width:j,height:y});}this.drawMarker(l,Y,X,p,j,y);l.end();}},drawMarker:function(Z,W,Y,X,U,V){Z.drawRect(this._leftOrigin,X,U,V);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.BarSeries=O;function K(U){K.superclass.constructor.apply(this,arguments);}K.NAME="areaSeries";K.ATTRS={type:{value:"area"},direction:{value:"horizontal"}};B.extend(K,B.CartesianSeries,{drawGraph:function(){this.drawArea();},drawArea:function(){if(this.get("xcoords").length<1){return;}var e=this.get("xcoords"),b=this.get("ycoords"),d=e.length,Y=e[0],X=b[0],W=Y,V=X,c=W,a=V,h,g,Z,f=this.get("styles"),U=this.get("graphic");U.clear();U.beginFill(f.color,f.alpha);U.moveTo(W,V);for(Z=1;Z<d;Z=++Z){h=e[Z];g=b[Z];if(isNaN(g)){c=h;a=g;continue;}U.lineTo(h,g);
W=c=h;V=a=g;}if(this.get("direction")==="vertical"){U.lineTo(this._leftOrigin,V);U.lineTo(this._leftOrigin,X);}else{U.lineTo(W,this._bottomOrigin);U.lineTo(Y,this._bottomOrigin);}U.lineTo(Y,X);U.end();},_getDefaultStyles:function(){return{color:"#000000",alpha:1,padding:{top:0,left:0,right:0,bottom:0}};}});B.AreaSeries=K;function R(U){R.superclass.constructor.apply(this,arguments);}R.NAME="rangeSeries";R.ATTRS={type:{value:"range"}};B.extend(R,B.CartesianSeries,{setAreaData:function(){var u,t,m=B.Node.one(this._parentNode).get("parentNode"),f=m.get("offsetWidth"),p=m.get("offsetHeight"),j=this.get("styles").padding,l=j.left,s=j.top,c=f-(l+j.right),o=p-(s+j.bottom),k=[],x=[],e=this.get("xAxis"),V=this.get("yAxis"),v=e.get("maximum"),r=e.get("minimum"),W=V.get("maximum"),U=V.get("minimum"),X=this.get("xKey"),b=this.get("yKey"),a=c/(v-r),g=o/(W-U),Z=e.getDataByKey(X),q=V.getDataByKey(b),d=Z.length,n,Y;this.get("graphic").setSize(f,p);this._leftOrigin=Math.round(((0-r)*a)+l);this._bottomOrigin=Math.round((o+s)-(0-U)*g);for(n=0;n<d;++n){Y=q[n];u=Math.round((((Z[n]-r)*a)+l));t={h:Math.round(((o+s)-(Y.high-U)*g)),l:Math.round(((o+s)-(Y.low-U)*g)),o:Math.round(((o+s)-(Y.open-U)*g)),c:Math.round(((o+s)-(Y.close-U)*g))};k.push(u);x.push(t);}this.set("xcoords",k);this.set("ycoords",x);},drawMarkers:function(){if(this.get("xcoords").length<1){return;}var d=this.get("graphic"),m=this.get("styles").marker,c=m.width,e=this.get("xcoords"),o=this.get("ycoords"),j=0,k=e.length,X=this.get("type"),V=this.get("graph"),b=V.seriesTypes[X],l=b.length,U=0,W=0,Z=0,a,g,h=this.get("order"),f=B.Node.one(this._parentNode).get("parentNode"),Y,n;for(;j<l;++j){g=b[j];U+=g.get("styles").marker.width;if(h>j){Z=U;}}W=k*U;if(W>f.offsetWidth){a=this.width/W;U*=a;Z*=a;c*=a;c=Math.max(c,1);}Z-=U/2;for(j=0;j<k;++j){n=o[j];Y=e[j]+Z;this.drawMarker(d,n,Y,m);}}});B.RangeSeries=R;function J(U){J.superclass.constructor.apply(this,arguments);}J.NAME="ohlcSeries";J.ATTRS={type:{value:"ohlc"}};B.extend(J,B.RangeSeries,{drawMarker:function(b,p,W,j){var i=p.h,d=p.o,f=p.l,m=p.c,a=j.width,g,V=j.upColor,Y=j.downColor,X,e=j.upAlpha,k=j.downAlpha,Z=m<d,U=j.thickness,n=W+a*0.5;g=Z?V:Y;X=Z?e:k;b.lineStyle(U,g,X);b.moveTo(W,d);b.lineTo(n,d);b.moveTo(n,i);b.lineTo(n,f);b.moveTo(n,m);b.lineTo(W+a,m);b.end();},_getDefaultStyles:function(){return{marker:{upColor:"#aaaaaa",upAlpha:1,thickness:1,borderAlpha:1,downColor:"#000000",downAlpha:1,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.OHLCSeries=J;function N(U){N.superclass.constructor.apply(this,arguments);}N.NAME="candlestickSeries";N.ATTRS={type:{value:"candlestick"}};B.extend(N,B.RangeSeries,{drawMarker:function(d,AG,a,z){var AE=AG.h,AA=AG.o,AC=AG.l,AH=AG.c,AB=Math.abs(AH-AA),v=z.width,AK,u=z.upFillColor,X=z.downFillColor,AD,q=z.upFillAlpha,AJ=z.downFillAlpha,n=AH<AA,x=z.upFillType||"solid",s=z.downFillType||"solid",Y=z.borderWidth,p=z.borderColor,AI=z.borderAlpha||1,y,t=z.upColors,AF=z.downColors,k,j=z.upAlphas||[],r=z.downAlphas||[],g,e=z.upRatios||[],i=z.downRatios||[],m,Z=z.upRotation||0,W=z.downRotation||0,f=n?x:s,b=AH<AA?AH:AA,V=AH<AA?AA:AH,U=a+v*0.5;if(Y>0){d.lineStyle(Y,p,AI);}if(f==="solid"){AK=n?u:X;AD=n?q:AJ;d.beginFill(AK,AD);}else{y=n?t:AF;m=n?Z:W;g=n?e:i;k=n?j:r;d.beginGradientFill(f,y,k,g,{rotation:m,width:v,height:AB});}if(b>AE){d.moveTo(U,AE);d.lineTo(U,b);}d.drawRect(a,b,v,AB);if(AC>AH&&AC>AA){d.moveTo(U,V);d.lineTo(U,AC);}d.end();},_getDefaultStyles:function(){return{marker:{upFillColor:"#ffffff",upFillAlpha:1,borderColor:"#000000",borderWidth:1,borderAlpha:1,upColors:[],upAlphas:[],upRatios:[],upRotation:0,downFillColor:"#000000",downFillAlpha:1,downBorderColor:"#000000",downBorderWidth:0,downBorderAlpha:1,downColors:[],downAlphas:[],downRatios:[],downRotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.CandlestickSeries=N;function T(U){T.superclass.constructor.apply(this,arguments);}T.NAME="stackedSeries";T.ATTRS={type:{value:"stacked"},direction:{value:"horizontal"}};B.extend(T,B.CartesianSeries,{drawGraph:function(){this.drawArea();},drawArea:function(){if(this.get("xcoords").length<1){return;}var q=this.get("direction"),g=B.Node.one(this._parentNode).get("parentNode"),m=g.get("offsetHeight"),j=this.get("order"),W=this.get("type"),U=this.get("graph"),X=U.seriesTypes[W],d=this.get("xcoords"),s=this.get("ycoords"),V,f,e,c,l=d.length,a=d[0],Z=s[0],r=a,p=Z,o,n,k=0,Y=this.get("styles"),b=this.get("graphic");if(j>0){V=X[j-1].get("xcoords").concat();f=X[j-1].get("ycoords").concat();if(q==="vertical"){l=V.length;for(;k<l;++k){if(!isNaN(V[k])&&!isNaN(d[k])){d[k]+=V[k];}}}else{l=f.length;for(;k<l;++k){if(!isNaN(f[k])&&!isNaN(s[k])){s[k]=f[k]-(m-s[k]);}}}c=s.concat();e=d.concat();e=e.concat(V.concat().reverse());c=c.concat(f.concat().reverse());a=e[0];Z=c[0];e.push(a);c.push(Z);}else{c=s.concat();e=d.concat();if(q==="vertical"){e.push(this._leftOrigin);e.push(this._leftOrigin);c.push(c[c.length-1]);c.push(Z);}else{e.push(e[e.length-1]);e.push(a);c.push(this._bottomOrigin);c.push(this._bottomOrigin);}e.push(a);c.push(Z);}l=e.length;b.clear();b.beginFill(Y.color,Y.alpha);b.moveTo(a,Z);for(k=1;k<l;k=++k){o=e[k];n=c[k];if(isNaN(n)){r=o;p=n;continue;}b.lineTo(o,n);r=o;p=n;}b.end();},_getDefaultStyles:function(){return{color:"#000000",alpha:1,padding:{top:0,left:0,right:0,bottom:0}};}});B.StackedAreaSeries=T;function S(U){S.superclass.constructor.apply(this,arguments);}S.NAME="graphstack";S.ATTRS={seriesCollection:{lazyAdd:false,getter:function(){return this._seriesCollection;},setter:function(U){this._parseSeriesCollection(U);return this._seriesCollection;}},parent:{value:null}};B.extend(S,B.Base,{_seriesCollection:null,seriesTypes:null,_parseSeriesCollection:function(X){var U=X.length,W=0,V;if(!X){return;}if(!this._seriesCollection){this._seriesCollection=[];}if(!this.seriesTypes){this.seriesTypes=[];}for(;W<U;++W){V=X[W];if(!(V instanceof B.CartesianSeries)){this._createSeries(V);continue;}this._addSeries(V);}U=this._seriesCollection.length;for(W=0;
W<U;++W){this._seriesCollection[W].render(this.get("parent"));}},_addSeries:function(W){var X=W.get("type"),Z=this._seriesCollection,Y=Z.length,V=this.seriesTypes,U;if(!W.get("graph")){W.set("graph",this);}W.graphOrder=Y;Z.push(W);if(!V.hasOwnProperty(X)){this.seriesTypes[X]=[];}U=this.seriesTypes[X];W.set("order",U.length);U.push(W);this.fire("seriesAdded",W);},_createSeries:function(Y){var Z=Y.type,a=this._seriesCollection,W=this.seriesTypes,V,U,X;Y.graph=this;if(!W.hasOwnProperty(Z)){W[Z]=[];}V=W[Z];Y.graph=this;Y.order=V.length;U=this._getSeries(Y.type);X=new U(Y);V.push(X);a.push(X);},_getSeries:function(U){var V;switch(U){case"line":V=B.LineSeries;break;case"column":V=B.ColumnSeries;break;case"bar":V=B.BarSeries;break;case"area":V=B.AreaSeries;break;case"candlestick":V=B.CandlestickSeries;break;case"ohlc":V=B.OHLCSeries;break;case"stackedarea":V=B.StackedAreaSeries;break;default:V=B.CartesianSeries;break;}return V;}});B.GraphStack=S;B.AxisRenderer=B.Base.create("axisrenderer",B.Widget,[B.Renderer],{axisChangeHandler:function(W){var U=W.newVal,V=W.prevVal;if(V){V.detach("axisReady",this._axisDataChangeHandler);V.detach("axisUpdate",this._axisDataChangeHandler);}U.after("axisReady",B.bind(this._axisDataChangeHandler,this));U.after("axisUpdate",B.bind(this._axisDataChangeHandler,this));},_axisDataChangeHandler:function(U){if(this.get("rendered")){this._drawAxis();}},_updateHandler:function(U){if(this.get("rendered")){this._drawAxis();}},_positionChangeHandler:function(U){this._ui=this.getLayout(this.get("position"));if(this.get("rendered")){this._drawAxis();}},renderUI:function(){this._ui=this.getLayout(this.get("position"));this._setCanvas();},bindUI:function(){var U=this.get("axis");if(U){U.after("axisReady",B.bind(this._axisDataChangeHandler,this));U.after("axisUpdate",B.bind(this._axisDataChangeHandler,this));}this.after("axisChange",this.axisChangeHandler);this.after("stylesChange",this._updateHandler);this.after("positionChange",this._positionChangeHandler);this.after("overlapGraphChange",this._updateHandler);},syncUI:function(){this._drawAxis();},_setCanvas:function(){var U=this.get("contentBox"),X=this.get("position"),Y=document.createElement("div"),W=Y.style,V=this._parentNode;U.appendChild(Y);W.position="absolute";W.display="block";W.top="0px";W.left="0px";W.border="1px";if(X==="top"||X==="bottom"){U.setStyle("width",V.getStyle("width"));}else{U.setStyle("height",V.getStyle("height"));}W.width=U.getStyle("width");W.height=U.getStyle("height");this.set("node",Y);this.set("graphic",new B.Graphic());this.get("graphic").render(this.get("node"));},_getDefaultStyles:function(){return{majorTicks:{display:"inside",length:4,color:"#000000",weight:1,alpha:1},minorTicks:{display:"none",length:2,color:"#000000",weight:1},line:{weight:1,color:"#000000",alpha:1},majorUnit:{determinant:"count",count:5,distance:75},padding:{top:0,left:0,right:0,bottom:0},top:"0px",left:"0px",width:"100px",height:"100px",hideOverlappingLabelTicks:false};}},{NAME:"axisRenderer",ATTRS:{graphic:{value:null},axis:{value:null,validator:function(U){return U!==this.get("axis");}},node:{value:null},position:{value:"bottom",validator:function(U){return((U!==this.get("position"))&&(U==="bottom"||U==="top"||U==="left"||U==="right"));}},topTickOffset:{value:0},bottomTickOffset:{value:0},leftTickOffset:{value:0},rightTickOffset:{value:0},overlapGraph:{value:true,validator:function(U){return B.Lang.isBoolean(U);}}}});function H(U){H.superclass.constructor.apply(this,arguments);}H.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};B.extend(H,B.Base,{setTickOffsets:function(){var U=this.get("axisRenderer"),Y=U.get("styles").majorTicks,W=Y.length,V=W*0.5,X=Y.display;U.set("topTickOffset",0);U.set("bottomTickOffset",0);switch(X){case"inside":U.set("rightTickOffset",W);break;case"outside":U.set("leftTickOffset",W);break;case"cross":U.set("rightTickOffset",V);U.set("leftTickOffset",V);break;}},getLineStart:function(){var U=this.get("axisRenderer"),V=U.get("styles"),Z=V.padding,a=V.majorTicks,W=a.length,Y=a.display,X={x:Z.left,y:0};if(Y==="outside"){X.x+=W;}else{if(Y==="cross"){X.x+=W/2;}}return X;},drawTick:function(a,Y){var V=this.get("axisRenderer"),W=V.get("styles"),Z=W.padding,X=Y.length,b={x:Z.left,y:a.y},U={x:X+Z.left,y:a.y};V.drawLine(b,U,Y);},getLabelPoint:function(U){var V=this.get("axisRenderer");return{x:U.x-V.get("leftTickOffset"),y:U.y};},positionLabel:function(i,k){var b=this.get("axisRenderer"),V=b.get("styles").label,Y=k.x,e=k.y,Z=Math.min(90,Math.max(-90,V.rotation)),c=Math.abs(Z),g=Math.PI/180,j=parseFloat(parseFloat(Math.sin(c*g)).toFixed(8)),X=parseFloat(parseFloat(Math.cos(c*g)).toFixed(8)),f=X,d=Z>0?-j:j,a=-d,W=f,h=0,U=this.get("maxLabelSize");if(B.UA.ie){i.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(Z===0){Y-=i.offsetWidth;e-=i.offsetHeight*0.5;}else{if(c===90){Y-=i.offsetHeight;e-=i.offsetWidth*0.5;}else{if(Z===-90){Y-=i.offsetHeight;e-=i.offsetWidth*0.5;}else{if(Z>0){Y-=(X*i.offsetWidth)+(i.offsetHeight*Z/90);e-=(j*i.offsetWidth)+(X*(i.offsetHeight*0.5));}else{Y-=(X*i.offsetWidth)+(c/90*i.offsetHeight);e-=X*(i.offsetHeight*0.5);}}}}i.style.left=Y+"px";i.style.top=e+"px";i.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+f+" M12="+d+" M21="+a+" M22="+W+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(U,i.offsetWidth));return;}if(Z===0){h=i.offsetWidth;Y-=h;e-=i.offsetHeight*0.5;}else{if(Z===90){h=i.offsetHeight;e-=i.offsetWidth*0.5;}else{if(Z===-90){h=i.offsetHeight;Y-=h;e+=i.offsetWidth*0.5;}else{h=(X*i.offsetWidth)+(j*i.offsetHeight);if(Z<0){Y-=h;e+=(j*i.offsetWidth)-(X*(i.offsetHeight*0.6));}else{Y-=(X*i.offsetWidth);e-=(j*i.offsetWidth)+(X*(i.offsetHeight*0.6));}}}}i.style.left=Y+"px";i.style.top=e+"px";i.style.MozTransformOrigin="0 0";i.style.MozTransform="rotate("+Z+"deg)";i.style.webkitTransformOrigin="0 0";i.style.webkitTransform="rotate("+Z+"deg)";this.set("maxLabelSize",Math.max(h,U));},setSizeAndPosition:function(){var U=this.get("maxLabelSize"),V=this.get("axisRenderer"),W=V.get("styles"),Y=W.line.weight,Z=W.majorTicks,X=Z.display,a=Z.length;
if(X==="outside"){Y+=a;}else{if(X==="cross"){Y+=a*0.5;}}Y+=U;V.get("node").style.left=U+"px";V.set("width",Y);},offsetNodeForTick:function(W){var U=this.get("axisRenderer"),Y=U.get("styles").majorTicks,V=Y.length,X=Y.display;if(X==="inside"){W.style.marginRight=(0-V)+"px";}else{if(X==="cross"){W.style.marginRight=(0-(V*0.5))+"px";}}}});B.LeftAxisLayout=H;function L(U){L.superclass.constructor.apply(this,arguments);}L.ATTRS={axisRenderer:{value:null}};B.extend(L,B.Base,{setTickOffsets:function(){var U=this.get("axisRenderer"),Y=U.get("styles").majorTicks,W=Y.length,V=W*0.5,X=Y.display;U.set("topTickOffset",0);U.set("bottomTickOffset",0);switch(X){case"inside":U.set("leftTickOffset",W);break;case"outside":U.set("rightTickOffset",W);break;case"cross":U.set("rightTickOffset",V);U.set("leftTickOffset",V);break;}},drawTick:function(a,Y){var V=this.get("axisRenderer"),W=V.get("styles"),Z=W.padding,X=Y.length,b={x:Z.left,y:a.y},U={x:Z.left+X,y:a.y};V.drawLine(b,U,Y);},getLineStart:function(){var U=this.get("axisRenderer"),V=U.get("styles"),Z=V.padding,a=V.majorTicks,W=a.length,Y=a.display,X={x:Z.left,y:Z.top};if(Y==="inside"){X.x+=W;}else{if(Y==="cross"){X.x+=W/2;}}return X;},getLabelPoint:function(U){var V=this.get("axisRenderer");return{x:U.x+V.get("rightTickOffset"),y:U.y};},positionLabel:function(g,i){var a=this.get("axisRenderer"),U=a.get("styles").label,X=i.x,d=i.y,Y=Math.min(Math.max(U.rotation,-90),90),b=Math.abs(Y),f=Math.PI/180,h=parseFloat(parseFloat(Math.sin(b*f)).toFixed(8)),W=parseFloat(parseFloat(Math.cos(b*f)).toFixed(8)),e=W,c=Y>0?-h:h,Z=-c,V=e;if(B.UA.ie){g.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(Y===0){d-=g.offsetHeight*0.5;}else{if(b===90){d-=g.offsetWidth*0.5;}else{if(Y>0){d-=(W*(g.offsetHeight*0.5));}else{d-=(h*g.offsetWidth)+(W*(g.offsetHeight*0.5));}}}g.style.left=X+"px";g.style.top=d+"px";g.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+e+" M12="+c+" M21="+Z+" M22="+V+' sizingMethod="auto expand")';return;}if(Y===0){d-=g.offsetHeight*0.5;}else{if(Y===90){X+=g.offsetHeight;d-=g.offsetWidth*0.5;}else{if(Y===-90){d+=g.offsetWidth*0.5;}else{if(Y<0){d-=(W*(g.offsetHeight*0.6));}else{d-=W*(g.offsetHeight*0.6);X+=h*g.offsetHeight;}}}}g.style.left=X+"px";g.style.top=d+"px";g.style.MozTransformOrigin="0 0";g.style.MozTransform="rotate("+Y+"deg)";g.style.webkitTransformOrigin="0 0";g.style.webkitTransform="rotate("+Y+"deg)";},setSizeAndPosition:function(U){var V=this.get("axisRenderer"),W=V.get("styles"),Y=W.line.weight,Z=W.majorTicks,X=Z.display,a=Z.length;if(X==="outside"){Y+=a;}else{if(X==="cross"){Y+=a*0.5;}}Y+=U;V.set("width",Y);},offsetNodeForTick:function(W){var U=this.get("axisRenderer"),Y=U.get("styles").majorTicks,V=Y.length,X=Y.display;if(X==="inside"){W.style.marginLeft=(0-V)+"px";}else{if(X==="cross"){W.style.marginLeft=(0-(V*0.5))+"px";}}}});B.RightAxisLayout=L;function Q(U){Q.superclass.constructor.apply(this,arguments);}Q.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};B.extend(Q,B.Base,{setTickOffsets:function(){var U=this.get("axisRenderer"),Y=U.get("styles").majorTicks,W=Y.length,V=W*0.5,X=Y.display;U.set("leftTickOffset",0);U.set("rightTickOffset",0);switch(X){case"inside":U.set("topTickOffset",W);break;case"outside":U.set("bottomTickOffset",W);break;case"cross":U.set("topTickOffset",V);U.set("bottomTickOffset",V);break;}},setSizeAndPosition:function(){var U=this.get("maxLabelSize"),V=this.get("axisRenderer"),W=V.get("styles"),Y=W.line.weight,Z=W.majorTicks,X=Z.display,a=Z.length;if(X==="outside"){Y+=a;}else{if(X==="cross"){Y+=a*0.5;}}Y+=U;V.set("height",Y);},getLineStart:function(){var U=this.get("axisRenderer"),V=U.get("styles"),Z=V.padding,a=V.majorTicks,W=a.length,Y=a.display,X={x:0,y:Z.top};if(Y==="inside"){X.y+=W;}else{if(Y==="cross"){X.y+=W/2;}}return X;},drawTick:function(a,Y){var V=this.get("axisRenderer"),W=V.get("styles"),Z=W.padding,X=Y.length,b={x:a.x,y:Z.top},U={x:a.x,y:X+Z.top};V.drawLine(b,U,Y);},getLabelPoint:function(U){var V=this.get("axisRenderer");return{x:U.x,y:U.y+V.get("bottomTickOffset")};},positionLabel:function(i,k){var b=this.get("axisRenderer"),V=b.get("styles").label,Y=k.x,e=k.y,Z=Math.min(90,Math.max(-90,V.rotation)),c=Math.abs(Z),g=Math.PI/180,j=parseFloat(parseFloat(Math.sin(c*g)).toFixed(8)),X=parseFloat(parseFloat(Math.cos(c*g)).toFixed(8)),f=X,d=Z>0?-j:j,a=-d,W=f,h=0,U=this.get("maxLabelSize");if(B.UA.ie){f=X;d=Z>0?-j:j;a=-d;W=f;i.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(c===90){Y-=i.offsetHeight*0.5;}else{if(Z<0){Y-=X*i.offsetWidth;Y-=j*(i.offsetHeight*0.5);}else{if(Z>0){Y-=j*(i.offsetHeight*0.5);}else{Y-=i.offsetWidth*0.5;}}}i.style.left=Y+"px";i.style.top=e+"px";i.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+f+" M12="+d+" M21="+a+" M22="+W+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(i.offsetHeight,U));return;}if(Z===0){Y-=i.offsetWidth*0.5;h=i.offsetHeight;}else{if(c===90){h=i.offsetWidth;if(Z===90){Y+=i.offsetHeight*0.5;}else{e+=h;Y-=i.offsetHeight*0.5;}}else{h=(j*i.offsetWidth)+(X*i.offsetHeight);if(Z<0){Y-=(X*i.offsetWidth)+(j*(i.offsetHeight*0.6));e+=j*i.offsetWidth;}else{Y+=j*(i.offsetHeight*0.6);}}}i.style.left=Y+"px";i.style.top=e+"px";i.style.MozTransformOrigin="0 0";i.style.MozTransform="rotate("+Z+"deg)";i.style.webkitTransformOrigin="0 0";i.style.webkitTransform="rotate("+Z+"deg)";this.set("maxLabelSize",Math.max(h,U));},offsetNodeForTick:function(W){var U=this.get("axisRenderer"),Y=U.get("styles").majorTicks,V=Y.length,X=Y.display;if(X==="inside"){W.style.marginTop=(0-V)+"px";}else{if(X==="cross"){W.style.marginTop=(0-(V*0.5))+"px";}}}});B.BottomAxisLayout=Q;function A(U){A.superclass.constructor.apply(this,arguments);}A.ATTRS={axisRenderer:{value:null}};B.extend(A,B.Base,{setTickOffsets:function(){var U=this.get("axisRenderer"),Y=U.get("styles").majorTicks,W=Y.length,V=W*0.5,X=Y.display;U.set("leftTickOffset",0);U.set("rightTickOffset",0);switch(X){case"inside":U.set("bottomTickOffset",W);
break;case"outside":U.set("topTickOffset",W);break;case"cross":U.set("topTickOffset",V);U.set("bottomTickOffset",V);break;}},getLineStart:function(){var U=this.get("axisRenderer"),V=U.get("styles"),Z=V.padding,a=V.majorTicks,W=a.length,Y=a.display,X={x:0,y:Z.top};if(Y==="outside"){X.y+=W;}else{if(Y==="cross"){X.y+=W/2;}}return X;},drawTick:function(a,Y){var V=this.get("axisRenderer"),W=V.get("styles"),Z=W.padding,X=Y.length,b={x:a.x,y:Z.top},U={x:a.x,y:X+Z.top};V.drawLine(b,U,Y);},getLabelPoint:function(V){var U=this.get("axisRenderer");return{x:V.x,y:V.y-U.get("topTickOffset")};},positionLabel:function(g,i){var a=this.get("axisRenderer"),U=a.get("styles").label,X=i.x,d=i.y,Y=Math.max(-90,Math.min(90,U.rotation)),b=Math.abs(Y),f=Math.PI/180,h=parseFloat(parseFloat(Math.sin(b*f)).toFixed(8)),W=parseFloat(parseFloat(Math.cos(b*f)).toFixed(8)),e,c,Z,V;Y=Math.min(90,Y);Y=Math.max(-90,Y);if(B.UA.ie){g.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";e=W;c=Y>0?-h:h;Z=-c;V=e;if(Y===0){X-=g.offsetWidth*0.5;d-=g.offsetHeight;}else{if(b===90){X-=g.offsetHeight*0.5;d-=g.offsetWidth;}else{if(Y>0){X-=(W*g.offsetWidth)+Math.min((h*g.offsetHeight),(Y/180*g.offsetHeight));d-=(h*g.offsetWidth)+(W*(g.offsetHeight));}else{X-=h*(g.offsetHeight*0.5);d-=(h*g.offsetWidth)+(W*(g.offsetHeight));}}}g.style.left=X;g.style.top=d;g.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+e+" M12="+c+" M21="+Z+" M22="+V+' sizingMethod="auto expand")';return;}if(Y===0){X-=g.offsetWidth*0.5;d-=g.offsetHeight;}else{if(Y===90){X+=g.offsetHeight*0.5;d-=g.offsetWidth;}else{if(Y===-90){X-=g.offsetHeight*0.5;d-=0;}else{if(Y<0){X-=(h*(g.offsetHeight*0.6));d-=(W*g.offsetHeight);}else{X-=(W*g.offsetWidth)-(h*(g.offsetHeight*0.6));d-=(h*g.offsetWidth)+(W*g.offsetHeight);}}}}g.style.left=X+"px";g.style.top=d+"px";g.style.MozTransformOrigin="0 0";g.style.MozTransform="rotate("+Y+"deg)";g.style.webkitTransformOrigin="0 0";g.style.webkitTransform="rotate("+Y+"deg)";},setSizeAndPosition:function(U){var V=this.get("axisRenderer"),W=V.get("styles"),Y=W.line.weight,Z=W.majorTicks,X=Z.display,a=Z.length;if(X==="outside"){Y+=a;}else{if(X==="cross"){Y+=a*0.5;}}Y+=U;V.get("node").style.top=U+"px";V.set("height",Y);},offsetNodeForTick:function(W){var U=this.get("axisRenderer"),Y=U.get("styles").majorTicks,V=Y.length,X=Y.display;if(X==="inside"){W.style.marginBottom=(0-V)+"px";}else{if(X==="cross"){W.style.marginBottom=(0-(V*0.5))+"px";}}}});B.TopAxisLayout=A;B.mix(B.AxisRenderer.prototype,{_ui:null,getLayout:function(V){var U;switch(V){case"top":U=new B.TopAxisLayout({axisRenderer:this});break;case"bottom":U=new B.BottomAxisLayout({axisRenderer:this});break;case"left":U=new B.LeftAxisLayout({axisRenderer:this});break;case"right":U=new B.RightAxisLayout({axisRenderer:this});break;}return U;},drawLine:function(W,V,U){var X=this.get("graphic");X.lineStyle(U.weight,U.color,U.alpha);X.moveTo(W.x,W.y);X.lineTo(V.x,V.y);X.end();},_drawAxis:function(){var V=this.get("styles"),e=V.majorTicks,f=e.display!="none",Y,d=V.majorUnit,W=this.get("axis"),c,h,Z=0,X,a,b,j,g=this._ui,U=this.get("graphic");U.clear();g.setTickOffsets();X=this.getLength();b=g.getLineStart();Y=this.getFirstPoint(b);this.drawLine(b,this.getLineEnd(Y),this.get("styles").line);if(f){g.drawTick(Y,e);}c=W.getTotalMajorUnits(d,X);if(c<1){return;}h=X/(c-1);this._createLabelCache();g.set("maxLabelSize",0);for(;Z<c;++Z){if(f){g.drawTick(Y,e);}a=this.getPosition(Y);j=this.getLabel(Y,W.getLabelAtPosition(a,X));g.positionLabel(j,g.getLabelPoint(Y));Y=this.getNextPoint(Y,h);}g.setSizeAndPosition();this._clearLabelCache();if(this.get("overlapGraph")){g.offsetNodeForTick(this.get("node"));}},_labels:null,_labelCache:null,getLabel:function(X,U,Y){var W,V=this._labelCache;if(V.length>0){W=V.shift();}else{W=document.createElement("span");}W.innerHTML=U;W.style.display="block";W.style.position="absolute";this.get("node").appendChild(W);this._labels.push(W);return W;},_createLabelCache:function(){if(this._labels){this._labelCache=this._labels.concat();}else{this._labelCache=[];}this._labels=[];},_clearLabelCache:function(){var U=this._labelCache.length,W=0,V,X;for(;W<U;++W){V=X[W];V.parentNode.removeChild(V);}this._labelCache=[];},_calculateSizeByTickLength:true,getLineEnd:function(W){var U=this.get("node").offsetWidth,V=this.get("node").offsetHeight,X=this.get("position");if(X==="top"||X==="bottom"){return{x:U,y:W.y};}else{return{x:W.x,y:V};}},getLength:function(){var V,X=this.get("styles"),Y=X.padding,U=this.get("node").offsetWidth,W=this.get("node").offsetHeight,Z=this.get("position");if(Z==="top"||Z==="bottom"){V=U-(Y.left+Y.right);}else{V=W-(Y.top+Y.bottom);}return V;},getFirstPoint:function(X){var U=this.get("styles"),Y=this.get("position"),W=U.padding,V={x:X.x,y:X.y};if(Y==="top"||Y==="bottom"){V.x+=W.left;}else{V.y+=W.top;}return V;},getNextPoint:function(U,V){var W=this.get("position");if(W==="top"||W==="bottom"){U.x=U.x+V;}else{U.y=U.y+V;}return U;},getLastPoint:function(){var V=this.get("styles"),W=V.padding,U=this.get("node").offsetWidth,X=this.get("position");if(X==="top"||X==="bottom"){return{x:U-W.right,y:W.top};}else{return{x:W.left,y:W.top};}},getPosition:function(U){var Z,X=this.get("node").offsetHeight,W=this.get("styles"),Y=W.padding,a=this.get("position"),V=this.get("axis").get("dataType");if(a==="left"||a==="right"){if(V==="numeric"){Z=(X-(Y.top+Y.bottom))-(U.y-Y.top);}else{Z=U.y-Y.top;}}else{Z=U.x-Y.left;}return Z;}});},"@VERSION@");