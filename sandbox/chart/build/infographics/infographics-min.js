YUI.add("infographics",function(C){function N(P){this._createId();this._keys={};this._data=[];N.superclass.constructor.apply(this,arguments);}N.NAME="baseAxis";N.ATTRS={parent:{lazyAdd:false,value:null},roundingUnit:{getter:function(){return this._roundingUnit;},setter:function(P){this._roundingUnit=P;if(this._roundMinAndMax){this._updateMinAndMax();}return P;}},roundMinAndMax:{getter:function(){return this._roundMinAndMax;},setter:function(P){if(this._roundMinAndMax==P){return P;}this._roundMinAndMax=P;this._updateMinAndMax();}},dataType:{getter:function(){return this._dataType;}},dataProvider:{getter:function(){return this._dataProvider;},setter:function(P){if(P===this._dataProvider){return;}if(this._dataProvider){}P=C.merge(P);this._dataProvider={data:P.data.concat()};this._dataClone=this._dataProvider.data.concat();return P;},lazyAdd:false},dataMaximum:{getter:function(){return this._dataMaximum;}},maximum:{getter:function(){if(this._autoMax||!this._setMaximum){return this._dataMaximum;}return this._setMaximum;},setter:function(P){this._setMaximum=P;}},dataMinimum:{getter:function(){return this._dataMinimum;}},minimum:{getter:function(){if(this._autoMin||!this._setMinimum){return this._dataMinimum;}return this._setMinimum;},setter:function(P){this._setMinimum=P;return P;}},autoMax:{getter:function(){return this._autoMax;},setter:function(P){this._autoMax=P;}},autoMin:{getter:function(){return this._autoMin;},setter:function(P){this._autoMin=P;}},data:{getter:function(){return this._data;}},keys:{getter:function(){return this._keys;}}};C.extend(N,C.Base,{GUID:"yuibaseaxis",_createId:function(){this._id=C.guid(this.GUID);},_roundingUnit:NaN,_roundMinAndMax:true,_dataType:null,_dataProvider:null,_dataClone:null,_setMaximum:null,_dataMaximum:null,_autoMax:true,_setMinimum:null,_dataMinimum:null,_autoMin:true,_data:null,_keys:null,_axisReady:false,addKey:function(S){if(this._keys.hasOwnProperty(S)){return;}this._dataClone=this._dataProvider.data.concat();var R=this._keys,P={},Q={axis:this};this._setDataByKey(S);P[S]=R[S].concat();this._updateMinAndMax();Q.keysAdded=P;if(!this._dataReady){this._dataReady=true;this.publish("axisReady",{fireOnce:true});this.fire("axisReady",Q);}else{this.fire("axisUpdate",Q);}},_setDataByKey:function(T){var S,U,Q=[],R=this._dataClone.concat(),P=R.length;for(S=0;S<P;++S){U=R[S];Q[S]=U[T];}this._keys[T]=Q;this._data=this._data.concat(Q);},removeKey:function(V){if(!this._keys.hasOwnProperty(V)){return;}var Q,W,P={},S=[],R={},U=this._keys,T={};R[V]=U[V].concat();for(Q in U){if(U.hasOwnProperty(Q)){if(Q==V){continue;}W=U[Q];S=S.concat(W);P[Q]=W;}}U=P;this._data=S;this._updateMinAndMax();T.keysRemoved=R;this.fire("axisUpdate",T);},getKeyValueAt:function(Q,P){var S=NaN,R=this.keys;if(R[Q]&&R[Q][P]){S=R[Q][P];}return S;},getDataByKey:function(Q){var P=this._keys;if(P[Q]){return P[Q];}return null;},_updateMinAndMax:function(){var U=this.get("data"),Q=0,T=0,P,R,S;if(U&&U.length&&U.length>0){P=U.length;Q=T=U[0];if(P>1){for(S=1;S<P;S++){R=U[S];if(isNaN(R)){continue;}Q=Math.max(R,Q);T=Math.min(R,T);}}}this._dataMaximum=Q;this._dataMinimum=T;},newDataUpdateHandler:function(){var P,R=this._keys,Q={};this._data=[];this._dataClone=this._dataProvider.data.concat();for(P in R){if(R.hasOwnProperty(P)){R[P]=this._setDataByKey(P);this._data=this._data.concat(R[P]);}}this._updateMinAndMax();Q.keysAdded=R;this.fire("axisUpdate",Q);},_keyDataUpdateHandler:function(){var P=false,S={},T=S.keysAdded,U=S.keysRemoved,R=this._keys,Q;for(Q in R){if(R.hasOwnProperty(Q)){if(T.hasOwnProperty(Q)){P=true;R[Q]=R[Q];}if(U.hasOwnProperty(Q)){P=true;R[Q]=[];}}}if(!P){return;}this._data=[];for(Q in R){if(R.hasOwnProperty(Q)){this._data=this._data.concat(R[Q]);}}this._updateMinAndMax();S.keysAdded=T;S.keysRemoved=U;this.fire("axisUpdate",S);},getTotalMajorUnits:function(R,P){var Q;if(R.determinant==="count"){Q=R.count;}else{if(R.determinant==="distance"){Q=(P/R.distance)+1;}}return Math.min(Q,this._data.length);},getLabelAtPosition:function(U,Q,S){var R=this.get("minimum"),P=this.get("maximum"),T=(U/Q*(P-R))+R;return this.getFormattedLabel(T,S);},getFormattedLabel:function(Q,P){return Q;}});C.BaseAxis=N;function K(P){K.superclass.constructor.apply(this,arguments);}K.NAME="numericAxis";K.ATTRS={alwaysShowZero:{getter:function(){return this._alwaysShowZero;},setter:function(P){if(P==this._alwaysShowZero){return;}this._alwaysShowZero=P;this._updateMinAndMax();return P;}}};C.extend(K,C.BaseAxis,{_dataType:"numeric",_alwaysShowZero:true,_updateMinAndMax:function(){var U=this.get("data"),Q=0,T=0,P,R,S,V="";if(U&&U.length&&U.length>0){P=U.length;Q=T=U[0];if(P>1){for(S=1;S<P;S++){R=U[S];if(isNaN(R)){continue;}Q=Math.max(R,Q);T=Math.min(R,T);V+="\n"+R;}}}if(this._roundMinAndMax&&!isNaN(this._roundingUnit)){this._dataMaximum=this._roundUpToNearest(Q,this._roundingUnit);this._dataMinimum=this._roundDownToNearest(T,this._roundingUnit);}else{this._dataMaximum=Q;this._dataMinimum=T;}if(this._alwaysShowZero){this._dataMinimum=Math.min(0,this._dataMinimum);}},_roundToNearest:function(R,Q){Q=Q||1;if(Q===0){return R;}var P=Math.round(this._roundToPrecision(R/Q,10))*Q;return this._roundToPrecision(P,10);},_roundUpToNearest:function(Q,P){P=P||1;if(P===0){return Q;}return Math.ceil(this._roundToPrecision(Q/P,10))*P;},_roundDownToNearest:function(Q,P){P=P||1;if(P===0){return Q;}return Math.floor(this._roundToPrecision(Q/P,10))*P;},_roundToPrecision:function(R,P){P=P||0;var Q=Math.pow(10,P);return Math.round(Q*R)/Q;},getFormattedLabel:function(Q,P){return C.DataType.Number.format(Q,P);}});C.NumericAxis=K;function G(P){G.superclass.constructor.apply(this,arguments);}G.NAME="timeAxis";G.ATTRS={maximum:{getter:function(){if(this._autoMax||this._setMaximum===null){return this._getNumber(this._dataMaximum);}return this._setMaximum;},setter:function(P){this._setMaximum=this._getNumber(P);this.fire("dataChange");}},minimum:{getter:function(){if(this._autoMin||this._setMinimum===null){return this._dataMinimum;}return this._setMinimum;
},setter:function(P){this._setMinimum=this._getNumber(P);this.fire("dataChange");}}};C.extend(G,C.BaseAxis,{GUID:"yuitimeaxis",_dataType:"time",_setDataByKey:function(T){var U,Q=[],S=this._dataClone.concat(),R,V,P=S.length;for(R=0;R<P;++R){U=S[R][T];if(C.Lang.isDate(U)){V=U.valueOf();}else{if(!C.Lang.isNumber(U)){V=new Date(U.toString()).valueOf();}else{V=U;}}Q[R]=V;}this._keys[T]=Q;this._data=this._data.concat(Q);},_getNumber:function(P){if(C.Lang.isDate(P)){P=P.valueOf();}else{if(!C.Lang.isNumber(P)){P=new Date(P.toString()).valueOf();}}return P;},updateMaxByPosition:function(Q){var P=this._dataMaximum-this._dataMinimum;Q=Math.round(Q*100)/100;Q=Q*P;Q+=this._dataMinimum;this.set("maximum",Q);},updateMinByPosition:function(Q){var P=this._dataMaximum-this._dataMinimum;Q=Math.round(Q*100)/100;Q=Q*P;Q+=this._dataMinimum;this.set("minimum",Q);},updateMinAndMaxByPosition:function(R,T,Q){var S=R/Q,P=T/Q;S+=this._dataMinimum;P+=this._dataMaximum;this._setMaximum=this._getNumber(P);this._setMinimum=this._getNumber(S);this.fire("dataChange");},getFormattedLabel:function(Q,P){return C.DataType.Date.format(C.DataType.Date.parse(Q),{format:P});}});C.TimeAxis=G;function D(P){D.superclass.constructor.apply(this,arguments);}D.NAME="categoryAxis";C.extend(D,C.BaseAxis,{GUID:"yuicategoryaxis",_dataType:"category",_getKeyValueAt:function(Q,P){var R=NaN;if(this.keys[Q]){R=P;}return R;},_updateMinAndMax:function(){this._dataMaximum=Math.max(this._data.length-1,0);this._dataMinimum=0;},_setDataByKey:function(T){var S,U,Q=[],V=[],R=this._dataClone.concat(),P=R.length;for(S=0;S<P;++S){U=R[S];Q[S]=S;V[S]=U[T];}this._keys[T]=Q;this._data=this._data.concat(V);},getTotalMajorUnits:function(Q,P){return this._data.length;},getLabelAtPosition:function(T,P,S){var R=this._data.length-1,Q=Math.round(T/(P/R));return this._data[Q];}});C.CategoryAxis=D;function I(P){}I.NAME="renderer";I.ATTRS={styles:{value:{},getter:function(){this._styles=this._styles||this._getDefaultStyles();return this._styles;},setter:function(P){this._styles=this._setStyles(P);return this._styles;},validator:function(P){return C.Lang.isObject(P);}}};I.prototype={_newStyles:null,_styles:null,_setStyles:function(Q){var P=this.get("styles");return this._mergeStyles(Q,P);},_mergeStyles:function(Q,P){this._newStyles={};C.Object.each(Q,function(T,S,R){if(P.hasOwnProperty(S)&&C.Lang.isObject(T)){P[S]=this._mergeStyles(T,P[S]);}else{P[S]=T;this._newStyles[S]=T;}},this);return P;},_getDefaultStyles:function(){return{};}};C.Renderer=I;C.CartesianSeries=C.Base.create("cartesianSeries",C.Widget,[C.Renderer],{_leftOrigin:null,_bottomOrigin:null,renderUI:function(){this._setCanvas();},bindUI:function(){var Q=this.get("xAxis"),P=this.get("yAxis");if(Q){Q.after("axisReady",C.bind(this._xAxisChangeHandler,this));Q.after("axisUpdate",C.bind(this._xAxisChangeHandler,this));}if(P){P.after("axisReady",C.bind(this._yAxisChangeHandler,this));P.after("axisUpdate",C.bind(this._yAxisChangeHandler,this));}this.after("xAxisChange",C.bind(this.xAxisChangeHandler,this));this.after("yAxisChange",C.bind(this.yAxisChangeHandler,this));this.after("stylesChange",C.bind(this._updateHandler,this));},syncUI:function(){this.draw();},_updateHandler:function(P){if(this.get("rendered")){this.draw();}},GUID:"yuicartesianseries",_setCanvas:function(){var P=this.get("contentBox"),R=document.createElement("div"),Q=R.style;P.appendChild(R);Q.position="absolute";Q.display="block";Q.top="0px";Q.left="0px";Q.width="100%";Q.height="100%";this.set("node",R);this.set("graphic",new C.Graphic());this.get("graphic").render(this.get("node"));},_xAxisChangeHandler:function(P){if(this.get("rendered")&&this.get("xKey")&&this.get("yKey")){this.draw();}},_yAxisChangeHandler:function(P){if(this.get("rendered")&&this.get("xKey")&&this.get("yKey")){this.draw();}},setAreaData:function(){var o,n,e=C.Node.one(this._parentNode).get("parentNode"),Z=e.get("offsetWidth"),j=e.get("offsetHeight"),b=this.get("styles").padding,d=b.left,m=b.top,W=Z-(d+b.right),g=j-(m+b.bottom),c=[],q=[],Y=this.get("xAxis"),Q=this.get("yAxis"),p=Y.get("maximum"),l=Y.get("minimum"),R=Q.get("maximum"),P=Q.get("minimum"),S=this.get("xKey"),V=this.get("yKey"),U=W/(p-l),a=g/(R-P),T=Y.getDataByKey(S),k=Q.getDataByKey(V),X=T.length,f;this.get("graphic").setSize(Z,j);this._leftOrigin=Math.round(((0-l)*U)+d);this._bottomOrigin=Math.round((g+m)-(0-P)*a);for(f=0;f<X;++f){o=Math.round((((T[f]-l)*U)+d));n=Math.round(((g+m)-(k[f]-P)*a));c.push(o);q.push(n);}this.set("xcoords",c);this.set("ycoords",q);},drawGraph:function(){this.drawMarkers();},draw:function(){var R=C.Node.one(this._parentNode).get("parentNode"),P=R.get("offsetWidth"),Q=R.get("offsetHeight");if(!isNaN(P)&&!isNaN(Q)&&P>0&&Q>0){this.setAreaData();this.drawGraph();}},drawMarkers:function(){if(!this.get("xcoords")||this.get("xcoords").length<1){return;}var Y=this.get("graphic"),j=this.get("styles").marker,W=j.width,g=j.height,T=j.fillColor,S=j.fillAlpha,X=j.fillType||"solid",l=j.borderWidth,P=j.borderColor,b=j.borderAlpha||1,V=j.colors,U=j.alpha||[],a=j.ratios||[],d=j.rotation||0,Z=this.get("xcoords"),k=this.get("ycoords"),R=j.func||"drawCircle",e=0,f=Z.length,c=k[0],Q;for(;e<f;++e){c=k[e];Q=Z[e];if(l>0){Y.lineStyle(l,P,b);}if(X==="solid"){Y.beginFill(T,S);}else{Y.beginGradientFill(X,V,U,a,{rotation:d,width:W,height:g});}this.drawMarker(Y,R,Q,c,W,g);Y.end();}},drawMarker:function(U,R,T,S,P,Q){if(R==="drawCircle"){U.drawCircle(T,S,P/2);}else{T-=P/2;S-=Q/2;U[R].call(U,T,S,P,Q);}},_getDefaultStyles:function(){return{padding:{top:0,left:0,right:0,bottom:0}};}},{ATTRS:{type:{value:"cartesian"},order:{value:NaN},xcoords:{value:null},ycoords:{value:null},graph:{value:null},xAxis:{value:null,validator:function(P){return P!==this.get("xAxis");},lazyAdd:false},yAxis:{value:null,validator:function(P){return P!==this.get("yAxis");},lazyAdd:false},xKey:{value:null,validator:function(P){return P!==this.get("xKey");}},yKey:{value:null,validator:function(P){return P!==this.get("yKey");}},node:{value:null},graphic:{value:null}}});
function F(P){F.superclass.constructor.apply(this,arguments);}F.NAME="lineSeries";F.ATTRS={type:{value:"line"}};C.extend(F,C.CartesianSeries,{drawGraph:function(){var P=this.get("styles");if(P.showLines){this.drawLines();}if(P.showMarkers){this.drawMarkers();}},drawLines:function(){if(this.get("xcoords").length<1){return;}var X=this.get("xcoords"),h=this.get("ycoords"),a=X.length,R=X[0],Q=h[0],g=R,e=Q,d,b,Z,T=this.get("styles"),c=T.lineType,f=T.dashLength,V=T.gapSpace,U=T.connectDiscontinuousPoints,P=T.discontinuousType,S=T.discontinuousDashLength,Y=T.discontinuousGapSpace,W=this.get("graphic");W.clear();W.lineStyle(T.weight,T.color);W.moveTo(R,Q);for(Z=1;Z<a;Z=++Z){d=X[Z];b=h[Z];if(isNaN(b)){g=d;e=b;continue;}if(g==R){if(c!="dashed"){W.lineTo(d,b);}else{this.drawDashedLine(g,e,d,b,f,V);}}else{if(!U){W.moveTo(d,b);}else{if(P!="solid"){this.drawDashedLine(g,e,d,b,S,Y);}else{W.lineTo(d,b);}}}R=g=d;Q=e=b;}W.end();},drawDashedLine:function(a,e,Q,c,S,R){S=S||10;R=R||10;var U=S+R,X=Q-a,b=c-e,d=Math.sqrt(Math.pow(X,2)+Math.pow(b,2)),V=Math.floor(Math.abs(d/U)),T=Math.atan2(b,X),Z=a,Y=e,W,P=this.get("graphic");X=Math.cos(T)*U;b=Math.sin(T)*U;for(W=0;W<V;++W){P.moveTo(Z,Y);P.lineTo(Z+Math.cos(T)*S,Y+Math.sin(T)*S);Z+=X;Y+=b;}P.moveTo(Z,Y);d=Math.sqrt((Q-Z)*(Q-Z)+(c-Y)*(c-Y));if(d>S){P.lineTo(Z+Math.cos(T)*S,Y+Math.sin(T)*S);}else{if(d>0){P.lineTo(Z+Math.cos(T)*d,Y+Math.sin(T)*d);}}P.moveTo(Q,c);},_getDefaultStyles:function(){return{color:"#000000",alpha:1,weight:1,marker:{fillColor:"#000000",alpha:1,weight:1,width:6,height:6},showMarkers:false,showLines:true,lineType:"solid",dashLength:10,gapSpace:10,connectDiscontinuousPoint:true,discontinuousType:"dashed",discontinuousDashLength:10,discontinuousGapSpace:10,padding:{top:0,left:0,right:0,bottom:0}};}});C.LineSeries=F;function M(P){M.superclass.constructor.apply(this,arguments);}M.NAME="columnSeries";M.ATTRS={type:{value:"column"}};C.extend(M,C.CartesianSeries,{drawMarkers:function(){if(this.get("xcoords").length<1){return;}var f=this.get("graphic"),u=this.get("styles").marker,d=u.width,t=u.height,X=u.fillColor,W=u.fillAlpha,e=u.fillType||"solid",x=u.borderWidth,P=u.borderColor,k=u.borderAlpha||1,c=u.colors,Y=u.alpha||[],j=u.ratios||[],o=u.rotation||0,g=this.get("xcoords"),v=this.get("ycoords"),V=u.func||"drawCircle",q=0,s=g.length,l=v[0],T=this.get("type"),R=this.get("graph"),b=R.seriesTypes[T],r=b.length,Q=0,S=0,Z=0,a,n,p=this.get("order"),m=C.Node.one(this._parentNode).get("parentNode"),U;for(;q<r;++q){n=b[q];Q+=n.get("styles").marker.width;if(p>q){Z=Q;}}S=s*Q;if(S>m.offsetWidth){a=this.width/S;Q*=a;Z*=a;d*=a;d=Math.max(d,1);}Z-=Q/2;for(q=0;q<s;++q){l=v[q];U=g[q]+Z;if(x>0){f.lineStyle(x,P,k);}if(e==="solid"){f.beginFill(X,W);}else{f.beginGradientFill(e,c,Y,j,{rotation:o,width:d,height:t});}this.drawMarker(f,V,U,l,d,t);f.end();}},drawMarker:function(U,R,T,S,P,Q){Q=this._bottomOrigin-S;U.drawRect(T,S,P,Q);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});C.ColumnSeries=M;function J(P){J.superclass.constructor.apply(this,arguments);}J.NAME="barSeries";J.ATTRS={type:{value:"bar"}};C.extend(J,C.CartesianSeries,{drawMarkers:function(){if(this.get("xcoords").length<1){return;}var e=this.get("graphic"),t=this.get("styles").marker,c=t.width,s=t.height,V=t.fillColor,U=t.fillAlpha,d=t.fillType||"solid",x=t.borderWidth,P=t.borderColor,j=t.borderAlpha||1,b=t.colors,W=t.alpha||[],g=t.ratios||[],n=t.rotation||0,f=this.get("xcoords"),v=this.get("ycoords"),T=t.func||"drawCircle",p=0,r=f.length,k=v[0],R=this.get("type"),Q=this.get("graph"),a=Q.seriesTypes[R],q=a.length,Z=0,u=0,X=0,Y,m,o=this.get("order"),l=C.Node.one(this._parentNode).get("parentNode"),S;for(;p<q;++p){m=a[p];Z+=m.get("styles").marker.height;if(o>p){X=Z;}}u=r*Z;if(u>l.offsetHeight){Y=this.height/u;Z*=Y;X*=Y;s*=Y;s=Math.max(s,1);}X-=Z/2;for(p=0;p<r;++p){k=v[p]+X;S=f[p];if(x>0){e.lineStyle(x,P,j);}if(d==="solid"){e.beginFill(V,U);}else{e.beginGradientFill(d,b,W,g,{rotation:n,width:c,height:s});}this.drawMarker(e,T,S,k,c,s);e.end();}},drawMarker:function(U,R,T,S,P,Q){P=T-this._leftOrigin;U.drawRect(this._leftOrigin,S,P,Q);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});C.BarSeries=J;function E(P){E.superclass.constructor.apply(this,arguments);}E.NAME="areaSeries";E.ATTRS={type:{value:"area"},direction:{value:"horizontal"}};C.extend(E,C.CartesianSeries,{drawGraph:function(){var P=this.get("styles");this.drawArea();},drawArea:function(){if(this.get("xcoords").length<1){return;}var Z=this.get("xcoords"),W=this.get("ycoords"),Y=Z.length,T=Z[0],S=W[0],R=T,Q=S,X=R,V=Q,c,b,U,a=this.get("styles"),P=this.get("graphic");P.clear();P.beginFill(a.color,a.alpha);P.moveTo(R,Q);for(U=1;U<Y;U=++U){c=Z[U];b=W[U];if(isNaN(b)){X=c;V=b;continue;}P.lineTo(c,b);R=X=c;Q=V=b;}if(this.get("direction")==="vertical"){P.lineTo(this._leftOrigin,Q);P.lineTo(this._leftOrigin,S);}else{P.lineTo(R,this._bottomOrigin);P.lineTo(T,this._bottomOrigin);}P.lineTo(T,S);P.end();},_getDefaultStyles:function(){return{color:"#000000",alpha:1,padding:{top:0,left:0,right:0,bottom:0}};}});C.AreaSeries=E;function B(P){B.superclass.constructor.apply(this,arguments);}B.NAME="graphstack";B.ATTRS={seriesCollection:{lazyAdd:false,getter:function(){return this._seriesCollection;},setter:function(P){this._parseSeriesCollection(P);return this._seriesCollection;}},parent:{value:null}};C.extend(B,C.Base,{_seriesCollection:null,seriesTypes:null,_parseSeriesCollection:function(S){var P=S.length,R=0,Q;if(!S){return;}if(!this._seriesCollection){this._seriesCollection=[];}if(!this.seriesTypes){this.seriesTypes=[];}for(;R<P;++R){Q=S[R];if(!(Q instanceof C.CartesianSeries)){this._createSeries(Q);continue;}this._addSeries(Q);
}P=this._seriesCollection.length;for(R=0;R<P;++R){this._seriesCollection[R].render(this.get("parent"));}},_addSeries:function(R){var S=R.get("type"),U=this._seriesCollection,T=U.length,Q=this.seriesTypes,P;if(!R.get("graph")){R.set("graph",this);}R.graphOrder=T;U.push(R);if(!Q.hasOwnProperty(S)){this.seriesTypes[S]=[];}P=this.seriesTypes[S];R.set("order",P.length);P.push(R);this.fire("seriesAdded",R);},_createSeries:function(T){var U=T.type,V=this._seriesCollection,R=this.seriesTypes,Q,P,S;T.graph=this;if(!R.hasOwnProperty(U)){R[U]=[];}Q=R[U];T.graph=this;T.order=Q.length;P=this._getSeries(T.type);S=new P(T);Q.push(S);V.push(S);},_getSeries:function(P){var Q;switch(P){case"line":Q=C.LineSeries;break;case"column":Q=C.ColumnSeries;break;case"bar":Q=C.BarSeries;break;case"area":Q=C.AreaSeries;break;default:Q=C.CartesianSeries;break;}return Q;}});C.GraphStack=B;C.AxisRenderer=C.Base.create("axisrenderer",C.Widget,[C.Renderer],{axisChangeHandler:function(R){var P=R.newVal,Q=R.prevVal;if(Q){Q.detach("axisReady",this._axisDataChangeHandler);Q.detach("axisUpdate",this._axisDataChangeHandler);}P.after("axisReady",C.bind(this._axisDataChangeHandler,this));P.after("axisUpdate",C.bind(this._axisDataChangeHandler,this));},_axisDataChangeHandler:function(P){if(this.get("rendered")){this._drawAxis();}},_updateHandler:function(P){if(this.get("rendered")){this._drawAxis();}},_positionChangeHandler:function(P){this._ui=this.getLayout(this.get("position"));if(this.get("rendered")){this._drawAxis();}},renderUI:function(){this._ui=this.getLayout(this.get("position"));this._setCanvas();},bindUI:function(){var P=this.get("axis");if(P){P.after("axisReady",C.bind(this._axisDataChangeHandler,this));P.after("axisUpdate",C.bind(this._axisDataChangeHandler,this));}this.after("axisChange",this.axisChangeHandler);this.after("stylesChange",this._updateHandler);this.after("positionChange",this._positionChangeHandler);this.after("overlapGraphChange",this._updateHandler);},syncUI:function(){this._drawAxis();},_setCanvas:function(){var P=this.get("contentBox"),S=this.get("position"),T=document.createElement("div"),R=T.style,Q=this._parentNode;P.appendChild(T);R.position="absolute";R.display="block";R.top="0px";R.left="0px";R.border="1px";if(S==="top"||S==="bottom"){P.setStyle("width",Q.getStyle("width"));}else{P.setStyle("height",Q.getStyle("height"));}R.width=P.getStyle("width");R.height=P.getStyle("height");this.set("node",T);this.set("graphic",new C.Graphic());this.get("graphic").render(this.get("node"));},_getDefaultStyles:function(){return{majorTicks:{display:"inside",length:4,color:"#000000",weight:1,alpha:1},minorTicks:{display:"none",length:2,color:"#000000",weight:1},line:{weight:1,color:"#000000",alpha:1},majorUnit:{determinant:"count",count:5,distance:75},padding:{top:0,left:0,right:0,bottom:0},top:"0px",left:"0px",width:"100px",height:"100px",hideOverlappingLabelTicks:false};}},{NAME:"axisRenderer",ATTRS:{graphic:{value:null},axis:{value:null,validator:function(P){return P!==this.get("axis");}},node:{value:null},position:{value:"bottom",validator:function(P){return((P!==this.get("position"))&&(P==="bottom"||P==="top"||P==="left"||P==="right"));}},topTickOffset:{value:0},bottomTickOffset:{value:0},leftTickOffset:{value:0},rightTickOffset:{value:0},overlapGraph:{value:true,validator:function(P){return C.Lang.isBoolean(P);}}}});function H(P){H.superclass.constructor.apply(this,arguments);}H.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};C.extend(H,C.Base,{setTickOffsets:function(){var P=this.get("axisRenderer"),T=P.get("styles").majorTicks,R=T.length,Q=R*0.5,S=T.display;P.set("topTickOffset",0);P.set("bottomTickOffset",0);switch(S){case"inside":P.set("rightTickOffset",R);break;case"outside":P.set("leftTickOffset",R);break;case"cross":P.set("rightTickOffset",Q);P.set("leftTickOffset",Q);break;}},getLineStart:function(){var P=this.get("axisRenderer"),Q=P.get("styles"),U=Q.padding,V=Q.majorTicks,R=V.length,T=V.display,S={x:U.left,y:0};if(T==="outside"){S.x+=R;}else{if(T==="cross"){S.x+=R/2;}}return S;},drawTick:function(V,T){var Q=this.get("axisRenderer"),R=Q.get("styles"),U=R.padding,S=T.length,W={x:U.left,y:V.y},P={x:S+U.left,y:V.y};Q.drawLine(W,P,T);},getLabelPoint:function(P){var Q=this.get("axisRenderer");return{x:P.x-Q.get("leftTickOffset"),y:P.y};},positionLabel:function(d,f){var W=this.get("axisRenderer"),Q=W.get("styles").label,T=f.x,Z=f.y,U=Math.min(90,Math.max(-90,Q.rotation)),X=Math.abs(U),b=Math.PI/180,e=parseFloat(parseFloat(Math.sin(X*b)).toFixed(8)),S=parseFloat(parseFloat(Math.cos(X*b)).toFixed(8)),a=S,Y=U>0?-e:e,V=-Y,R=a,c=0,P=this.get("maxLabelSize");if(C.UA.ie){d.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(U===0){T-=d.offsetWidth;Z-=d.offsetHeight*0.5;}else{if(X===90){T-=d.offsetHeight;Z-=d.offsetWidth*0.5;}else{if(U===-90){T-=d.offsetHeight;Z-=d.offsetWidth*0.5;}else{if(U>0){T-=(S*d.offsetWidth)+(d.offsetHeight*U/90);Z-=(e*d.offsetWidth)+(S*(d.offsetHeight*0.5));}else{T-=(S*d.offsetWidth)+(X/90*d.offsetHeight);Z-=S*(d.offsetHeight*0.5);}}}}d.style.left=T+"px";d.style.top=Z+"px";d.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+a+" M12="+Y+" M21="+V+" M22="+R+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(P,d.offsetWidth));return;}if(U===0){c=d.offsetWidth;T-=c;Z-=d.offsetHeight*0.5;}else{if(U===90){c=d.offsetHeight;Z-=d.offsetWidth*0.5;}else{if(U===-90){c=d.offsetHeight;T-=c;Z+=d.offsetWidth*0.5;}else{c=(S*d.offsetWidth)+(e*d.offsetHeight);if(U<0){T-=c;Z+=(e*d.offsetWidth)-(S*(d.offsetHeight*0.6));}else{T-=(S*d.offsetWidth);Z-=(e*d.offsetWidth)+(S*(d.offsetHeight*0.6));}}}}d.style.left=T+"px";d.style.top=Z+"px";d.style.MozTransformOrigin="0 0";d.style.MozTransform="rotate("+U+"deg)";d.style.webkitTransformOrigin="0 0";d.style.webkitTransform="rotate("+U+"deg)";this.set("maxLabelSize",Math.max(c,P));},setSizeAndPosition:function(){var P=this.get("maxLabelSize"),Q=this.get("axisRenderer"),R=Q.get("styles"),T=R.line.weight,U=R.majorTicks,S=U.display,V=U.length;
if(S==="outside"){T+=V;}else{if(S==="cross"){T+=V*0.5;}}T+=P;Q.get("node").style.left=P+"px";Q.set("width",T);},offsetNodeForTick:function(R){var P=this.get("axisRenderer"),T=P.get("styles").majorTicks,Q=T.length,S=T.display;if(S==="inside"){R.style.marginRight=(0-Q)+"px";}else{if(S==="cross"){R.style.marginRight=(0-(Q*0.5))+"px";}}}});C.LeftAxisLayout=H;function A(P){A.superclass.constructor.apply(this,arguments);}A.ATTRS={axisRenderer:{value:null}};C.extend(A,C.Base,{setTickOffsets:function(){var P=this.get("axisRenderer"),T=P.get("styles").majorTicks,R=T.length,Q=R*0.5,S=T.display;P.set("topTickOffset",0);P.set("bottomTickOffset",0);switch(S){case"inside":P.set("leftTickOffset",R);break;case"outside":P.set("rightTickOffset",R);break;case"cross":P.set("rightTickOffset",Q);P.set("leftTickOffset",Q);break;}},drawTick:function(V,T){var Q=this.get("axisRenderer"),R=Q.get("styles"),U=R.padding,S=T.length,W={x:U.left,y:V.y},P={x:U.left+S,y:V.y};Q.drawLine(W,P,T);},getLineStart:function(){var P=this.get("axisRenderer"),Q=P.get("styles"),U=Q.padding,V=Q.majorTicks,R=V.length,T=V.display,S={x:U.left,y:U.top};if(T==="inside"){S.x+=R;}else{if(T==="cross"){S.x+=R/2;}}return S;},getLabelPoint:function(P){var Q=this.get("axisRenderer");return{x:P.x+Q.get("rightTickOffset"),y:P.y};},positionLabel:function(b,d){var V=this.get("axisRenderer"),P=V.get("styles").label,S=d.x,Y=d.y,T=Math.min(Math.max(P.rotation,-90),90),W=Math.abs(T),a=Math.PI/180,c=parseFloat(parseFloat(Math.sin(W*a)).toFixed(8)),R=parseFloat(parseFloat(Math.cos(W*a)).toFixed(8)),Z=R,X=T>0?-c:c,U=-X,Q=Z;if(C.UA.ie){b.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(T===0){Y-=b.offsetHeight*0.5;}else{if(W===90){Y-=b.offsetWidth*0.5;}else{if(T>0){Y-=(R*(b.offsetHeight*0.5));}else{Y-=(c*b.offsetWidth)+(R*(b.offsetHeight*0.5));}}}b.style.left=S+"px";b.style.top=Y+"px";b.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+Z+" M12="+X+" M21="+U+" M22="+Q+' sizingMethod="auto expand")';return;}if(T===0){Y-=b.offsetHeight*0.5;}else{if(T===90){S+=b.offsetHeight;Y-=b.offsetWidth*0.5;}else{if(T===-90){Y+=b.offsetWidth*0.5;}else{if(T<0){Y-=(R*(b.offsetHeight*0.6));}else{Y-=R*(b.offsetHeight*0.6);S+=c*b.offsetHeight;}}}}b.style.left=S+"px";b.style.top=Y+"px";b.style.MozTransformOrigin="0 0";b.style.MozTransform="rotate("+T+"deg)";b.style.webkitTransformOrigin="0 0";b.style.webkitTransform="rotate("+T+"deg)";},setSizeAndPosition:function(P){var Q=this.get("axisRenderer"),R=Q.get("styles"),T=R.line.weight,U=R.majorTicks,S=U.display,V=U.length;if(S==="outside"){T+=V;}else{if(S==="cross"){T+=V*0.5;}}T+=P;Q.set("width",T);},offsetNodeForTick:function(R){var P=this.get("axisRenderer"),T=P.get("styles").majorTicks,Q=T.length,S=T.display;if(S==="inside"){R.style.marginLeft=(0-Q)+"px";}else{if(S==="cross"){R.style.marginLeft=(0-(Q*0.5))+"px";}}}});C.RightAxisLayout=A;function L(P){L.superclass.constructor.apply(this,arguments);}L.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};C.extend(L,C.Base,{setTickOffsets:function(){var P=this.get("axisRenderer"),T=P.get("styles").majorTicks,R=T.length,Q=R*0.5,S=T.display;P.set("leftTickOffset",0);P.set("rightTickOffset",0);switch(S){case"inside":P.set("topTickOffset",R);break;case"outside":P.set("bottomTickOffset",R);break;case"cross":P.set("topTickOffset",Q);P.set("bottomTickOffset",Q);break;}},setSizeAndPosition:function(){var P=this.get("maxLabelSize"),Q=this.get("axisRenderer"),R=Q.get("styles"),T=R.line.weight,U=R.majorTicks,S=U.display,V=U.length;if(S==="outside"){T+=V;}else{if(S==="cross"){T+=V*0.5;}}T+=P;Q.set("height",T);},getLineStart:function(){var P=this.get("axisRenderer"),Q=P.get("styles"),U=Q.padding,V=Q.majorTicks,R=V.length,T=V.display,S={x:0,y:U.top};if(T==="inside"){S.y+=R;}else{if(T==="cross"){S.y+=R/2;}}return S;},drawTick:function(V,T){var Q=this.get("axisRenderer"),R=Q.get("styles"),U=R.padding,S=T.length,W={x:V.x,y:U.top},P={x:V.x,y:S+U.top};Q.drawLine(W,P,T);},getLabelPoint:function(P){var Q=this.get("axisRenderer");return{x:P.x,y:P.y+Q.get("bottomTickOffset")};},positionLabel:function(d,f){var W=this.get("axisRenderer"),Q=W.get("styles").label,T=f.x,Z=f.y,U=Math.min(90,Math.max(-90,Q.rotation)),X=Math.abs(U),b=Math.PI/180,e=parseFloat(parseFloat(Math.sin(X*b)).toFixed(8)),S=parseFloat(parseFloat(Math.cos(X*b)).toFixed(8)),a=S,Y=U>0?-e:e,V=-Y,R=a,c=0,P=this.get("maxLabelSize");if(C.UA.ie){a=S;Y=U>0?-e:e;V=-Y;R=a;d.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(X===90){T-=d.offsetHeight*0.5;}else{if(U<0){T-=S*d.offsetWidth;T-=e*(d.offsetHeight*0.5);}else{if(U>0){T-=e*(d.offsetHeight*0.5);}else{T-=d.offsetWidth*0.5;}}}d.style.left=T+"px";d.style.top=Z+"px";d.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+a+" M12="+Y+" M21="+V+" M22="+R+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(d.offsetHeight,P));return;}if(U===0){T-=d.offsetWidth*0.5;c=d.offsetHeight;}else{if(X===90){c=d.offsetWidth;if(U===90){T+=d.offsetHeight*0.5;}else{Z+=c;T-=d.offsetHeight*0.5;}}else{c=(e*d.offsetWidth)+(S*d.offsetHeight);if(U<0){T-=(S*d.offsetWidth)+(e*(d.offsetHeight*0.6));Z+=e*d.offsetWidth;}else{T+=e*(d.offsetHeight*0.6);}}}d.style.left=T+"px";d.style.top=Z+"px";d.style.MozTransformOrigin="0 0";d.style.MozTransform="rotate("+U+"deg)";d.style.webkitTransformOrigin="0 0";d.style.webkitTransform="rotate("+U+"deg)";this.set("maxLabelSize",Math.max(c,P));},offsetNodeForTick:function(R){var P=this.get("axisRenderer"),T=P.get("styles").majorTicks,Q=T.length,S=T.display;if(S==="inside"){R.style.marginTop=(0-Q)+"px";}else{if(S==="cross"){R.style.marginTop=(0-(Q*0.5))+"px";}}}});C.BottomAxisLayout=L;function O(P){O.superclass.constructor.apply(this,arguments);}O.ATTRS={axisRenderer:{value:null}};C.extend(O,C.Base,{setTickOffsets:function(){var P=this.get("axisRenderer"),T=P.get("styles").majorTicks,R=T.length,Q=R*0.5,S=T.display;P.set("leftTickOffset",0);P.set("rightTickOffset",0);switch(S){case"inside":P.set("bottomTickOffset",R);
break;case"outside":P.set("topTickOffset",R);break;case"cross":P.set("topTickOffset",Q);P.set("bottomTickOffset",Q);break;}},getLineStart:function(){var P=this.get("axisRenderer"),Q=P.get("styles"),U=Q.padding,V=Q.majorTicks,R=V.length,T=V.display,S={x:0,y:U.top};if(T==="outside"){S.y+=R;}else{if(T==="cross"){S.y+=R/2;}}return S;},drawTick:function(V,T){var Q=this.get("axisRenderer"),R=Q.get("styles"),U=R.padding,S=T.length,W={x:V.x,y:U.top},P={x:V.x,y:S+U.top};Q.drawLine(W,P,T);},getLabelPoint:function(Q){var P=this.get("axisRenderer");return{x:Q.x,y:Q.y-P.get("topTickOffset")};},positionLabel:function(b,d){var V=this.get("axisRenderer"),P=V.get("styles").label,S=d.x,Y=d.y,T=Math.max(-90,Math.min(90,P.rotation)),W=Math.abs(T),a=Math.PI/180,c=parseFloat(parseFloat(Math.sin(W*a)).toFixed(8)),R=parseFloat(parseFloat(Math.cos(W*a)).toFixed(8)),Z,X,U,Q;T=Math.min(90,T);T=Math.max(-90,T);if(C.UA.ie){b.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";Z=R;X=T>0?-c:c;U=-X;Q=Z;if(T===0){S-=b.offsetWidth*0.5;Y-=b.offsetHeight;}else{if(W===90){S-=b.offsetHeight*0.5;Y-=b.offsetWidth;}else{if(T>0){S-=(R*b.offsetWidth)+Math.min((c*b.offsetHeight),(T/180*b.offsetHeight));Y-=(c*b.offsetWidth)+(R*(b.offsetHeight));}else{S-=c*(b.offsetHeight*0.5);Y-=(c*b.offsetWidth)+(R*(b.offsetHeight));}}}b.style.left=S;b.style.top=Y;b.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+Z+" M12="+X+" M21="+U+" M22="+Q+' sizingMethod="auto expand")';return;}if(T===0){S-=b.offsetWidth*0.5;Y-=b.offsetHeight;}else{if(T===90){S+=b.offsetHeight*0.5;Y-=b.offsetWidth;}else{if(T===-90){S-=b.offsetHeight*0.5;Y-=0;}else{if(T<0){S-=(c*(b.offsetHeight*0.6));Y-=(R*b.offsetHeight);}else{S-=(R*b.offsetWidth)-(c*(b.offsetHeight*0.6));Y-=(c*b.offsetWidth)+(R*b.offsetHeight);}}}}b.style.left=S+"px";b.style.top=Y+"px";b.style.MozTransformOrigin="0 0";b.style.MozTransform="rotate("+T+"deg)";b.style.webkitTransformOrigin="0 0";b.style.webkitTransform="rotate("+T+"deg)";},setSizeAndPosition:function(P){var Q=this.get("axisRenderer"),R=Q.get("styles"),T=R.line.weight,U=R.majorTicks,S=U.display,V=U.length;if(S==="outside"){T+=V;}else{if(S==="cross"){T+=V*0.5;}}T+=P;Q.get("node").style.top=P+"px";Q.set("height",T);},offsetNodeForTick:function(R){var P=this.get("axisRenderer"),T=P.get("styles").majorTicks,Q=T.length,S=T.display;if(S==="inside"){R.style.marginBottom=(0-Q)+"px";}else{if(S==="cross"){R.style.marginBottom=(0-(Q*0.5))+"px";}}}});C.TopAxisLayout=O;C.mix(C.AxisRenderer.prototype,{_ui:null,getLayout:function(Q){var P;switch(Q){case"top":P=new C.TopAxisLayout({axisRenderer:this});break;case"bottom":P=new C.BottomAxisLayout({axisRenderer:this});break;case"left":P=new C.LeftAxisLayout({axisRenderer:this});break;case"right":P=new C.RightAxisLayout({axisRenderer:this});break;}return P;},drawLine:function(R,Q,P){var S=this.get("graphic");S.lineStyle(P.weight,P.color,P.alpha);S.moveTo(R.x,R.y);S.lineTo(Q.x,Q.y);S.end();},_drawAxis:function(){var Q=this.get("styles"),Z=Q.majorTicks,a=Z.display!="none",T,Y=Q.majorUnit,R=this.get("axis"),X,c,U=0,S,V,W,d,b=this._ui,P=this.get("graphic");P.clear();b.setTickOffsets();S=this.getLength();W=b.getLineStart();T=this.getFirstPoint(W);this.drawLine(W,this.getLineEnd(T),this.get("styles").line);if(a){b.drawTick(T,Z);}X=R.getTotalMajorUnits(Y,S);if(X<1){return;}c=S/(X-1);this._createLabelCache();b.set("maxLabelSize",0);for(;U<X;++U){if(a){b.drawTick(T,Z);}V=this.getPosition(T);d=this.getLabel(T,R.getLabelAtPosition(V,S));b.positionLabel(d,b.getLabelPoint(T));T=this.getNextPoint(T,c);}b.setSizeAndPosition();this._clearLabelCache();if(this.get("overlapGraph")){b.offsetNodeForTick(this.get("node"));}},_labels:null,_labelCache:null,getLabel:function(S,P,T){var R,Q=this._labelCache;if(Q.length>0){R=Q.shift();}else{R=document.createElement("span");}R.innerHTML=P;R.style.display="block";R.style.position="absolute";this.get("node").appendChild(R);this._labels.push(R);return R;},_createLabelCache:function(){if(this._labels){this._labelCache=this._labels.concat();}else{this._labelCache=[];}this._labels=[];},_clearLabelCache:function(){var P=this._labelCache.length,R=0,Q,S;for(;R<P;++R){Q=S[R];Q.parentNode.removeChild(Q);}this._labelCache=[];},_calculateSizeByTickLength:true,getLineEnd:function(R){var P=this.get("node").offsetWidth,Q=this.get("node").offsetHeight,S=this.get("position");if(S==="top"||S==="bottom"){return{x:P,y:R.y};}else{return{x:R.x,y:Q};}},getLength:function(){var Q,S=this.get("styles"),T=S.padding,P=this.get("node").offsetWidth,R=this.get("node").offsetHeight,U=this.get("position");if(U==="top"||U==="bottom"){Q=P-(T.left+T.right);}else{Q=R-(T.top+T.bottom);}return Q;},getFirstPoint:function(S){var P=this.get("styles"),T=this.get("position"),R=P.padding,Q={x:S.x,y:S.y};if(T==="top"||T==="bottom"){Q.x+=R.left;}else{Q.y+=R.top;}return Q;},getNextPoint:function(P,Q){var R=this.get("position");if(R==="top"||R==="bottom"){P.x=P.x+Q;}else{P.y=P.y+Q;}return P;},getLastPoint:function(){var Q=this.get("styles"),R=Q.padding,P=this.get("node").offsetWidth,S=this.get("position");if(S==="top"||S==="bottom"){return{x:P-R.right,y:R.top};}else{return{x:R.left,y:R.top};}},getPosition:function(P){var T,R=this.get("node").offsetHeight,Q=this.get("styles"),S=Q.padding,U=this.get("position");if(U==="left"||U==="right"){T=(R-(S.top+S.bottom))-(P.y-S.top);}else{T=P.x-S.left;}return T;}});},"@VERSION@");