YUI.add("infographics",function(B){function N(V){this._createId();this._keys={};this._data=[];N.superclass.constructor.apply(this,arguments);}N.NAME="baseAxis";N.ATTRS={parent:{lazyAdd:false,value:null},roundingUnit:{getter:function(){return this._roundingUnit;},setter:function(V){this._roundingUnit=V;if(this._roundMinAndMax){this._updateMinAndMax();}return V;}},roundMinAndMax:{getter:function(){return this._roundMinAndMax;},setter:function(V){if(this._roundMinAndMax==V){return V;}this._roundMinAndMax=V;this._updateMinAndMax();}},dataType:{getter:function(){return this._dataType;}},dataProvider:{getter:function(){return this._dataProvider;},setter:function(V){if(V===this._dataProvider){return;}if(this._dataProvider){}V=B.merge(V);this._dataProvider={data:V.data.concat()};this._dataClone=this._dataProvider.data.concat();return V;},lazyAdd:false},dataMaximum:{getter:function(){return this._dataMaximum;}},maximum:{getter:function(){if(this._autoMax||!this._setMaximum){return this._dataMaximum;}return this._setMaximum;},setter:function(V){this._setMaximum=V;}},dataMinimum:{getter:function(){return this._dataMinimum;}},minimum:{getter:function(){if(this._autoMin||!this._setMinimum){return this._dataMinimum;}return this._setMinimum;},setter:function(V){this._setMinimum=V;return V;}},autoMax:{getter:function(){return this._autoMax;},setter:function(V){this._autoMax=V;}},autoMin:{getter:function(){return this._autoMin;},setter:function(V){this._autoMin=V;}},data:{getter:function(){return this._data;}},keys:{getter:function(){return this._keys;}}};B.extend(N,B.Base,{GUID:"yuibaseaxis",_createId:function(){this._id=B.guid(this.GUID);},_roundingUnit:NaN,_roundMinAndMax:true,_dataType:null,_dataProvider:null,_dataClone:null,_setMaximum:null,_dataMaximum:null,_autoMax:true,_setMinimum:null,_dataMinimum:null,_autoMin:true,_data:null,_keys:null,_axisReady:false,addKey:function(Y){if(this._keys.hasOwnProperty(Y)){return;}this._dataClone=this._dataProvider.data.concat();var X=this._keys,V={},W={axis:this};this._setDataByKey(Y);V[Y]=X[Y].concat();this._updateMinAndMax();W.keysAdded=V;if(!this._dataReady){this._dataReady=true;this.publish("axisReady",{fireOnce:true});this.fire("axisReady",W);}else{this.fire("axisUpdate",W);}},_setDataByKey:function(Z){var Y,a,W=[],X=this._dataClone.concat(),V=X.length;for(Y=0;Y<V;++Y){a=X[Y];W[Y]=a[Z];}this._keys[Z]=W;this._data=this._data.concat(W);},removeKey:function(b){if(!this._keys.hasOwnProperty(b)){return;}var W,c,V={},Y=[],X={},a=this._keys,Z={};X[b]=a[b].concat();for(W in a){if(a.hasOwnProperty(W)){if(W==b){continue;}c=a[W];Y=Y.concat(c);V[W]=c;}}a=V;this._data=Y;this._updateMinAndMax();Z.keysRemoved=X;this.fire("axisUpdate",Z);},getKeyValueAt:function(W,V){var Y=NaN,X=this.keys;if(X[W]&&X[W][V]){Y=X[W][V];}return Y;},getDataByKey:function(W){var V=this._keys;if(V[W]){return V[W];}return null;},_updateMinAndMax:function(){var a=this.get("data"),W=0,Z=0,V,X,Y;if(a&&a.length&&a.length>0){V=a.length;W=Z=a[0];if(V>1){for(Y=1;Y<V;Y++){X=a[Y];if(isNaN(X)){continue;}W=Math.max(X,W);Z=Math.min(X,Z);}}}this._dataMaximum=W;this._dataMinimum=Z;},newDataUpdateHandler:function(){var V,X=this._keys,W={};this._data=[];this._dataClone=this._dataProvider.data.concat();for(V in X){if(X.hasOwnProperty(V)){X[V]=this._setDataByKey(V);this._data=this._data.concat(X[V]);}}this._updateMinAndMax();W.keysAdded=X;this.fire("axisUpdate",W);},_keyDataUpdateHandler:function(){var V=false,Y={},Z=Y.keysAdded,a=Y.keysRemoved,X=this._keys,W;for(W in X){if(X.hasOwnProperty(W)){if(Z.hasOwnProperty(W)){V=true;X[W]=X[W];}if(a.hasOwnProperty(W)){V=true;X[W]=[];}}}if(!V){return;}this._data=[];for(W in X){if(X.hasOwnProperty(W)){this._data=this._data.concat(X[W]);}}this._updateMinAndMax();Y.keysAdded=Z;Y.keysRemoved=a;this.fire("axisUpdate",Y);},getTotalMajorUnits:function(X,V){var W;if(X.determinant==="count"){W=X.count;}else{if(X.determinant==="distance"){W=(V/X.distance)+1;}}return Math.min(W,this._data.length);},getLabelAtPosition:function(a,W,Y){var X=this.get("minimum"),V=this.get("maximum"),Z=(a/W*(V-X))+X;return this.getFormattedLabel(Z,Y);},getFormattedLabel:function(W,V){return W;}});B.BaseAxis=N;function J(V){J.superclass.constructor.apply(this,arguments);}J.NAME="numericAxis";J.ATTRS={alwaysShowZero:{getter:function(){return this._alwaysShowZero;},setter:function(V){if(V==this._alwaysShowZero){return;}this._alwaysShowZero=V;this._updateMinAndMax();return V;}}};B.extend(J,B.BaseAxis,{_dataType:"numeric",_alwaysShowZero:true,_updateMinAndMax:function(){var b=this.get("data"),W=0,a=0,V,X,Z,Y;if(b&&b.length&&b.length>0){V=b.length;W=a=b[0];if(V>1){for(Z=1;Z<V;Z++){X=b[Z];if(isNaN(X)){if(B.Lang.isObject(X)){for(Y in X){if(X.hasOwnProperty(Y)){W=Math.max(X[Y],W);a=Math.min(X[Y],a);}}}continue;}W=Math.max(X,W);a=Math.min(X,a);}}}if(this._roundMinAndMax&&!isNaN(this._roundingUnit)){this._dataMaximum=this._roundUpToNearest(W,this._roundingUnit);this._dataMinimum=this._roundDownToNearest(a,this._roundingUnit);}else{this._dataMaximum=W;this._dataMinimum=a;}if(this._alwaysShowZero){this._dataMinimum=Math.min(0,this._dataMinimum);}},_roundToNearest:function(X,W){W=W||1;if(W===0){return X;}var V=Math.round(this._roundToPrecision(X/W,10))*W;return this._roundToPrecision(V,10);},_roundUpToNearest:function(W,V){V=V||1;if(V===0){return W;}return Math.ceil(this._roundToPrecision(W/V,10))*V;},_roundDownToNearest:function(W,V){V=V||1;if(V===0){return W;}return Math.floor(this._roundToPrecision(W/V,10))*V;},_roundToPrecision:function(X,V){V=V||0;var W=Math.pow(10,V);return Math.round(W*X)/W;},getFormattedLabel:function(W,V){return B.DataType.Number.format(W,V);}});B.NumericAxis=J;function E(V){E.superclass.constructor.apply(this,arguments);}E.NAME="stackedAxis";B.extend(E,B.NumericAxis,{_updateMinAndMax:function(){var b=0,W=0,a=0,V=0,Z=0,X=0,c,Y,d=this.get("keys");for(c in d){if(d.hasOwnProperty(c)){Z=Math.max(Z,d[c].length);}}for(;X<Z;++X){a=0;V=0;for(c in d){if(d.hasOwnProperty(c)){Y=d[c][X];if(isNaN(Y)){continue;
}if(Y>=0){a+=Y;}else{V+=Y;}}}if(a>0){b=Math.max(b,a);}else{b=Math.max(b,V);}if(V<0){W=Math.min(W,V);}else{W=Math.min(W,a);}}if(this._roundMinAndMax&&!isNaN(this._roundingUnit)){this._dataMaximum=this._roundUpToNearest(b,this._roundingUnit);this._dataMinimum=this._roundDownToNearest(W,this._roundingUnit);}else{this._dataMaximum=b;this._dataMinimum=W;}if(this._alwaysShowZero&&W>0){this._dataMinimum=Math.min(0,this._dataMinimum);}}});B.StackedAxis=E;function D(V){D.superclass.constructor.apply(this,arguments);}D.NAME="timeAxis";D.ATTRS={maximum:{getter:function(){if(this._autoMax||this._setMaximum===null){return this._getNumber(this._dataMaximum);}return this._setMaximum;},setter:function(V){this._setMaximum=this._getNumber(V);this.fire("dataChange");}},minimum:{getter:function(){if(this._autoMin||this._setMinimum===null){return this._dataMinimum;}return this._setMinimum;},setter:function(V){this._setMinimum=this._getNumber(V);this.fire("dataChange");}}};B.extend(D,B.BaseAxis,{GUID:"yuitimeaxis",_dataType:"time",_setDataByKey:function(Z){var a,W=[],Y=this._dataClone.concat(),X,b,V=Y.length;for(X=0;X<V;++X){a=Y[X][Z];if(B.Lang.isDate(a)){b=a.valueOf();}else{if(!B.Lang.isNumber(a)){b=new Date(a.toString()).valueOf();}else{b=a;}}W[X]=b;}this._keys[Z]=W;this._data=this._data.concat(W);},_getNumber:function(V){if(B.Lang.isDate(V)){V=V.valueOf();}else{if(!B.Lang.isNumber(V)){V=new Date(V.toString()).valueOf();}}return V;},updateMaxByPosition:function(W){var V=this._dataMaximum-this._dataMinimum;W=Math.round(W*100)/100;W=W*V;W+=this._dataMinimum;this.set("maximum",W);},updateMinByPosition:function(W){var V=this._dataMaximum-this._dataMinimum;W=Math.round(W*100)/100;W=W*V;W+=this._dataMinimum;this.set("minimum",W);},updateMinAndMaxByPosition:function(X,Z,W){var Y=X/W,V=Z/W;Y+=this._dataMinimum;V+=this._dataMaximum;this._setMaximum=this._getNumber(V);this._setMinimum=this._getNumber(Y);this.fire("dataChange");},getFormattedLabel:function(W,V){return B.DataType.Date.format(B.DataType.Date.parse(W),{format:V});}});B.TimeAxis=D;function F(V){F.superclass.constructor.apply(this,arguments);}F.NAME="categoryAxis";B.extend(F,B.BaseAxis,{GUID:"yuicategoryaxis",_dataType:"category",_getKeyValueAt:function(W,V){var X=NaN;if(this.keys[W]){X=V;}return X;},_updateMinAndMax:function(){this._dataMaximum=Math.max(this._data.length-1,0);this._dataMinimum=0;},_setDataByKey:function(Z){var Y,a,W=[],b=[],X=this._dataClone.concat(),V=X.length;for(Y=0;Y<V;++Y){a=X[Y];W[Y]=Y;b[Y]=a[Z];}this._keys[Z]=W;this._data=this._data.concat(b);},getTotalMajorUnits:function(W,V){return this._data.length;},getLabelAtPosition:function(Z,V,Y){var X=this._data.length-1,W=Math.round(Z/(V/X));return this._data[W];}});B.CategoryAxis=F;function Q(V){}Q.NAME="renderer";Q.ATTRS={styles:{value:{},getter:function(){this._styles=this._styles||this._getDefaultStyles();return this._styles;},setter:function(V){this._styles=this._setStyles(V);return this._styles;},validator:function(V){return B.Lang.isObject(V);}}};Q.prototype={_newStyles:null,_styles:null,_setStyles:function(W){var V=this.get("styles");return this._mergeStyles(W,V);},_mergeStyles:function(W,V){this._newStyles={};B.Object.each(W,function(Z,Y,X){if(V.hasOwnProperty(Y)&&B.Lang.isObject(Z)){V[Y]=this._mergeStyles(Z,V[Y]);}else{V[Y]=Z;this._newStyles[Y]=Z;}},this);return V;},_getDefaultStyles:function(){return{};}};B.Renderer=Q;B.CartesianSeries=B.Base.create("cartesianSeries",B.Widget,[B.Renderer],{_leftOrigin:null,_bottomOrigin:null,renderUI:function(){this._setCanvas();},bindUI:function(){var W=this.get("xAxis"),V=this.get("yAxis");if(W){W.after("axisReady",B.bind(this._xAxisChangeHandler,this));W.after("axisUpdate",B.bind(this._xAxisChangeHandler,this));}if(V){V.after("axisReady",B.bind(this._yAxisChangeHandler,this));V.after("axisUpdate",B.bind(this._yAxisChangeHandler,this));}this.after("xAxisChange",B.bind(this.xAxisChangeHandler,this));this.after("yAxisChange",B.bind(this.yAxisChangeHandler,this));this.after("stylesChange",B.bind(this._updateHandler,this));},syncUI:function(){this.draw();},_updateHandler:function(V){if(this.get("rendered")){this.draw();}},GUID:"yuicartesianseries",_setCanvas:function(){var V=this.get("contentBox"),X=document.createElement("div"),W=X.style;V.appendChild(X);W.position="absolute";W.display="block";W.top="0px";W.left="0px";W.width="100%";W.height="100%";this.set("node",X);this.set("graphic",new B.Graphic());this.get("graphic").render(this.get("node"));},_xAxisChangeHandler:function(V){if(this.get("rendered")&&this.get("xKey")&&this.get("yKey")){this.draw();}},_yAxisChangeHandler:function(V){if(this.get("rendered")&&this.get("xKey")&&this.get("yKey")){this.draw();}},setAreaData:function(){var v,t,m=B.Node.one(this._parentNode).get("parentNode"),f=m.get("offsetWidth"),p=m.get("offsetHeight"),j=this.get("styles").padding,l=j.left,s=j.top,c=f-(l+j.right),o=p-(s+j.bottom),k=[],y=[],e=this.get("xAxis"),W=this.get("yAxis"),x=e.get("maximum"),r=e.get("minimum"),X=W.get("maximum"),V=W.get("minimum"),Y=this.get("xKey"),b=this.get("yKey"),a=c/(x-r),g=o/(X-V),Z=e.getDataByKey(Y).concat(),q=W.getDataByKey(b).concat(),d=Z.length,u=this.get("direction"),n=0;if(u==="vertical"){q=q.reverse();}this.get("graphic").setSize(f,p);this._leftOrigin=Math.round(((0-r)*a)+l);this._bottomOrigin=Math.round((o+s)-(0-V)*g);for(;n<d;++n){v=Math.round((((Z[n]-r)*a)+l));t=Math.round(((o+s)-(q[n]-V)*g));k.push(v);y.push(t);}this.set("xcoords",k);this.set("ycoords",y);},drawGraph:function(){this.drawMarkers();},draw:function(){var X=B.Node.one(this._parentNode).get("parentNode"),V=X.get("offsetWidth"),W=X.get("offsetHeight");if(!isNaN(V)&&!isNaN(W)&&V>0&&W>0){this.setAreaData();this.drawGraph();}},drawMarkers:function(){if(!this.get("xcoords")||this.get("xcoords").length<1){return;}var e=this.get("graphic"),p=this.get("styles").marker,c=p.width,o=p.height,Z=p.fillColor,Y=p.fillAlpha,d=p.fillType||"solid",r=p.borderWidth,V=p.borderColor,j=p.borderAlpha||1,b=p.colors,a=p.alpha||[],g=p.ratios||[],l=p.rotation||0,f=this.get("xcoords"),q=this.get("ycoords"),X=p.func||"drawCircle",m=0,n=f.length,k=q[0],W;
for(;m<n;++m){k=q[m];W=f[m];if(r>0){e.lineStyle(r,V,j);}if(d==="solid"){e.beginFill(Z,Y);}else{e.beginGradientFill(d,b,a,g,{rotation:l,width:c,height:o});}this.drawMarker(e,X,W,k,c,o);e.end();}},drawMarker:function(a,X,Z,Y,V,W){if(X==="drawCircle"){a.drawCircle(Z,Y,V/2);}else{Z-=V/2;Y-=W/2;a[X].call(a,Z,Y,V,W);}},_getDefaultStyles:function(){return{padding:{top:0,left:0,right:0,bottom:0}};}},{ATTRS:{type:{value:"cartesian"},order:{value:NaN},xcoords:{value:null},ycoords:{value:null},graph:{value:null},xAxis:{value:null,validator:function(V){return V!==this.get("xAxis");},lazyAdd:false},yAxis:{value:null,validator:function(V){return V!==this.get("yAxis");},lazyAdd:false},xKey:{value:null,validator:function(V){return V!==this.get("xKey");}},yKey:{value:null,validator:function(V){return V!==this.get("yKey");}},node:{value:null},graphic:{value:null},direction:{value:"horizontal"}}});function H(V){H.superclass.constructor.apply(this,arguments);}H.NAME="lineSeries";H.ATTRS={type:{value:"line"}};B.extend(H,B.CartesianSeries,{drawGraph:function(){var V=this.get("styles");if(V.showLines){this.drawLines();}if(V.showMarkers){this.drawMarkers();}},drawLines:function(){if(this.get("xcoords").length<1){return;}var d=this.get("xcoords"),o=this.get("ycoords"),g=d.length,X=d[0],W=o[0],n=X,l=W,k,h,f,Z=this.get("styles"),j=Z.lineType,m=Z.dashLength,b=Z.gapSpace,a=Z.connectDiscontinuousPoints,V=Z.discontinuousType,Y=Z.discontinuousDashLength,e=Z.discontinuousGapSpace,c=this.get("graphic");c.clear();c.lineStyle(Z.weight,Z.color);c.moveTo(X,W);for(f=1;f<g;f=++f){k=d[f];h=o[f];if(isNaN(h)){n=k;l=h;continue;}if(n==X){if(j!="dashed"){c.lineTo(k,h);}else{this.drawDashedLine(n,l,k,h,m,b);}}else{if(!a){c.moveTo(k,h);}else{if(V!="solid"){this.drawDashedLine(n,l,k,h,Y,e);}else{c.lineTo(k,h);}}}X=n=k;W=l=h;}c.end();},drawDashedLine:function(g,l,W,j,Y,X){Y=Y||10;X=X||10;var a=Y+X,d=W-g,h=j-l,k=Math.sqrt(Math.pow(d,2)+Math.pow(h,2)),b=Math.floor(Math.abs(k/a)),Z=Math.atan2(h,d),f=g,e=l,c,V=this.get("graphic");d=Math.cos(Z)*a;h=Math.sin(Z)*a;for(c=0;c<b;++c){V.moveTo(f,e);V.lineTo(f+Math.cos(Z)*Y,e+Math.sin(Z)*Y);f+=d;e+=h;}V.moveTo(f,e);k=Math.sqrt((W-f)*(W-f)+(j-e)*(j-e));if(k>Y){V.lineTo(f+Math.cos(Z)*Y,e+Math.sin(Z)*Y);}else{if(k>0){V.lineTo(f+Math.cos(Z)*k,e+Math.sin(Z)*k);}}V.moveTo(W,j);},_getDefaultStyles:function(){return{color:"#000000",alpha:1,weight:1,marker:{fillColor:"#000000",alpha:1,weight:1,width:6,height:6},showMarkers:false,showLines:true,lineType:"solid",dashLength:10,gapSpace:10,connectDiscontinuousPoint:true,discontinuousType:"dashed",discontinuousDashLength:10,discontinuousGapSpace:10,padding:{top:0,left:0,right:0,bottom:0}};}});B.LineSeries=H;function C(V){C.superclass.constructor.apply(this,arguments);}C.NAME="columnSeries";C.ATTRS={type:{value:"column"}};B.extend(C,B.CartesianSeries,{drawMarkers:function(){if(this.get("xcoords").length<1){return;}var n=this.get("graphic"),AB=this.get("styles").marker,l=AB.width,AA=AB.height,d=AB.fillColor,c=AB.fillAlpha,m=AB.fillType||"solid",AD=AB.borderWidth,V=AB.borderColor,q=AB.borderAlpha||1,k=AB.colors,e=AB.alpha||[],p=AB.ratios||[],u=AB.rotation||0,o=this.get("xcoords"),AC=this.get("ycoords"),b=AB.func||"drawRect",x=0,z=o.length,r=AC[0],Z=this.get("type"),X=this.get("graph"),j=X.seriesTypes[Z],y=j.length,W=0,Y=0,f=0,g,t,v=this.get("order"),s=B.Node.one(this._parentNode).get("parentNode"),a;for(;x<y;++x){t=j[x];W+=t.get("styles").marker.width;if(v>x){f=W;}}Y=z*W;if(Y>s.offsetWidth){g=this.width/Y;W*=g;f*=g;l*=g;l=Math.max(l,1);}f-=W/2;for(x=0;x<z;++x){r=AC[x];AA=this._bottomOrigin-r;a=o[x]+f;if(AD>0){n.lineStyle(AD,V,q);}if(m==="solid"){n.beginFill(d,c);}else{n.beginGradientFill(m,k,e,p,{rotation:u,width:l,height:AA});}this.drawMarker(n,b,a,r,l,AA);n.end();}},drawMarker:function(a,X,Z,Y,V,W){a.drawRect(Z,Y,V,W);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.ColumnSeries=C;function P(V){P.superclass.constructor.apply(this,arguments);}P.NAME="barSeries";P.ATTRS={type:{value:"bar"},direction:{value:"vertical"}};B.extend(P,B.CartesianSeries,{drawMarkers:function(){if(this.get("xcoords").length<1){return;}var m=this.get("graphic"),AA=this.get("styles").marker,k=AA.width,z=AA.height,b=AA.fillColor,a=AA.fillAlpha,l=AA.fillType||"solid",AD=AA.borderWidth,V=AA.borderColor,p=AA.borderAlpha||1,j=AA.colors,c=AA.alpha||[],o=AA.ratios||[],t=AA.rotation||0,n=this.get("xcoords"),AC=this.get("ycoords"),Z=AA.func||"drawRect",v=0,y=n.length,q=AC[0],X=this.get("type"),W=this.get("graph"),g=W.seriesTypes[X],x=g.length,f=0,AB=0,d=0,e,s,u=this.get("order"),r=B.Node.one(this._parentNode).get("parentNode"),Y;for(;v<x;++v){s=g[v];f+=s.get("styles").marker.height;if(u>v){d=f;}}AB=y*f;if(AB>r.offsetHeight){e=this.height/AB;f*=e;d*=e;z*=e;z=Math.max(z,1);}d-=f/2;for(v=0;v<y;++v){q=AC[v]+d;Y=n[v];k=Y-this._leftOrigin;if(AD>0){m.lineStyle(AD,V,p);}if(l==="solid"){m.beginFill(b,a);}else{m.beginGradientFill(l,j,c,o,{rotation:t,width:k,height:z});}this.drawMarker(m,Z,Y,q,k,z);m.end();}},drawMarker:function(a,X,Z,Y,V,W){a.drawRect(this._leftOrigin,Y,V,W);},_getDefaultStyles:function(){return{marker:{fillColor:"#000000",fillAlpha:1,borderColor:"#ff0000",borderWidth:0,borderAlpha:1,colors:[],alpha:[],ratios:[],rotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.BarSeries=P;function L(V){L.superclass.constructor.apply(this,arguments);}L.NAME="areaSeries";L.ATTRS={type:{value:"area"},direction:{value:"horizontal"}};B.extend(L,B.CartesianSeries,{drawGraph:function(){this.drawArea();},drawArea:function(){if(this.get("xcoords").length<1){return;}var f=this.get("xcoords"),c=this.get("ycoords"),e=f.length,Z=f[0],Y=c[0],X=Z,W=Y,d=X,b=W,j,h,a,g=this.get("styles"),V=this.get("graphic");V.clear();V.beginFill(g.color,g.alpha);V.moveTo(X,W);for(a=1;a<e;a=++a){j=f[a];h=c[a];if(isNaN(h)){d=j;b=h;continue;
}V.lineTo(j,h);X=d=j;W=b=h;}if(this.get("direction")==="vertical"){V.lineTo(this._leftOrigin,W);V.lineTo(this._leftOrigin,Y);}else{V.lineTo(X,this._bottomOrigin);V.lineTo(Z,this._bottomOrigin);}V.lineTo(Z,Y);V.end();},_getDefaultStyles:function(){return{color:"#000000",alpha:1,padding:{top:0,left:0,right:0,bottom:0}};}});B.AreaSeries=L;function S(V){S.superclass.constructor.apply(this,arguments);}S.NAME="rangeSeries";S.ATTRS={type:{value:"range"}};B.extend(S,B.CartesianSeries,{setAreaData:function(){var v,u,n=B.Node.one(this._parentNode).get("parentNode"),g=n.get("offsetWidth"),q=n.get("offsetHeight"),k=this.get("styles").padding,m=k.left,t=k.top,d=g-(m+k.right),p=q-(t+k.bottom),l=[],y=[],f=this.get("xAxis"),W=this.get("yAxis"),x=f.get("maximum"),s=f.get("minimum"),X=W.get("maximum"),V=W.get("minimum"),Y=this.get("xKey"),c=this.get("yKey"),b=d/(x-s),j=p/(X-V),a=f.getDataByKey(Y),r=W.getDataByKey(c),e=a.length,o,Z;this.get("graphic").setSize(g,q);this._leftOrigin=Math.round(((0-s)*b)+m);this._bottomOrigin=Math.round((p+t)-(0-V)*j);for(o=0;o<e;++o){Z=r[o];v=Math.round((((a[o]-s)*b)+m));u={h:Math.round(((p+t)-(Z.high-V)*j)),l:Math.round(((p+t)-(Z.low-V)*j)),o:Math.round(((p+t)-(Z.open-V)*j)),c:Math.round(((p+t)-(Z.close-V)*j))};l.push(v);y.push(u);}this.set("xcoords",l);this.set("ycoords",y);},drawMarkers:function(){if(this.get("xcoords").length<1){return;}var e=this.get("graphic"),n=this.get("styles").marker,d=n.width,f=this.get("xcoords"),p=this.get("ycoords"),k=0,l=f.length,Y=this.get("type"),W=this.get("graph"),c=W.seriesTypes[Y],m=c.length,V=0,X=0,a=0,b,h,j=this.get("order"),g=B.Node.one(this._parentNode).get("parentNode"),Z,o;for(;k<m;++k){h=c[k];V+=h.get("styles").marker.width;if(j>k){a=V;}}X=l*V;if(X>g.offsetWidth){b=this.width/X;V*=b;a*=b;d*=b;d=Math.max(d,1);}a-=V/2;for(k=0;k<l;++k){o=p[k];Z=f[k]+a;this.drawMarker(e,o,Z,n);}}});B.RangeSeries=S;function K(V){K.superclass.constructor.apply(this,arguments);}K.NAME="ohlcSeries";K.ATTRS={type:{value:"ohlc"}};B.extend(K,B.RangeSeries,{drawMarker:function(d,q,X,k){var j=q.h,e=q.o,g=q.l,n=q.c,b=k.width,i,W=k.upColor,Z=k.downColor,Y,f=k.upAlpha,m=k.downAlpha,a=n<e,V=k.thickness,p=X+b*0.5;i=a?W:Z;Y=a?f:m;d.lineStyle(V,i,Y);d.moveTo(X,e);d.lineTo(p,e);d.moveTo(p,j);d.lineTo(p,g);d.moveTo(p,n);d.lineTo(X+b,n);d.end();},_getDefaultStyles:function(){return{marker:{upColor:"#aaaaaa",upAlpha:1,thickness:1,borderAlpha:1,downColor:"#000000",downAlpha:1,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.OHLCSeries=K;function O(V){O.superclass.constructor.apply(this,arguments);}O.NAME="candlestickSeries";O.ATTRS={type:{value:"candlestick"}};B.extend(O,B.RangeSeries,{drawMarker:function(e,AH,b,AA){var AF=AH.h,AB=AH.o,AD=AH.l,AI=AH.c,AC=Math.abs(AI-AB),x=AA.width,AL,v=AA.upFillColor,Y=AA.downFillColor,AE,r=AA.upFillAlpha,AK=AA.downFillAlpha,p=AI<AB,y=AA.upFillType||"solid",t=AA.downFillType||"solid",Z=AA.borderWidth,q=AA.borderColor,AJ=AA.borderAlpha||1,z,u=AA.upColors,AG=AA.downColors,m,k=AA.upAlphas||[],s=AA.downAlphas||[],i,f=AA.upRatios||[],j=AA.downRatios||[],n,a=AA.upRotation||0,X=AA.downRotation||0,g=p?y:t,d=AI<AB?AI:AB,W=AI<AB?AB:AI,V=b+x*0.5;if(Z>0){e.lineStyle(Z,q,AJ);}if(g==="solid"){AL=p?v:Y;AE=p?r:AK;e.beginFill(AL,AE);}else{z=p?u:AG;n=p?a:X;i=p?f:j;m=p?k:s;e.beginGradientFill(g,z,m,i,{rotation:n,width:x,height:AC});}if(d>AF){e.moveTo(V,AF);e.lineTo(V,d);}e.drawRect(b,d,x,AC);if(AD>AI&&AD>AB){e.moveTo(V,W);e.lineTo(V,AD);}e.end();},_getDefaultStyles:function(){return{marker:{upFillColor:"#ffffff",upFillAlpha:1,borderColor:"#000000",borderWidth:1,borderAlpha:1,upColors:[],upAlphas:[],upRatios:[],upRotation:0,downFillColor:"#000000",downFillAlpha:1,downBorderColor:"#000000",downBorderWidth:0,downBorderAlpha:1,downColors:[],downAlphas:[],downRatios:[],downRotation:0,width:6,height:6},padding:{top:0,left:0,right:0,bottom:0}};}});B.CandlestickSeries=O;function G(V){G.superclass.constructor.apply(this,arguments);}G.NAME="stackedLineSeries";G.ATTRS={type:{value:"stackedLine"}};B.extend(G,B.CartesianSeries,{drawGraph:function(){var V=this.get("styles");if(V.showLines){this.drawLines();}if(V.showMarkers){this.drawMarkers();}},drawLines:function(){if(this.get("xcoords").length<1){return;}var j=this.get("xcoords"),y=this.get("ycoords"),v=this.get("direction"),l=B.Node.one(this._parentNode).get("parentNode"),q=l.get("offsetHeight"),n=this.get("order"),X=this.get("type"),V=this.get("graph"),c=V.seriesTypes[X],W,k,p=j.length,a=j[0],Z=y[0],x=a,w=Z,u,s,o=0,d=this.get("styles"),r=d.lineType,t=d.dashLength,f=d.gapSpace,e=d.connectDiscontinuousPoints,Y=d.discontinuousType,b=d.discontinuousDashLength,m=d.discontinuousGapSpace,g=this.get("graphic");if(n>0){W=c[n-1].get("xcoords").concat();k=c[n-1].get("ycoords").concat();if(v==="vertical"){p=W.length;for(;o<p;++o){if(!isNaN(W[o])&&!isNaN(j[o])){j[o]+=W[o];}}a=x=j[0];p=j.length;}else{p=k.length;for(;o<p;++o){if(!isNaN(k[o])&&!isNaN(y[o])){y[o]=k[o]-(q-y[o]);}}Z=w=y[0];p=y.length;}}g.clear();g.lineStyle(d.weight,d.color);g.moveTo(a,Z);for(o=1;o<p;o=++o){u=j[o];s=y[o];if(isNaN(s)){x=u;w=s;continue;}if(x==a){if(r!="dashed"){g.lineTo(u,s);}else{this.drawDashedLine(x,w,u,s,t,f);}}else{if(!e){g.moveTo(u,s);}else{if(Y!="solid"){this.drawDashedLine(x,w,u,s,b,m);}else{g.lineTo(u,s);}}}a=x=u;Z=w=s;}g.end();},drawDashedLine:function(g,l,W,j,Y,X){Y=Y||10;X=X||10;var a=Y+X,d=W-g,h=j-l,k=Math.sqrt(Math.pow(d,2)+Math.pow(h,2)),b=Math.floor(Math.abs(k/a)),Z=Math.atan2(h,d),f=g,e=l,c,V=this.get("graphic");d=Math.cos(Z)*a;h=Math.sin(Z)*a;for(c=0;c<b;++c){V.moveTo(f,e);V.lineTo(f+Math.cos(Z)*Y,e+Math.sin(Z)*Y);f+=d;e+=h;}V.moveTo(f,e);k=Math.sqrt((W-f)*(W-f)+(j-e)*(j-e));if(k>Y){V.lineTo(f+Math.cos(Z)*Y,e+Math.sin(Z)*Y);}else{if(k>0){V.lineTo(f+Math.cos(Z)*k,e+Math.sin(Z)*k);}}V.moveTo(W,j);},_getDefaultStyles:function(){return{color:"#000000",alpha:1,weight:1,marker:{fillColor:"#000000",alpha:1,weight:1,width:6,height:6},showMarkers:false,showLines:true,lineType:"solid",dashLength:10,gapSpace:10,connectDiscontinuousPoint:true,discontinuousType:"dashed",discontinuousDashLength:10,discontinuousGapSpace:10,padding:{top:0,left:0,right:0,bottom:0}};
}});B.StackedLineSeries=G;function U(V){U.superclass.constructor.apply(this,arguments);}U.NAME="stackedSeries";U.ATTRS={type:{value:"stacked"},direction:{value:"horizontal"}};B.extend(U,B.CartesianSeries,{drawGraph:function(){this.drawArea();},drawArea:function(){if(this.get("xcoords").length<1){return;}var r=this.get("direction"),j=B.Node.one(this._parentNode).get("parentNode"),n=j.get("offsetHeight"),k=this.get("order"),X=this.get("type"),V=this.get("graph"),Y=V.seriesTypes[X],e=this.get("xcoords"),t=this.get("ycoords"),W,g,f,d,m=e.length,b=e[0],a=t[0],s=b,q=a,p,o,l=0,Z=this.get("styles"),c=this.get("graphic");if(k>0){W=Y[k-1].get("xcoords").concat();g=Y[k-1].get("ycoords").concat();if(r==="vertical"){m=W.length;for(;l<m;++l){if(!isNaN(W[l])&&!isNaN(e[l])){e[l]+=W[l];}}}else{m=g.length;for(;l<m;++l){if(!isNaN(g[l])&&!isNaN(t[l])){t[l]=g[l]-(n-t[l]);}}}d=t.concat();f=e.concat();f=f.concat(W.concat().reverse());d=d.concat(g.concat().reverse());b=f[0];a=d[0];f.push(b);d.push(a);}else{d=t.concat();f=e.concat();if(r==="vertical"){f.push(this._leftOrigin);f.push(this._leftOrigin);d.push(d[d.length-1]);d.push(a);}else{f.push(f[f.length-1]);f.push(b);d.push(this._bottomOrigin);d.push(this._bottomOrigin);}f.push(b);d.push(a);}m=f.length;c.clear();c.beginFill(Z.color,Z.alpha);c.moveTo(b,a);for(l=1;l<m;l=++l){p=f[l];o=d[l];if(isNaN(o)){s=p;q=o;continue;}c.lineTo(p,o);s=p;q=o;}c.end();},_getDefaultStyles:function(){return{color:"#000000",alpha:1,padding:{top:0,left:0,right:0,bottom:0}};}});B.StackedAreaSeries=U;function T(V){T.superclass.constructor.apply(this,arguments);}T.NAME="graphstack";T.ATTRS={seriesCollection:{lazyAdd:false,getter:function(){return this._seriesCollection;},setter:function(V){this._parseSeriesCollection(V);return this._seriesCollection;}},parent:{value:null}};B.extend(T,B.Base,{_seriesCollection:null,seriesTypes:null,_parseSeriesCollection:function(Y){var V=Y.length,X=0,W;if(!Y){return;}if(!this._seriesCollection){this._seriesCollection=[];}if(!this.seriesTypes){this.seriesTypes=[];}for(;X<V;++X){W=Y[X];if(!(W instanceof B.CartesianSeries)){this._createSeries(W);continue;}this._addSeries(W);}V=this._seriesCollection.length;for(X=0;X<V;++X){this._seriesCollection[X].render(this.get("parent"));}},_addSeries:function(X){var Y=X.get("type"),a=this._seriesCollection,Z=a.length,W=this.seriesTypes,V;if(!X.get("graph")){X.set("graph",this);}X.graphOrder=Z;a.push(X);if(!W.hasOwnProperty(Y)){this.seriesTypes[Y]=[];}V=this.seriesTypes[Y];X.set("order",V.length);V.push(X);this.fire("seriesAdded",X);},_createSeries:function(Z){var a=Z.type,b=this._seriesCollection,X=this.seriesTypes,W,V,Y;Z.graph=this;if(!X.hasOwnProperty(a)){X[a]=[];}W=X[a];Z.graph=this;Z.order=W.length;V=this._getSeries(Z.type);Y=new V(Z);W.push(Y);b.push(Y);},_getSeries:function(V){var W;switch(V){case"line":W=B.LineSeries;break;case"column":W=B.ColumnSeries;break;case"bar":W=B.BarSeries;break;case"area":W=B.AreaSeries;break;case"candlestick":W=B.CandlestickSeries;break;case"ohlc":W=B.OHLCSeries;break;case"stackedarea":W=B.StackedAreaSeries;break;case"stackedline":W=B.StackedLineSeries;break;default:W=B.CartesianSeries;break;}return W;}});B.GraphStack=T;B.AxisRenderer=B.Base.create("axisrenderer",B.Widget,[B.Renderer],{axisChangeHandler:function(X){var V=X.newVal,W=X.prevVal;if(W){W.detach("axisReady",this._axisDataChangeHandler);W.detach("axisUpdate",this._axisDataChangeHandler);}V.after("axisReady",B.bind(this._axisDataChangeHandler,this));V.after("axisUpdate",B.bind(this._axisDataChangeHandler,this));},_axisDataChangeHandler:function(V){if(this.get("rendered")){this._drawAxis();}},_updateHandler:function(V){if(this.get("rendered")){this._drawAxis();}},_positionChangeHandler:function(V){this._ui=this.getLayout(this.get("position"));if(this.get("rendered")){this._drawAxis();}},renderUI:function(){this._ui=this.getLayout(this.get("position"));this._setCanvas();},bindUI:function(){var V=this.get("axis");if(V){V.after("axisReady",B.bind(this._axisDataChangeHandler,this));V.after("axisUpdate",B.bind(this._axisDataChangeHandler,this));}this.after("axisChange",this.axisChangeHandler);this.after("stylesChange",this._updateHandler);this.after("positionChange",this._positionChangeHandler);this.after("overlapGraphChange",this._updateHandler);},syncUI:function(){this._drawAxis();},_setCanvas:function(){var V=this.get("contentBox"),Y=this.get("position"),Z=document.createElement("div"),X=Z.style,W=this._parentNode;V.appendChild(Z);X.position="absolute";X.display="block";X.top="0px";X.left="0px";X.border="1px";if(Y==="top"||Y==="bottom"){V.setStyle("width",W.getStyle("width"));}else{V.setStyle("height",W.getStyle("height"));}X.width=V.getStyle("width");X.height=V.getStyle("height");this.set("node",Z);this.set("graphic",new B.Graphic());this.get("graphic").render(this.get("node"));},_getDefaultStyles:function(){return{majorTicks:{display:"inside",length:4,color:"#000000",weight:1,alpha:1},minorTicks:{display:"none",length:2,color:"#000000",weight:1},line:{weight:1,color:"#000000",alpha:1},majorUnit:{determinant:"count",count:5,distance:75},padding:{top:0,left:0,right:0,bottom:0},top:"0px",left:"0px",width:"100px",height:"100px",hideOverlappingLabelTicks:false};}},{NAME:"axisRenderer",ATTRS:{graphic:{value:null},axis:{value:null,validator:function(V){return V!==this.get("axis");}},node:{value:null},position:{value:"bottom",validator:function(V){return((V!==this.get("position"))&&(V==="bottom"||V==="top"||V==="left"||V==="right"));}},topTickOffset:{value:0},bottomTickOffset:{value:0},leftTickOffset:{value:0},rightTickOffset:{value:0},overlapGraph:{value:true,validator:function(V){return B.Lang.isBoolean(V);}}}});function I(V){I.superclass.constructor.apply(this,arguments);}I.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};B.extend(I,B.Base,{setTickOffsets:function(){var V=this.get("axisRenderer"),Z=V.get("styles").majorTicks,X=Z.length,W=X*0.5,Y=Z.display;V.set("topTickOffset",0);V.set("bottomTickOffset",0);switch(Y){case"inside":V.set("rightTickOffset",X);
break;case"outside":V.set("leftTickOffset",X);break;case"cross":V.set("rightTickOffset",W);V.set("leftTickOffset",W);break;}},getLineStart:function(){var V=this.get("axisRenderer"),W=V.get("styles"),a=W.padding,b=W.majorTicks,X=b.length,Z=b.display,Y={x:a.left,y:0};if(Z==="outside"){Y.x+=X;}else{if(Z==="cross"){Y.x+=X/2;}}return Y;},drawTick:function(b,Z){var W=this.get("axisRenderer"),X=W.get("styles"),a=X.padding,Y=Z.length,c={x:a.left,y:b.y},V={x:Y+a.left,y:b.y};W.drawLine(c,V,Z);},getLabelPoint:function(V){var W=this.get("axisRenderer");return{x:V.x-W.get("leftTickOffset"),y:V.y};},positionLabel:function(j,l){var c=this.get("axisRenderer"),W=c.get("styles").label,Z=l.x,f=l.y,a=Math.min(90,Math.max(-90,W.rotation)),d=Math.abs(a),h=Math.PI/180,k=parseFloat(parseFloat(Math.sin(d*h)).toFixed(8)),Y=parseFloat(parseFloat(Math.cos(d*h)).toFixed(8)),g=Y,e=a>0?-k:k,b=-e,X=g,i=0,V=this.get("maxLabelSize");if(B.UA.ie){j.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(a===0){Z-=j.offsetWidth;f-=j.offsetHeight*0.5;}else{if(d===90){Z-=j.offsetHeight;f-=j.offsetWidth*0.5;}else{if(a===-90){Z-=j.offsetHeight;f-=j.offsetWidth*0.5;}else{if(a>0){Z-=(Y*j.offsetWidth)+(j.offsetHeight*a/90);f-=(k*j.offsetWidth)+(Y*(j.offsetHeight*0.5));}else{Z-=(Y*j.offsetWidth)+(d/90*j.offsetHeight);f-=Y*(j.offsetHeight*0.5);}}}}j.style.left=Z+"px";j.style.top=f+"px";j.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+g+" M12="+e+" M21="+b+" M22="+X+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(V,j.offsetWidth));return;}if(a===0){i=j.offsetWidth;Z-=i;f-=j.offsetHeight*0.5;}else{if(a===90){i=j.offsetHeight;f-=j.offsetWidth*0.5;}else{if(a===-90){i=j.offsetHeight;Z-=i;f+=j.offsetWidth*0.5;}else{i=(Y*j.offsetWidth)+(k*j.offsetHeight);if(a<0){Z-=i;f+=(k*j.offsetWidth)-(Y*(j.offsetHeight*0.6));}else{Z-=(Y*j.offsetWidth);f-=(k*j.offsetWidth)+(Y*(j.offsetHeight*0.6));}}}}j.style.left=Z+"px";j.style.top=f+"px";j.style.MozTransformOrigin="0 0";j.style.MozTransform="rotate("+a+"deg)";j.style.webkitTransformOrigin="0 0";j.style.webkitTransform="rotate("+a+"deg)";this.set("maxLabelSize",Math.max(i,V));},setSizeAndPosition:function(){var V=this.get("maxLabelSize"),W=this.get("axisRenderer"),X=W.get("styles"),Z=X.line.weight,a=X.majorTicks,Y=a.display,b=a.length;if(Y==="outside"){Z+=b;}else{if(Y==="cross"){Z+=b*0.5;}}Z+=V;W.get("node").style.left=V+"px";W.set("width",Z);},offsetNodeForTick:function(X){var V=this.get("axisRenderer"),Z=V.get("styles").majorTicks,W=Z.length,Y=Z.display;if(Y==="inside"){X.style.marginRight=(0-W)+"px";}else{if(Y==="cross"){X.style.marginRight=(0-(W*0.5))+"px";}}}});B.LeftAxisLayout=I;function M(V){M.superclass.constructor.apply(this,arguments);}M.ATTRS={axisRenderer:{value:null}};B.extend(M,B.Base,{setTickOffsets:function(){var V=this.get("axisRenderer"),Z=V.get("styles").majorTicks,X=Z.length,W=X*0.5,Y=Z.display;V.set("topTickOffset",0);V.set("bottomTickOffset",0);switch(Y){case"inside":V.set("leftTickOffset",X);break;case"outside":V.set("rightTickOffset",X);break;case"cross":V.set("rightTickOffset",W);V.set("leftTickOffset",W);break;}},drawTick:function(b,Z){var W=this.get("axisRenderer"),X=W.get("styles"),a=X.padding,Y=Z.length,c={x:a.left,y:b.y},V={x:a.left+Y,y:b.y};W.drawLine(c,V,Z);},getLineStart:function(){var V=this.get("axisRenderer"),W=V.get("styles"),a=W.padding,b=W.majorTicks,X=b.length,Z=b.display,Y={x:a.left,y:a.top};if(Z==="inside"){Y.x+=X;}else{if(Z==="cross"){Y.x+=X/2;}}return Y;},getLabelPoint:function(V){var W=this.get("axisRenderer");return{x:V.x+W.get("rightTickOffset"),y:V.y};},positionLabel:function(h,j){var b=this.get("axisRenderer"),V=b.get("styles").label,Y=j.x,e=j.y,Z=Math.min(Math.max(V.rotation,-90),90),c=Math.abs(Z),g=Math.PI/180,i=parseFloat(parseFloat(Math.sin(c*g)).toFixed(8)),X=parseFloat(parseFloat(Math.cos(c*g)).toFixed(8)),f=X,d=Z>0?-i:i,a=-d,W=f;if(B.UA.ie){h.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(Z===0){e-=h.offsetHeight*0.5;}else{if(c===90){e-=h.offsetWidth*0.5;}else{if(Z>0){e-=(X*(h.offsetHeight*0.5));}else{e-=(i*h.offsetWidth)+(X*(h.offsetHeight*0.5));}}}h.style.left=Y+"px";h.style.top=e+"px";h.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+f+" M12="+d+" M21="+a+" M22="+W+' sizingMethod="auto expand")';return;}if(Z===0){e-=h.offsetHeight*0.5;}else{if(Z===90){Y+=h.offsetHeight;e-=h.offsetWidth*0.5;}else{if(Z===-90){e+=h.offsetWidth*0.5;}else{if(Z<0){e-=(X*(h.offsetHeight*0.6));}else{e-=X*(h.offsetHeight*0.6);Y+=i*h.offsetHeight;}}}}h.style.left=Y+"px";h.style.top=e+"px";h.style.MozTransformOrigin="0 0";h.style.MozTransform="rotate("+Z+"deg)";h.style.webkitTransformOrigin="0 0";h.style.webkitTransform="rotate("+Z+"deg)";},setSizeAndPosition:function(V){var W=this.get("axisRenderer"),X=W.get("styles"),Z=X.line.weight,a=X.majorTicks,Y=a.display,b=a.length;if(Y==="outside"){Z+=b;}else{if(Y==="cross"){Z+=b*0.5;}}Z+=V;W.set("width",Z);},offsetNodeForTick:function(X){var V=this.get("axisRenderer"),Z=V.get("styles").majorTicks,W=Z.length,Y=Z.display;if(Y==="inside"){X.style.marginLeft=(0-W)+"px";}else{if(Y==="cross"){X.style.marginLeft=(0-(W*0.5))+"px";}}}});B.RightAxisLayout=M;function R(V){R.superclass.constructor.apply(this,arguments);}R.ATTRS={axisRenderer:{value:null},maxLabelSize:{value:0}};B.extend(R,B.Base,{setTickOffsets:function(){var V=this.get("axisRenderer"),Z=V.get("styles").majorTicks,X=Z.length,W=X*0.5,Y=Z.display;V.set("leftTickOffset",0);V.set("rightTickOffset",0);switch(Y){case"inside":V.set("topTickOffset",X);break;case"outside":V.set("bottomTickOffset",X);break;case"cross":V.set("topTickOffset",W);V.set("bottomTickOffset",W);break;}},setSizeAndPosition:function(){var V=this.get("maxLabelSize"),W=this.get("axisRenderer"),X=W.get("styles"),Z=X.line.weight,a=X.majorTicks,Y=a.display,b=a.length;if(Y==="outside"){Z+=b;}else{if(Y==="cross"){Z+=b*0.5;}}Z+=V;W.set("height",Z);},getLineStart:function(){var V=this.get("axisRenderer"),W=V.get("styles"),a=W.padding,b=W.majorTicks,X=b.length,Z=b.display,Y={x:0,y:a.top};
if(Z==="inside"){Y.y+=X;}else{if(Z==="cross"){Y.y+=X/2;}}return Y;},drawTick:function(b,Z){var W=this.get("axisRenderer"),X=W.get("styles"),a=X.padding,Y=Z.length,c={x:b.x,y:a.top},V={x:b.x,y:Y+a.top};W.drawLine(c,V,Z);},getLabelPoint:function(V){var W=this.get("axisRenderer");return{x:V.x,y:V.y+W.get("bottomTickOffset")};},positionLabel:function(j,l){var c=this.get("axisRenderer"),W=c.get("styles").label,Z=l.x,f=l.y,a=Math.min(90,Math.max(-90,W.rotation)),d=Math.abs(a),h=Math.PI/180,k=parseFloat(parseFloat(Math.sin(d*h)).toFixed(8)),Y=parseFloat(parseFloat(Math.cos(d*h)).toFixed(8)),g=Y,e=a>0?-k:k,b=-e,X=g,i=0,V=this.get("maxLabelSize");if(B.UA.ie){g=Y;e=a>0?-k:k;b=-e;X=g;j.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";if(d===90){Z-=j.offsetHeight*0.5;}else{if(a<0){Z-=Y*j.offsetWidth;Z-=k*(j.offsetHeight*0.5);}else{if(a>0){Z-=k*(j.offsetHeight*0.5);}else{Z-=j.offsetWidth*0.5;}}}j.style.left=Z+"px";j.style.top=f+"px";j.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+g+" M12="+e+" M21="+b+" M22="+X+' sizingMethod="auto expand")';this.set("maxLabelSize",Math.max(j.offsetHeight,V));return;}if(a===0){Z-=j.offsetWidth*0.5;i=j.offsetHeight;}else{if(d===90){i=j.offsetWidth;if(a===90){Z+=j.offsetHeight*0.5;}else{f+=i;Z-=j.offsetHeight*0.5;}}else{i=(k*j.offsetWidth)+(Y*j.offsetHeight);if(a<0){Z-=(Y*j.offsetWidth)+(k*(j.offsetHeight*0.6));f+=k*j.offsetWidth;}else{Z+=k*(j.offsetHeight*0.6);}}}j.style.left=Z+"px";j.style.top=f+"px";j.style.MozTransformOrigin="0 0";j.style.MozTransform="rotate("+a+"deg)";j.style.webkitTransformOrigin="0 0";j.style.webkitTransform="rotate("+a+"deg)";this.set("maxLabelSize",Math.max(i,V));},offsetNodeForTick:function(X){var V=this.get("axisRenderer"),Z=V.get("styles").majorTicks,W=Z.length,Y=Z.display;if(Y==="inside"){X.style.marginTop=(0-W)+"px";}else{if(Y==="cross"){X.style.marginTop=(0-(W*0.5))+"px";}}}});B.BottomAxisLayout=R;function A(V){A.superclass.constructor.apply(this,arguments);}A.ATTRS={axisRenderer:{value:null}};B.extend(A,B.Base,{setTickOffsets:function(){var V=this.get("axisRenderer"),Z=V.get("styles").majorTicks,X=Z.length,W=X*0.5,Y=Z.display;V.set("leftTickOffset",0);V.set("rightTickOffset",0);switch(Y){case"inside":V.set("bottomTickOffset",X);break;case"outside":V.set("topTickOffset",X);break;case"cross":V.set("topTickOffset",W);V.set("bottomTickOffset",W);break;}},getLineStart:function(){var V=this.get("axisRenderer"),W=V.get("styles"),a=W.padding,b=W.majorTicks,X=b.length,Z=b.display,Y={x:0,y:a.top};if(Z==="outside"){Y.y+=X;}else{if(Z==="cross"){Y.y+=X/2;}}return Y;},drawTick:function(b,Z){var W=this.get("axisRenderer"),X=W.get("styles"),a=X.padding,Y=Z.length,c={x:b.x,y:a.top},V={x:b.x,y:Y+a.top};W.drawLine(c,V,Z);},getLabelPoint:function(W){var V=this.get("axisRenderer");return{x:W.x,y:W.y-V.get("topTickOffset")};},positionLabel:function(h,j){var b=this.get("axisRenderer"),V=b.get("styles").label,Y=j.x,e=j.y,Z=Math.max(-90,Math.min(90,V.rotation)),c=Math.abs(Z),g=Math.PI/180,i=parseFloat(parseFloat(Math.sin(c*g)).toFixed(8)),X=parseFloat(parseFloat(Math.cos(c*g)).toFixed(8)),f,d,a,W;Z=Math.min(90,Z);Z=Math.max(-90,Z);if(B.UA.ie){h.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)";f=X;d=Z>0?-i:i;a=-d;W=f;if(Z===0){Y-=h.offsetWidth*0.5;e-=h.offsetHeight;}else{if(c===90){Y-=h.offsetHeight*0.5;e-=h.offsetWidth;}else{if(Z>0){Y-=(X*h.offsetWidth)+Math.min((i*h.offsetHeight),(Z/180*h.offsetHeight));e-=(i*h.offsetWidth)+(X*(h.offsetHeight));}else{Y-=i*(h.offsetHeight*0.5);e-=(i*h.offsetWidth)+(X*(h.offsetHeight));}}}h.style.left=Y;h.style.top=e;h.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+f+" M12="+d+" M21="+a+" M22="+W+' sizingMethod="auto expand")';return;}if(Z===0){Y-=h.offsetWidth*0.5;e-=h.offsetHeight;}else{if(Z===90){Y+=h.offsetHeight*0.5;e-=h.offsetWidth;}else{if(Z===-90){Y-=h.offsetHeight*0.5;e-=0;}else{if(Z<0){Y-=(i*(h.offsetHeight*0.6));e-=(X*h.offsetHeight);}else{Y-=(X*h.offsetWidth)-(i*(h.offsetHeight*0.6));e-=(i*h.offsetWidth)+(X*h.offsetHeight);}}}}h.style.left=Y+"px";h.style.top=e+"px";h.style.MozTransformOrigin="0 0";h.style.MozTransform="rotate("+Z+"deg)";h.style.webkitTransformOrigin="0 0";h.style.webkitTransform="rotate("+Z+"deg)";},setSizeAndPosition:function(V){var W=this.get("axisRenderer"),X=W.get("styles"),Z=X.line.weight,a=X.majorTicks,Y=a.display,b=a.length;if(Y==="outside"){Z+=b;}else{if(Y==="cross"){Z+=b*0.5;}}Z+=V;W.get("node").style.top=V+"px";W.set("height",Z);},offsetNodeForTick:function(X){var V=this.get("axisRenderer"),Z=V.get("styles").majorTicks,W=Z.length,Y=Z.display;if(Y==="inside"){X.style.marginBottom=(0-W)+"px";}else{if(Y==="cross"){X.style.marginBottom=(0-(W*0.5))+"px";}}}});B.TopAxisLayout=A;B.mix(B.AxisRenderer.prototype,{_ui:null,getLayout:function(W){var V;switch(W){case"top":V=new B.TopAxisLayout({axisRenderer:this});break;case"bottom":V=new B.BottomAxisLayout({axisRenderer:this});break;case"left":V=new B.LeftAxisLayout({axisRenderer:this});break;case"right":V=new B.RightAxisLayout({axisRenderer:this});break;}return V;},drawLine:function(X,W,V){var Y=this.get("graphic");Y.lineStyle(V.weight,V.color,V.alpha);Y.moveTo(X.x,X.y);Y.lineTo(W.x,W.y);Y.end();},_drawAxis:function(){var W=this.get("styles"),f=W.majorTicks,g=f.display!="none",Z,e=W.majorUnit,X=this.get("axis"),d,j,a=0,Y,b,c,k,h=this._ui,V=this.get("graphic");V.clear();h.setTickOffsets();Y=this.getLength();c=h.getLineStart();Z=this.getFirstPoint(c);this.drawLine(c,this.getLineEnd(Z),this.get("styles").line);if(g){h.drawTick(Z,f);}d=X.getTotalMajorUnits(e,Y);if(d<1){return;}j=Y/(d-1);this._createLabelCache();h.set("maxLabelSize",0);for(;a<d;++a){if(g){h.drawTick(Z,f);}b=this.getPosition(Z);k=this.getLabel(Z,X.getLabelAtPosition(b,Y));h.positionLabel(k,h.getLabelPoint(Z));Z=this.getNextPoint(Z,j);}h.setSizeAndPosition();this._clearLabelCache();if(this.get("overlapGraph")){h.offsetNodeForTick(this.get("node"));}},_labels:null,_labelCache:null,getLabel:function(Y,V,Z){var X,W=this._labelCache;
if(W.length>0){X=W.shift();}else{X=document.createElement("span");}X.innerHTML=V;X.style.display="block";X.style.position="absolute";this.get("node").appendChild(X);this._labels.push(X);return X;},_createLabelCache:function(){if(this._labels){this._labelCache=this._labels.concat();}else{this._labelCache=[];}this._labels=[];},_clearLabelCache:function(){var V=this._labelCache.length,X=0,W,Y;for(;X<V;++X){W=Y[X];W.parentNode.removeChild(W);}this._labelCache=[];},_calculateSizeByTickLength:true,getLineEnd:function(X){var V=this.get("node").offsetWidth,W=this.get("node").offsetHeight,Y=this.get("position");if(Y==="top"||Y==="bottom"){return{x:V,y:X.y};}else{return{x:X.x,y:W};}},getLength:function(){var W,Y=this.get("styles"),Z=Y.padding,V=this.get("node").offsetWidth,X=this.get("node").offsetHeight,a=this.get("position");if(a==="top"||a==="bottom"){W=V-(Z.left+Z.right);}else{W=X-(Z.top+Z.bottom);}return W;},getFirstPoint:function(Y){var V=this.get("styles"),Z=this.get("position"),X=V.padding,W={x:Y.x,y:Y.y};if(Z==="top"||Z==="bottom"){W.x+=X.left;}else{W.y+=X.top;}return W;},getNextPoint:function(V,W){var X=this.get("position");if(X==="top"||X==="bottom"){V.x=V.x+W;}else{V.y=V.y+W;}return V;},getLastPoint:function(){var W=this.get("styles"),X=W.padding,V=this.get("node").offsetWidth,Y=this.get("position");if(Y==="top"||Y==="bottom"){return{x:V-X.right,y:X.top};}else{return{x:X.left,y:X.top};}},getPosition:function(V){var a,Y=this.get("node").offsetHeight,X=this.get("styles"),Z=X.padding,b=this.get("position"),W=this.get("axis").get("dataType");if(b==="left"||b==="right"){if(W==="numeric"){a=(Y-(Z.top+Z.bottom))-(V.y-Z.top);}else{a=V.y-Z.top;}}else{a=V.x-Z.left;}return a;}});},"@VERSION@");