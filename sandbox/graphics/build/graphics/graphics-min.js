YUI.add("graphics",function(D){function B(E){this._config=E;B.superclass.constructor.apply(this,arguments);}B.NAME="graphics";B.ATTRS={engine:{getter:function(){return this._engine;},validator:function(E){return(E=="canvas"||E=="vml");},setter:function(E){this._engine=this._getAPI(E);return this._engine;}}};D.extend(B,D.Base,{_config:null,_engine:null,_getAPI:function(G){var F,E=this._config;switch(G){case"canvas":F=new D.CanvasAPI(E);break;case"vml":F=new D.VMLAPI(E);break;}return F;},circle:function(E){return this.get("engine").circle(E);},rectangle:function(E){return this.get("engine").rectangle(E);}});D.Graphics=B;function A(E){A.superclass.constructor.apply(this,arguments);}A.NAME="canvasAPI";A.ATTRS={parent:{getter:function(){return this._parent;},setter:function(E){if(D.Lang.isString(E)){this._parent=document.getElementById(E);}else{this._parent=E;}return this._parent;}},canvas:{getter:function(){if(!this._canvas){this._setCanvas();}return this._canvas;}},context:{getter:function(){if(!this._context){this._context=this.get("canvas").getContext("2d");}return this._context;}}};D.extend(A,D.Base,{_setCanvas:function(){var E=this.get("parent");this._canvas=document.createElement("canvas");this._canvas.width=parseInt(this._parent.style.width,10)||E.width;this._canvas.height=parseInt(this._parent.style.height,10)||E.height;this._context=this._canvas.getContext("2d");E.appendChild(this._canvas);},_canvas:null,_context:null,circle:function(I){var N=I.x||0,M=I.y||0,J=I.radius,K=I.startAngle||0,F=I.endAngle||360,H=I.anticlockwise||false,L=I.strokeColor,G=I.lineWidth,E=I.fillColor,O=this.get("context");I.startAngle*=(Math.PI/180);I.endAngle*=(Math.PI/180);O.beginPath();O.arc(N+J,M+J,J,K,F,H);if(L){O.lineWidth=G;O.strokeStyle=L;O.stroke();}if(E){O.fillStyle=E;O.fill();}},rectangle:function(G){var L=G.width,H=G.height,K=G.x||0,J=G.y||0,F=G.lineWidth||1,E=G.fillColor,I=G.strokeColor,M=this.get("context");if(E){M.fillStyle=E;M.fillRect(K,J,L,H);}if(I){M.strokeStyle=I;M.lineWidth=F;M.strokeRect(K,J,L,H);}}});D.CanvasAPI=A;function C(E){C.superclass.constructor.apply(this,arguments);}C.NAME="vmlAPI";C.ATTRS={parent:{getter:function(){return this._parent;},setter:function(E){if(D.Lang.isString(E)){this._parent=document.getElementById(E);}else{this._parent=E;}return this._parent;}},canvas:{getter:function(){if(!this._canvas){this._setCanvas();}return this._canvas;}}};D.extend(C,D.Base,{_canvas:null,_setCanvas:function(){var G=this.get("parent"),E=parseInt(G.style.width,10),F=parseInt(G.style.height,10);this._canvas=document.createElement("v:group");this._canvas.setAttribute("id","engine");this._canvas.style.width=E+"px";this._canvas.style.height=F+"px";this._canvas.setAttribute("coordsize",E+" "+F);G.appendChild(this._canvas);},circle:function(J){var E=J.x||0,L=J.y||0,H=J.radius*2,K=J.strokeColor,I=J.lineWidth,G=J.fillColor,F=document.createElement("v:oval");F.setAttribute("strokeweight",I+"px");F.setAttribute("strokecolor",K);F.style.left=E+"px";F.style.top=L+"px";F.style.width=H+"px";F.style.height=H+"px";F.fillcolor=G;this.get("canvas").appendChild(F);},rectangle:function(G){var M=G.width,H=G.height,L=G.x||0,K=G.y||0,F=G.lineWidth||1,E=G.fillColor,I=G.strokeColor,J=document.createElement("v:rect");J.setAttribute("strokeweight",F+"px");J.style.width=M+"px";J.style.height=H+"px";J.style.top=K;J.style.left=L;J.fillcolor=E;J.strokecolor=I;this.get("canvas").appendChild(J);}});D.VMLAPI=C;},"@VERSION@");