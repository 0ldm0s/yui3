YUI.add("scrollbars-plugin",function(B){var A=B.ScrollView.CLASS_NAMES;function C(D){C.superclass.constructor.apply(this,arguments);}C.NAME="scrollbars-plugin";C.NS="scrollbars";C.SCROLLBAR_TEMPLATE=["<div>",'<b class="'+A.child+" "+A.b+'"></b>','<span class="'+A.child+" "+A.middle+'"></span>','<b class="'+A.child+" "+A.b+'"></b>',"</div>"].join("");C.ATTRS={verticalScrollbarNode:{setter:"_setVerticalScrollbarNode",value:B.Node.create(C.SCROLLBAR_TEMPLATE)},horizontalScrollbarNode:{setter:"_setHorizontalScrollbarNode",value:B.Node.create(C.SCROLLBAR_TEMPLATE)}};B.ScrollbarsPlugin=B.extend(C,B.Plugin.Base,{initializer:function(){this.afterHostMethod("renderUI",this._renderScrollbars);this.afterHostMethod("_uiSizeCB",this._renderScrollbars);this.afterHostMethod("_uiScrollY",this._updateScrollbars);this.afterHostMethod("_uiScrollX",this._updateScrollbars);this.doAfter("scroll:end",this.flashScrollbars);},_renderScrollbars:function(D){var F=this.get("host").get("boundingBox"),E=this.get("verticalScrollbarNode"),H=this.get("horizontalScrollbarNode"),G=true;if(this.get("host")._scrollsVertical&&!E.inDoc()){F.append(E);G=false;}if(this.get("host")._scrollsHorizontal&&!H.inDoc()){F.append(H);G=false;}if(!G){this._updateScrollbars();}B.later(500,this,"flashScrollbars",true);},_updateScrollbars:function(G,K,M){var J=this.get("host").get("contentBox"),D=0,G=1,I,P=this.get("host").get("height"),E=this.get("host").get("width"),Q=J.get("scrollHeight"),L=J.get("scrollWidth"),N=this.get("verticalScrollbarNode"),O=this.get("horizontalScrollbarNode"),H=this.get("host").get("scrollX")*-1,F=this.get("host").get("scrollY")*-1;if(!this._showingScrollBars){this.showScrollbars();}if(O&&Q<=P){this.hideScrollbars();return;}if(N){D=Math.floor(P*(P/Q));G=Math.floor((F/(Q-P))*(P-D))*-1;if(D>P){D=1;}I="translate3d(0, "+G+"px, 0)";if(G>(P-D)){D=D-(G-(P-D));}if(G<0){I="translate3d(0,0,0)";D=D+G;}K=K||0;if(this.verticalScrollSize!=(D-8)){this.verticalScrollSize=(D-8);N.get("children").item(1).setStyles({"-webkit-transition-property":(K>0?"-webkit-transform":null),"-webkit-transform":"translate3d(0,0,0) scaleY("+(D-8)+")","-webkit-transition-duration":(K>0?K+"ms":null)});}N.setStyles({"-webkit-transition-property":(K>0?"-webkit-transform":null),"-webkit-transform":I,"-webkit-transition-duration":(K>0?K+"ms":null)});N.get("children").item(2).setStyles({"-webkit-transition-property":(K>0?"-webkit-transform":null),"-webkit-transform":"translate3d(0,"+(D-10)+"px,0)","-webkit-transition-duration":(K>0?K+"ms":null)});}if(O){D=Math.floor(E*(E/L));G=Math.floor((H/(L-E))*(E-D))*-1;if(D>E){D=1;}I="translate3d("+G+"px, 0, 0)";if(G>(E-D)){D=D-(G-(E-D));}if(G<0){I="translate3d(0,0,0)";D=D+G;}K=K||0;if(this.horizontalScrollSize!=(D-16)){this.horizontalScrollSize=(D-16);O.get("children").item(1).setStyles({"-webkit-transition-property":(K>0?"-webkit-transform":null),"-webkit-transform":"translate3d(0,0,0) scaleX("+this.horizontalScrollSize+")","-webkit-transition-duration":(K>0?K+"ms":null)});}O.setStyles({"-webkit-transition-property":(K>0?"-webkit-transform":null),"-webkit-transform":I,"-webkit-transition-duration":K+"ms"});O.get("children").item(2).setStyles({"-webkit-transition-property":(K>0?"-webkit-transform":null),"-webkit-transform":"translate3d("+(D-12)+"px,0,0)","-webkit-transition-duration":(K>0?K+"ms":null)});}},showScrollbars:function(E){var D=this.get("verticalScrollbarNode"),F=this.get("horizontalScrollbarNode");this._showingScrollBars=true;if(this._flashTimer){this._flashTimer.cancel();}if(E){if(D){D.setStyle("-webkit-transition","opacity .6s");}if(F){F.setStyle("-webkit-transition","opacity .6s");}}if(D){D.addClass(A.showing);}if(F){F.addClass(A.showing);}},hideScrollbars:function(E){var D=this.get("verticalScrollbarNode"),F=this.get("horizontalScrollbarNode");this._showingScrollBars=false;if(this._flashTimer){this._flashTimer.cancel();}if(E){if(D){D.setStyle("-webkit-transition","opacity .6s");}if(F){F.setStyle("-webkit-transition","opacity .6s");}}if(D){D.removeClass(A.showing);}if(F){F.removeClass(A.showing);}},flashScrollbars:function(){var D=false;if(this.get("host")._scrollsVertical&&this.get("host").get("contentBox").get("scrollHeight")>this.get("host").get("height")){D=true;}if(this.get("host")._scrollsHorizontal&&this.get("host").get("contentBox").get("scrollWidth")>this.get("host").get("width")){D=true;}if(D){this.showScrollbars(true);this._flashTimer=B.later(800,this,"hideScrollbars",true);}},_setVerticalScrollbarNode:function(D){D=B.one(D);if(D){D.addClass(A.scrollbar);D.addClass(A.vertical);}return D;},_setHorizontalScrollbarNode:function(D){D=B.one(D);if(D){D.addClass(A.scrollbar);D.addClass(A.horizontal);}return D;}});},"@VERSION@",{requires:["plugin"]});