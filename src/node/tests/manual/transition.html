<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head> 
<style> 
#demo {
    background:#ccc;
    width:20px;
    height:20px;
    margin-top:200px;
    position:absolute;
    XX-webkit-transition: width .0001s ease-out;
}
</style> 
<script src="../../../../build/yui/yui.js"></script> 

</head><body> 
<div id="demo">this is a demo</div> 

<script type="text/javascript"> 
 
YUI({filter:'raw'}).use('transition', 'selector-native', 'node-style', function(Y) {
    var node = Y.one('#demo'),
        running = false;

    Y.Node.DOM_EVENTS.WebkitTransitionEnd = true;

    node.on('transition:start', function(e) {
        console.log(e.type);
    });
    node.on('transition:propertyEnd', function(e) {
        console.log(e.type + ': ' + e.propertyName);
        console.log(e.elapsedTime);
    });

    node.on('transition:end', function(e) {
        console.log(e.type);
        console.log(e.elapsedTime);

    });

    node.once('transition:end', function(e) {
        node.transition({
            duration: 1,
            easing: 'ease-in',
            //easing: 'cubic-bezier(0.75, 0.5, 0.25, 0)',
            height: 0,
            width: 0

        });

    });
    /*
    node.on('webkitTransitionEnd', function(e) {
    console.log(arguments);
    }, null, 'bar');
    */

    //node.setStyle('width', '100px');

    document.onclick = function() {
        var style = node._node.style;
        //alert(node._node.offsetWidth);
        if (!running) {
            node.transition({
                duration: 1,
                easing: 'ease-in',
                //easing: 'cubic-bezier(0.75, 0.5, 0.25, 0)',
                height: '200px',
                width: '200px'

            });

            running = true;
        } else {
            // stops native TODO: implement stop for non-native?
            node.setStyle('left', node.getComputedStyle('left'));
        }
    };

    node.setStyle('border', '5px solid green');
});
 
</script> 
</body></html> 
