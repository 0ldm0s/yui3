<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <title>Loader Intl Order Test</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
    <script src="../../../../build/yui/yui.js"></script>
    <script>
        // WORKS OK
        YUI({filter:"raw"}).use("datatype-date", function(Y) {
            Y.log("use datatype-date directly (works fine):" + Y.DataType.Date.format(new Date(), {format:"%e %b"}));
        });

        // DOESN'T WORK. Seems like "intl" is coming in too late, after the lang pack 
        YUI({
            filter:"raw",
            modules : {
                mymod: {
                    type : "js",
                    fullpath : "mymod.js",
                    requires: ["datatype-date"]
                }
            }

        }).use(/* FIXES THE ISSUE: "datatype-date",*/ "mymod", function(Y) {
            Y.log("module which requires datatype-date:" + Y.MyMod.formatDate());
        });
    </script>
</body>
</html>
